(function (c) { Array.prototype.map || (Array.prototype.map = function (i, s) { var b, r, l; if (null == this) { throw new TypeError(" this is null or not defined") } var o = Object(this), a = o.length >>> 0; if ("function" != typeof i) { throw new TypeError(i + " is not a function") } for (s && (b = s), r = Array(a), l = 0; a > l;) { var n, e; l in o && (n = o[l], e = i.call(b, n, l, o), r[l] = e), l++ } return r }); var d = c.detect = function () { var e = function () { }, r = { browser_parsers: [{ regex: "^(Opera)/(\\d+)\\.(\\d+) \\(Nintendo Wii", family_replacement: "Wii", manufacturer: "Nintendo" }, { regex: "(SeaMonkey|Camino)/(\\d+)\\.(\\d+)\\.?([ab]?\\d+[a-z]*)", family_replacement: "Camino", other: !0 }, { regex: "(Pale[Mm]oon)/(\\d+)\\.(\\d+)\\.?(\\d+)?", family_replacement: "Pale Moon (Firefox Variant)", other: !0 }, { regex: "(Fennec)/(\\d+)\\.(\\d+)\\.?([ab]?\\d+[a-z]*)", family_replacement: "Firefox Mobile" }, { regex: "(Fennec)/(\\d+)\\.(\\d+)(pre)", family_replacment: "Firefox Mobile" }, { regex: "(Fennec)/(\\d+)\\.(\\d+)", family_replacement: "Firefox Mobile" }, { regex: "Mobile.*(Firefox)/(\\d+)\\.(\\d+)", family_replacement: "Firefox Mobile" }, { regex: "(Namoroka|Shiretoko|Minefield)/(\\d+)\\.(\\d+)\\.(\\d+(?:pre)?)", family_replacement: "Firefox ($1)" }, { regex: "(Firefox)/(\\d+)\\.(\\d+)(a\\d+[a-z]*)", family_replacement: "Firefox Alpha" }, { regex: "(Firefox)/(\\d+)\\.(\\d+)(b\\d+[a-z]*)", family_replacement: "Firefox Beta" }, { regex: "(Firefox)-(?:\\d+\\.\\d+)?/(\\d+)\\.(\\d+)(a\\d+[a-z]*)", family_replacement: "Firefox Alpha" }, { regex: "(Firefox)-(?:\\d+\\.\\d+)?/(\\d+)\\.(\\d+)(b\\d+[a-z]*)", family_replacement: "Firefox Beta" }, { regex: "(Namoroka|Shiretoko|Minefield)/(\\d+)\\.(\\d+)([ab]\\d+[a-z]*)?", family_replacement: "Firefox ($1)" }, { regex: "(Firefox).*Tablet browser (\\d+)\\.(\\d+)\\.(\\d+)", family_replacement: "MicroB", tablet: !0 }, { regex: "(MozillaDeveloperPreview)/(\\d+)\\.(\\d+)([ab]\\d+[a-z]*)?" }, { regex: "(Flock)/(\\d+)\\.(\\d+)(b\\d+?)", family_replacement: "Flock", other: !0 }, { regex: "(RockMelt)/(\\d+)\\.(\\d+)\\.(\\d+)", family_replacement: "Rockmelt", other: !0 }, { regex: "(Navigator)/(\\d+)\\.(\\d+)\\.(\\d+)", family_replacement: "Netscape" }, { regex: "(Navigator)/(\\d+)\\.(\\d+)([ab]\\d+)", family_replacement: "Netscape" }, { regex: "(Netscape6)/(\\d+)\\.(\\d+)\\.(\\d+)", family_replacement: "Netscape" }, { regex: "(MyIBrow)/(\\d+)\\.(\\d+)", family_replacement: "My Internet Browser", other: !0 }, { regex: "(Opera Tablet).*Version/(\\d+)\\.(\\d+)(?:\\.(\\d+))?", family_replacement: "Opera Tablet", tablet: !0 }, { regex: "(Opera)/.+Opera Mobi.+Version/(\\d+)\\.(\\d+)", family_replacement: "Opera Mobile" }, { regex: "Opera Mobi", family_replacement: "Opera Mobile" }, { regex: "(Opera Mini)/(\\d+)\\.(\\d+)", family_replacement: "Opera Mini" }, { regex: "(Opera Mini)/att/(\\d+)\\.(\\d+)", family_replacement: "Opera Mini" }, { regex: "(Opera)/9.80.*Version/(\\d+)\\.(\\d+)(?:\\.(\\d+))?", family_replacement: "Opera" }, { regex: "(webOSBrowser)/(\\d+)\\.(\\d+)", family_replacement: "webOS" }, { regex: "(webOS)/(\\d+)\\.(\\d+)", family_replacement: "webOS" }, { regex: "(wOSBrowser).+TouchPad/(\\d+)\\.(\\d+)", family_replacement: "webOS TouchPad" }, { regex: "(luakit)", family_replacement: "LuaKit", other: !0 }, { regex: "(Lightning)/(\\d+)\\.(\\d+)([ab]?\\d+[a-z]*)", family_replacement: "Lightning", other: !0 }, { regex: "(Firefox)/(\\d+)\\.(\\d+)\\.(\\d+(?:pre)?) \\(Swiftfox\\)", family_replacement: "Swiftfox", other: !0 }, { regex: "(Firefox)/(\\d+)\\.(\\d+)([ab]\\d+[a-z]*)? \\(Swiftfox\\)", family_replacement: "Swiftfox", other: !0 }, { regex: "rekonq", family_replacement: "Rekonq", other: !0 }, { regex: "(conkeror|Conkeror)/(\\d+)\\.(\\d+)\\.?(\\d+)?", family_replacement: "Conkeror", other: !0 }, { regex: "(konqueror)/(\\d+)\\.(\\d+)\\.(\\d+)", family_replacement: "Konqueror", other: !0 }, { regex: "(WeTab)-Browser", family_replacement: "WeTab", other: !0 }, { regex: "(Comodo_Dragon)/(\\d+)\\.(\\d+)\\.(\\d+)", family_replacement: "Comodo Dragon", other: !0 }, { regex: "(YottaaMonitor)", family_replacement: "Yottaa Monitor", other: !0 }, { regex: "(Kindle)/(\\d+)\\.(\\d+)", family_replacement: "Kindle" }, { regex: "(Symphony) (\\d+).(\\d+)", family_replacement: "Symphony", other: !0 }, { regex: "Minimo", family_replacement: "Minimo", other: !0 }, { regex: "(CrMo)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)", family_replacement: "Chrome Mobile" }, { regex: "(CriOS)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)", family_replacement: "Chrome Mobile iOS" }, { regex: "(Chrome)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+) Mobile", family_replacement: "Chrome Mobile" }, { regex: "(chromeframe)/(\\d+)\\.(\\d+)\\.(\\d+)", family_replacement: "Chrome Frame" }, { regex: "(UC Browser)(\\d+)\\.(\\d+)\\.(\\d+)", family_replacement: "UC Browser", other: !0 }, { regex: "(SLP Browser)/(\\d+)\\.(\\d+)", family_replacement: "Tizen Browser", other: !0 }, { regex: "(Epiphany)/(\\d+)\\.(\\d+).(\\d+)", family_replacement: "Epiphany", other: !0 }, { regex: "(SE 2\\.X) MetaSr (\\d+)\\.(\\d+)", family_replacement: "Sogou Explorer", other: !0 }, { regex: "(Pingdom.com_bot_version_)(\\d+)\\.(\\d+)", family_replacement: "PingdomBot", other: !0 }, { regex: "(facebookexternalhit)/(\\d+)\\.(\\d+)", family_replacement: "FacebookBot" }, { regex: "(Twitterbot)/(\\d+)\\.(\\d+)", family_replacement: "TwitterBot" }, { regex: "(AdobeAIR|Chromium|FireWeb|Jasmine|ANTGalio|Midori|Fresco|Lobo|PaleMoon|Maxthon|Lynx|OmniWeb|Dillo|Camino|Demeter|Fluid|Fennec|Shiira|Sunrise|Chrome|Flock|Netscape|Lunascape|WebPilot|NetFront|Netfront|Konqueror|SeaMonkey|Kazehakase|Vienna|Iceape|Iceweasel|IceWeasel|Iron|K-Meleon|Sleipnir|Galeon|GranParadiso|Opera Mini|iCab|NetNewsWire|ThunderBrowse|Iron|Iris|UP\\.Browser|Bunjaloo|Google Earth|Raven for Mac)/(\\d+)\\.(\\d+)\\.(\\d+)" }, { regex: "(Bolt|Jasmine|IceCat|Skyfire|Midori|Maxthon|Lynx|Arora|IBrowse|Dillo|Camino|Shiira|Fennec|Phoenix|Chrome|Flock|Netscape|Lunascape|Epiphany|WebPilot|Opera Mini|Opera|NetFront|Netfront|Konqueror|Googlebot|SeaMonkey|Kazehakase|Vienna|Iceape|Iceweasel|IceWeasel|Iron|K-Meleon|Sleipnir|Galeon|GranParadiso|iCab|NetNewsWire|Iron|Space Bison|Stainless|Orca|Dolfin|BOLT|Minimo|Tizen Browser|Polaris)/(\\d+)\\.(\\d+)" }, { regex: "(iRider|Crazy Browser|SkipStone|iCab|Lunascape|Sleipnir|Maemo Browser) (\\d+)\\.(\\d+)\\.(\\d+)" }, { regex: "(iCab|Lunascape|Opera|Android|Jasmine|Polaris|BREW) (\\d+)\\.(\\d+)\\.?(\\d+)?" }, { regex: "(Android) Donut", v2_replacement: "2", v1_replacement: "1" }, { regex: "(Android) Eclair", v2_replacement: "1", v1_replacement: "2" }, { regex: "(Android) Froyo", v2_replacement: "2", v1_replacement: "2" }, { regex: "(Android) Gingerbread", v2_replacement: "3", v1_replacement: "2" }, { regex: "(Android) Honeycomb", v1_replacement: "3" }, { regex: "(IEMobile)[ /](\\d+)\\.(\\d+)", family_replacement: "IE Mobile" }, { regex: "(MSIE) (\\d+)\\.(\\d+).*XBLWP7", family_replacement: "IE Large Screen" }, { regex: "(Firefox)/(\\d+)\\.(\\d+)\\.(\\d+)" }, { regex: "(Firefox)/(\\d+)\\.(\\d+)(pre|[ab]\\d+[a-z]*)?" }, { regex: "(Obigo)InternetBrowser", other: !0 }, { regex: "(Obigo)\\-Browser", other: !0 }, { regex: "(Obigo|OBIGO)[^\\d]*(\\d+)(?:.(\\d+))?", other: !0 }, { regex: "(MAXTHON|Maxthon) (\\d+)\\.(\\d+)", family_replacement: "Maxthon", other: !0 }, { regex: "(Maxthon|MyIE2|Uzbl|Shiira)", v1_replacement: "0", other: !0 }, { regex: "(PLAYSTATION) (\\d+)", family_replacement: "PlayStation", manufacturer: "Sony" }, { regex: "(PlayStation Portable)[^\\d]+(\\d+).(\\d+)", manufacturer: "Sony" }, { regex: "(BrowseX) \\((\\d+)\\.(\\d+)\\.(\\d+)", other: !0 }, { regex: "(POLARIS)/(\\d+)\\.(\\d+)", family_replacement: "Polaris", other: !0 }, { regex: "(Embider)/(\\d+)\\.(\\d+)", family_replacement: "Polaris", other: !0 }, { regex: "(BonEcho)/(\\d+)\\.(\\d+)\\.(\\d+)", family_replacement: "Bon Echo", other: !0 }, { regex: "(iPod).+Version/(\\d+)\\.(\\d+)\\.(\\d+)", family_replacement: "Mobile Safari", manufacturer: "Apple" }, { regex: "(iPod).*Version/(\\d+)\\.(\\d+)", family_replacement: "Mobile Safari", manufacturer: "Apple" }, { regex: "(iPod)", family_replacement: "Mobile Safari", manufacturer: "Apple" }, { regex: "(iPhone).*Version/(\\d+)\\.(\\d+)\\.(\\d+)", family_replacement: "Mobile Safari", manufacturer: "Apple" }, { regex: "(iPhone).*Version/(\\d+)\\.(\\d+)", family_replacement: "Mobile Safari", manufacturer: "Apple" }, { regex: "(iPhone)", family_replacement: "Mobile Safari", manufacturer: "Apple" }, { regex: "(iPad).*Version/(\\d+)\\.(\\d+)\\.(\\d+)", family_replacement: "Mobile Safari", tablet: !0, manufacturer: "Apple" }, { regex: "(iPad).*Version/(\\d+)\\.(\\d+)", family_replacement: "Mobile Safari", tablet: !0, manufacturer: "Apple" }, { regex: "(iPad)", family_replacement: "Mobile Safari", tablet: !0, manufacturer: "Apple" }, { regex: "(AvantGo) (\\d+).(\\d+)", other: !0 }, { regex: "(Avant)", v1_replacement: "1", other: !0 }, { regex: "^(Nokia)", family_replacement: "Nokia Services (WAP) Browser", manufacturer: "Nokia" }, { regex: "(NokiaBrowser)/(\\d+)\\.(\\d+).(\\d+)\\.(\\d+)", manufacturer: "Nokia" }, { regex: "(NokiaBrowser)/(\\d+)\\.(\\d+).(\\d+)", manufacturer: "Nokia" }, { regex: "(NokiaBrowser)/(\\d+)\\.(\\d+)", manufacturer: "Nokia" }, { regex: "(BrowserNG)/(\\d+)\\.(\\d+).(\\d+)", family_replacement: "NokiaBrowser", manufacturer: "Nokia" }, { regex: "(Series60)/5\\.0", v2_replacement: "0", v1_replacement: "7", family_replacement: "NokiaBrowser", manufacturer: "Nokia" }, { regex: "(Series60)/(\\d+)\\.(\\d+)", family_replacement: "Nokia OSS Browser", manufacturer: "Nokia" }, { regex: "(S40OviBrowser)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)", family_replacement: "Nokia Series 40 Ovi Browser", manufacturer: "Nokia" }, { regex: "(Nokia)[EN]?(\\d+)", manufacturer: "Nokia" }, { regex: "(PlayBook).+RIM Tablet OS (\\d+)\\.(\\d+)\\.(\\d+)", family_replacement: "Blackberry WebKit", tablet: !0, manufacturer: "Nokia" }, { regex: "(Black[bB]erry).+Version/(\\d+)\\.(\\d+)\\.(\\d+)", family_replacement: "Blackberry WebKit", manufacturer: "RIM" }, { regex: "(Black[bB]erry)\\s?(\\d+)", family_replacement: "Blackberry", manufacturer: "RIM" }, { regex: "(OmniWeb)/v(\\d+)\\.(\\d+)", other: !0 }, { regex: "(Blazer)/(\\d+)\\.(\\d+)", family_replacement: "Palm Blazer", manufacturer: "Palm" }, { regex: "(Pre)/(\\d+)\\.(\\d+)", family_replacement: "Palm Pre", manufacturer: "Palm" }, { regex: "(Links) \\((\\d+)\\.(\\d+)", other: !0 }, { regex: "(QtWeb) Internet Browser/(\\d+)\\.(\\d+)", other: !0 }, { regex: "(Silk)/(\\d+)\\.(\\d+)(?:\\.([0-9\\-]+))?", other: !0, tablet: !0 }, { regex: "(AppleWebKit)/(\\d+)\\.?(\\d+)?\\+ .* Version/\\d+\\.\\d+.\\d+ Safari/", family_replacement: "WebKit Nightly" }, { regex: "(Version)/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari/", family_replacement: "Safari" }, { regex: "(Safari)/\\d+" }, { regex: "(OLPC)/Update(\\d+)\\.(\\d+)", other: !0 }, { regex: "(OLPC)/Update()\\.(\\d+)", v1_replacement: "0", other: !0 }, { regex: "(SEMC\\-Browser)/(\\d+)\\.(\\d+)", other: !0 }, { regex: "(Teleca)", family_replacement: "Teleca Browser", other: !0 }, { regex: "Trident(.*)rv.(\\d+)\\.(\\d+)", family_replacement: "IE" }, { regex: "(MSIE) (\\d+)\\.(\\d+)", family_replacement: "IE" }], os_parsers: [{ regex: "(Android) (\\d+)\\.(\\d+)(?:[.\\-]([a-z0-9]+))?" }, { regex: "(Android)\\-(\\d+)\\.(\\d+)(?:[.\\-]([a-z0-9]+))?" }, { regex: "(Android) Donut", os_v2_replacement: "2", os_v1_replacement: "1" }, { regex: "(Android) Eclair", os_v2_replacement: "1", os_v1_replacement: "2" }, { regex: "(Android) Froyo", os_v2_replacement: "2", os_v1_replacement: "2" }, { regex: "(Android) Gingerbread", os_v2_replacement: "3", os_v1_replacement: "2" }, { regex: "(Android) Honeycomb", os_v1_replacement: "3" }, { regex: "(Silk-Accelerated=[a-z]{4,5})", os_replacement: "Android" }, { regex: "(Windows Phone 6\\.5)" }, { regex: "(Windows (?:NT 5\\.2|NT 5\\.1))", os_replacement: "Windows XP" }, { regex: "(XBLWP7)", os_replacement: "Windows Phone OS" }, { regex: "(Windows NT 6\\.1)", os_replacement: "Windows 7" }, { regex: "(Windows NT 6\\.0)", os_replacement: "Windows Vista" }, { regex: "(Windows 98|Windows XP|Windows ME|Windows 95|Windows CE|Windows 7|Windows NT 4\\.0|Windows Vista|Windows 2000)" }, { regex: "(Windows NT 6\\.2)", os_replacement: "Windows 8" }, { regex: "(Windows Phone 8)", os_replacement: "Windows Phone 8" }, { regex: "(Windows NT 5\\.0)", os_replacement: "Windows 2000" }, { regex: "(Windows Phone OS) (\\d+)\\.(\\d+)" }, { regex: "(Windows ?Mobile)", os_replacement: "Windows Mobile" }, { regex: "(WinNT4.0)", os_replacement: "Windows NT 4.0" }, { regex: "(Win98)", os_replacement: "Windows 98" }, { regex: "(Tizen)/(\\d+)\\.(\\d+)", other: !0 }, { regex: "(Mac OS X) (\\d+)[_.](\\d+)(?:[_.](\\d+))?", manufacturer: "Apple" }, { regex: "(?:PPC|Intel) (Mac OS X)", manufacturer: "Apple" }, { regex: "(CPU OS|iPhone OS) (\\d+)_(\\d+)(?:_(\\d+))?", os_replacement: "iOS", manufacturer: "Apple" }, { regex: "(iPhone|iPad|iPod); Opera", os_replacement: "iOS", manufacturer: "Apple" }, { regex: "(iPad); Opera", tablet: !0, manufacturer: "Apple" }, { regex: "(iPhone|iPad|iPod).*Mac OS X.*Version/(\\d+)\\.(\\d+)", os_replacement: "iOS", manufacturer: "Apple" }, { regex: "(CrOS) [a-z0-9_]+ (\\d+)\\.(\\d+)(?:\\.(\\d+))?", os_replacement: "Chrome OS" }, { regex: "(Debian)-(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?", other: !0 }, { regex: "(Linux Mint)(?:/(\\d+))?", other: !0 }, { regex: "(Mandriva)(?: Linux)?/(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?", other: !0 }, { regex: "(Symbian[Oo][Ss])/(\\d+)\\.(\\d+)", os_replacement: "Symbian OS" }, { regex: "(Symbian/3).+NokiaBrowser/7\\.3", os_replacement: "Symbian^3 Anna" }, { regex: "(Symbian/3).+NokiaBrowser/7\\.4", os_replacement: "Symbian^3 Belle" }, { regex: "(Symbian/3)", os_replacement: "Symbian^3" }, { regex: "(Series 60|SymbOS|S60)", os_replacement: "Symbian OS" }, { regex: "(MeeGo)", other: !0 }, { regex: "Symbian [Oo][Ss]", os_replacement: "Symbian OS" }, { regex: "(Black[Bb]erry)[0-9a-z]+/(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?", os_replacement: "BlackBerry OS", manufacturer: "RIM" }, { regex: "(Black[Bb]erry).+Version/(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?", os_replacement: "BlackBerry OS", manufacturer: "RIM" }, { regex: "(RIM Tablet OS) (\\d+)\\.(\\d+)\\.(\\d+)", os_replacement: "BlackBerry Tablet OS", tablet: !0, manufacturer: "RIM" }, { regex: "(Play[Bb]ook)", os_replacement: "BlackBerry Tablet OS", tablet: !0, manufacturer: "RIM" }, { regex: "(Black[Bb]erry)", os_replacement: "Blackberry OS", manufacturer: "RIM" }, { regex: "(webOS|hpwOS)/(\\d+)\\.(\\d+)(?:\\.(\\d+))?", os_replacement: "webOS" }, { regex: "(SUSE|Fedora|Red Hat|PCLinuxOS)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)", other: !0 }, { regex: "(SUSE|Fedora|Red Hat|Puppy|PCLinuxOS|CentOS)/(\\d+)\\.(\\d+)\\.(\\d+)", other: !0 }, { regex: "(Ubuntu|Kindle|Bada|Lubuntu|BackTrack|Red Hat|Slackware)/(\\d+)\\.(\\d+)" }, { regex: "(Windows|OpenBSD|FreeBSD|NetBSD|Ubuntu|Kubuntu|Android|Arch Linux|CentOS|WeTab|Slackware)" }, { regex: "(Linux|BSD)", other: !0 }], mobile_os_families: ["Windows Phone 6.5", "Windows CE", "Symbian OS"], device_parsers: [{ regex: "HTC ([A-Z][a-z0-9]+) Build", device_replacement: "HTC $1", manufacturer: "HTC" }, { regex: "HTC ([A-Z][a-z0-9 ]+) \\d+\\.\\d+\\.\\d+\\.\\d+", device_replacement: "HTC $1", manufacturer: "HTC" }, { regex: "HTC_Touch_([A-Za-z0-9]+)", device_replacement: "HTC Touch ($1)", manufacturer: "HTC" }, { regex: "USCCHTC(\\d+)", device_replacement: "HTC $1 (US Cellular)", manufacturer: "HTC" }, { regex: "Sprint APA(9292)", device_replacement: "HTC $1 (Sprint)", manufacturer: "HTC" }, { regex: "HTC ([A-Za-z0-9]+ [A-Z])", device_replacement: "HTC $1", manufacturer: "HTC" }, { regex: "HTC-([A-Za-z0-9]+)", device_replacement: "HTC $1", manufacturer: "HTC" }, { regex: "HTC_([A-Za-z0-9]+)", device_replacement: "HTC $1", manufacturer: "HTC" }, { regex: "HTC ([A-Za-z0-9]+)", device_replacement: "HTC $1", manufacturer: "HTC" }, { regex: "(ADR[A-Za-z0-9]+)", device_replacement: "HTC $1", manufacturer: "HTC" }, { regex: "(HTC)", manufacturer: "HTC" }, { regex: "SonyEricsson([A-Za-z0-9]+)/", device_replacement: "Ericsson $1", other: !0, manufacturer: "Sony" }, { regex: "Android[\\- ][\\d]+\\.[\\d]+\\; [A-Za-z]{2}\\-[A-Za-z]{2}\\; WOWMobile (.+) Build" }, { regex: "Android[\\- ][\\d]+\\.[\\d]+\\.[\\d]+; [A-Za-z]{2}\\-[A-Za-z]{2}\\; (.+) Build" }, { regex: "Android[\\- ][\\d]+\\.[\\d]+\\-update1\\; [A-Za-z]{2}\\-[A-Za-z]{2}\\; (.+) Build" }, { regex: "Android[\\- ][\\d]+\\.[\\d]+\\; [A-Za-z]{2}\\-[A-Za-z]{2}\\; (.+) Build" }, { regex: "Android[\\- ][\\d]+\\.[\\d]+\\.[\\d]+; (.+) Build" }, { regex: "NokiaN([0-9]+)", device_replacement: "Nokia N$1", manufacturer: "Nokia" }, { regex: "Nokia([A-Za-z0-9\\v-]+)", device_replacement: "Nokia $1", manufacturer: "Nokia" }, { regex: "NOKIA ([A-Za-z0-9\\-]+)", device_replacement: "Nokia $1", manufacturer: "Nokia" }, { regex: "Nokia ([A-Za-z0-9\\-]+)", device_replacement: "Nokia $1", manufacturer: "Nokia" }, { regex: "Lumia ([A-Za-z0-9\\-]+)", device_replacement: "Lumia $1", manufacturer: "Nokia" }, { regex: "Symbian", device_replacement: "Nokia", manufacturer: "Nokia" }, { regex: "(PlayBook).+RIM Tablet OS", device_replacement: "Blackberry Playbook", tablet: !0, manufacturer: "RIM" }, { regex: "(Black[Bb]erry [0-9]+);", manufacturer: "RIM" }, { regex: "Black[Bb]erry([0-9]+)", device_replacement: "BlackBerry $1", manufacturer: "RIM" }, { regex: "(Pre)/(\\d+)\\.(\\d+)", device_replacement: "Palm Pre", manufacturer: "Palm" }, { regex: "(Pixi)/(\\d+)\\.(\\d+)", device_replacement: "Palm Pixi", manufacturer: "Palm" }, { regex: "(Touchpad)/(\\d+)\\.(\\d+)", device_replacement: "HP Touchpad", manufacturer: "HP" }, { regex: "HPiPAQ([A-Za-z0-9]+)/(\\d+).(\\d+)", device_replacement: "HP iPAQ $1", manufacturer: "HP" }, { regex: "Palm([A-Za-z0-9]+)", device_replacement: "Palm $1", manufacturer: "Palm" }, { regex: "Treo([A-Za-z0-9]+)", device_replacement: "Palm Treo $1", manufacturer: "Palm" }, { regex: "webOS.*(P160UNA)/(\\d+).(\\d+)", device_replacement: "HP Veer", manufacturer: "HP" }, { regex: "(Kindle Fire)", manufacturer: "Amazon" }, { regex: "(Kindle)", manufacturer: "Amazon" }, { regex: "(Silk)/(\\d+)\\.(\\d+)(?:\\.([0-9\\-]+))?", device_replacement: "Kindle Fire", tablet: !0, manufacturer: "Amazon" }, { regex: "(iPad) Simulator;", manufacturer: "Apple" }, { regex: "(iPad);", manufacturer: "Apple" }, { regex: "(iPod);", manufacturer: "Apple" }, { regex: "(iPhone) Simulator;", manufacturer: "Apple" }, { regex: "(iPhone);", manufacturer: "Apple" }, { regex: "Nexus\\ ([A-Za-z0-9\\-]+)", device_replacement: "Nexus $1" }, { regex: "acer_([A-Za-z0-9]+)_", device_replacement: "Acer $1", manufacturer: "Acer" }, { regex: "acer_([A-Za-z0-9]+)_", device_replacement: "Acer $1", manufacturer: "Acer" }, { regex: "Amoi\\-([A-Za-z0-9]+)", device_replacement: "Amoi $1", other: !0, manufacturer: "Amoi" }, { regex: "AMOI\\-([A-Za-z0-9]+)", device_replacement: "Amoi $1", other: !0, manufacturer: "Amoi" }, { regex: "Asus\\-([A-Za-z0-9]+)", device_replacement: "Asus $1", manufacturer: "Asus" }, { regex: "ASUS\\-([A-Za-z0-9]+)", device_replacement: "Asus $1", manufacturer: "Asus" }, { regex: "BIRD\\-([A-Za-z0-9]+)", device_replacement: "Bird $1", other: !0 }, { regex: "BIRD\\.([A-Za-z0-9]+)", device_replacement: "Bird $1", other: !0 }, { regex: "BIRD ([A-Za-z0-9]+)", device_replacement: "Bird $1", other: !0 }, { regex: "Dell ([A-Za-z0-9]+)", device_replacement: "Dell $1", manufacturer: "Dell" }, { regex: "DoCoMo/2\\.0 ([A-Za-z0-9]+)", device_replacement: "DoCoMo $1", other: !0 }, { regex: "([A-Za-z0-9]+)\\_W\\;FOMA", device_replacement: "DoCoMo $1", other: !0 }, { regex: "([A-Za-z0-9]+)\\;FOMA", device_replacement: "DoCoMo $1", other: !0 }, { regex: "vodafone([A-Za-z0-9]+)", device_replacement: "Huawei Vodafone $1", other: !0 }, { regex: "i\\-mate ([A-Za-z0-9]+)", device_replacement: "i-mate $1", other: !0 }, { regex: "Kyocera\\-([A-Za-z0-9]+)", device_replacement: "Kyocera $1", other: !0 }, { regex: "KWC\\-([A-Za-z0-9]+)", device_replacement: "Kyocera $1", other: !0 }, { regex: "Lenovo\\-([A-Za-z0-9]+)", device_replacement: "Lenovo $1", manufacturer: "Lenovo" }, { regex: "Lenovo\\_([A-Za-z0-9]+)", device_replacement: "Lenovo $1", manufacturer: "Levovo" }, { regex: "LG/([A-Za-z0-9]+)", device_replacement: "LG $1", manufacturer: "LG" }, { regex: "LG-LG([A-Za-z0-9]+)", device_replacement: "LG $1", manufacturer: "LG" }, { regex: "LGE-LG([A-Za-z0-9]+)", device_replacement: "LG $1", manufacturer: "LG" }, { regex: "LGE VX([A-Za-z0-9]+)", device_replacement: "LG $1", manufacturer: "LG" }, { regex: "LG ([A-Za-z0-9]+)", device_replacement: "LG $1", manufacturer: "LG" }, { regex: "LGE LG\\-AX([A-Za-z0-9]+)", device_replacement: "LG $1", manufacturer: "LG" }, { regex: "LG\\-([A-Za-z0-9]+)", device_replacement: "LG $1", manufacturer: "LG" }, { regex: "LGE\\-([A-Za-z0-9]+)", device_replacement: "LG $1", manufacturer: "LG" }, { regex: "LG([A-Za-z0-9]+)", device_replacement: "LG $1", manufacturer: "LG" }, { regex: "(KIN)\\.One (\\d+)\\.(\\d+)", device_replacement: "Microsoft $1" }, { regex: "(KIN)\\.Two (\\d+)\\.(\\d+)", device_replacement: "Microsoft $1" }, { regex: "(Motorola)\\-([A-Za-z0-9]+)", manufacturer: "Motorola" }, { regex: "MOTO\\-([A-Za-z0-9]+)", device_replacement: "Motorola $1", manufacturer: "Motorola" }, { regex: "MOT\\-([A-Za-z0-9]+)", device_replacement: "Motorola $1", manufacturer: "Motorola" }, { regex: "Philips([A-Za-z0-9]+)", device_replacement: "Philips $1", manufacturer: "Philips" }, { regex: "Philips ([A-Za-z0-9]+)", device_replacement: "Philips $1", manufacturer: "Philips" }, { regex: "SAMSUNG-([A-Za-z0-9\\-]+)", device_replacement: "Samsung $1", manufacturer: "Samsung" }, { regex: "SAMSUNG\\; ([A-Za-z0-9\\-]+)", device_replacement: "Samsung $1", manufacturer: "Samsung" }, { regex: "Softbank/1\\.0/([A-Za-z0-9]+)", device_replacement: "Softbank $1", other: !0 }, { regex: "Softbank/2\\.0/([A-Za-z0-9]+)", device_replacement: "Softbank $1", other: !0 }, { regex: "(hiptop|avantgo|plucker|xiino|blazer|elaine|up.browser|up.link|mmp|smartphone|midp|wap|vodafone|o2|pocket|mobile|pda)", device_replacement: "Generic Smartphone" }, { regex: "^(1207|3gso|4thp|501i|502i|503i|504i|505i|506i|6310|6590|770s|802s|a wa|acer|acs\\-|airn|alav|asus|attw|au\\-m|aur |aus |abac|acoo|aiko|alco|alca|amoi|anex|anny|anyw|aptu|arch|argo|bell|bird|bw\\-n|bw\\-u|beck|benq|bilb|blac|c55/|cdm\\-|chtm|capi|comp|cond|craw|dall|dbte|dc\\-s|dica|ds\\-d|ds12|dait|devi|dmob|doco|dopo|el49|erk0|esl8|ez40|ez60|ez70|ezos|ezze|elai|emul|eric|ezwa|fake|fly\\-|fly\\_|g\\-mo|g1 u|g560|gf\\-5|grun|gene|go.w|good|grad|hcit|hd\\-m|hd\\-p|hd\\-t|hei\\-|hp i|hpip|hs\\-c|htc |htc\\-|htca|htcg)", device_replacement: "Generic Feature Phone" }, { regex: "^(htcp|htcs|htct|htc\\_|haie|hita|huaw|hutc|i\\-20|i\\-go|i\\-ma|i230|iac|iac\\-|iac/|ig01|im1k|inno|iris|jata|java|kddi|kgt|kgt/|kpt |kwc\\-|klon|lexi|lg g|lg\\-a|lg\\-b|lg\\-c|lg\\-d|lg\\-f|lg\\-g|lg\\-k|lg\\-l|lg\\-m|lg\\-o|lg\\-p|lg\\-s|lg\\-t|lg\\-u|lg\\-w|lg/k|lg/l|lg/u|lg50|lg54|lge\\-|lge/|lynx|leno|m1\\-w|m3ga|m50/|maui|mc01|mc21|mcca|medi|meri|mio8|mioa|mo01|mo02|mode|modo|mot |mot\\-|mt50|mtp1|mtv |mate|maxo|merc|mits|mobi|motv|mozz|n100|n101|n102|n202|n203|n300|n302|n500|n502|n505|n700|n701|n710|nec\\-|nem\\-|newg|neon)", device_replacement: "Generic Feature Phone" }, { regex: "^(netf|noki|nzph|o2 x|o2\\-x|opwv|owg1|opti|oran|ot\\-s|p800|pand|pg\\-1|pg\\-2|pg\\-3|pg\\-6|pg\\-8|pg\\-c|pg13|phil|pn\\-2|pt\\-g|palm|pana|pire|pock|pose|psio|qa\\-a|qc\\-2|qc\\-3|qc\\-5|qc\\-7|qc07|qc12|qc21|qc32|qc60|qci\\-|qwap|qtek|r380|r600|raks|rim9|rove|s55/|sage|sams|sc01|sch\\-|scp\\-|sdk/|se47|sec\\-|sec0|sec1|semc|sgh\\-|shar|sie\\-|sk\\-0|sl45|slid|smb3|smt5|sp01|sph\\-|spv |spv\\-|sy01|samm|sany|sava|scoo|send|siem|smar|smit|soft|sony|t\\-mo|t218|t250|t600|t610|t618|tcl\\-|tdg\\-|telm|tim\\-|ts70|tsm\\-|tsm3|tsm5|tx\\-9|tagt)", device_replacement: "Generic Feature Phone" }, { regex: "^(talk|teli|topl|tosh|up.b|upg1|utst|v400|v750|veri|vk\\-v|vk40|vk50|vk52|vk53|vm40|vx98|virg|vite|voda|vulc|w3c |w3c\\-|wapj|wapp|wapu|wapm|wig |wapi|wapr|wapv|wapy|wapa|waps|wapt|winc|winw|wonu|x700|xda2|xdag|yas\\-|your|zte\\-|zeto|aste|audi|avan|blaz|brew|brvw|bumb|ccwa|cell|cldc|cmd\\-|dang|eml2|fetc|hipt|http|ibro|idea|ikom|ipaq|jbro|jemu|jigs|keji|kyoc|kyok|libw|m\\-cr|midp|mmef|moto|mwbp|mywa|newt|nok6|o2im|pant|pdxg|play|pluc|port|prox|rozo|sama|seri|smal|symb|treo|upsi|vx52|vx53|vx60|vx61|vx70|vx80|vx81|vx83|vx85|wap\\-|webc|whit|wmlb|xda\\-|xda\\_)", device_replacement: "Generic Feature Phone" }, { regex: "(bot|borg|google(^tv)|yahoo|slurp|msnbot|msrbot|openbot|archiver|netresearch|lycos|scooter|altavista|teoma|gigabot|baiduspider|blitzbot|oegp|charlotte|furlbot|http%20client|polybot|htdig|ichiro|mogimogi|larbin|pompos|scrubby|searchsight|seekbot|semanticdiscovery|silk|snappy|speedy|spider|voila|vortex|voyager|zao|zeal|fast\\-webcrawler|converacrawler|dataparksearch|findlinks)", device_replacement: "Spider" }], mobile_browser_families: ["Firefox Mobile", "Opera Mobile", "Opera Mini", "Mobile Safari", "webOS", "IE Mobile", "Playstation Portable", "Nokia", "Blackberry", "Palm", "Silk", "Android", "Maemo", "Obigo", "Netfront", "AvantGo", "Teleca", "SEMC-Browser", "Bolt", "Iris", "UP.Browser", "Symphony", "Minimo", "Bunjaloo", "Jasmine", "Dolfin", "Polaris", "BREW", "Chrome Mobile", "Chrome Mobile iOS", "UC Browser", "Tizen Browser"] }; e.parsers = ["device_parsers", "browser_parsers", "os_parsers", "mobile_os_families", "mobile_browser_families"], e.types = ["browser", "os", "device"], e.regexes = r || function () { var f = {}; return e.parsers.map(function (g) { f[g] = [] }), f }(), e.families = function () { var f = {}; return e.types.map(function (g) { f[g] = [] }), f }(); var v = Array.prototype, o = (Object.prototype, Function.prototype, v.forEach); v.indexOf; var i = function (g, h) { for (var j = {}, f = 0; h.length > f && !(j = h[f](g)) ; f++) { } return j }, n = function (f, g) { t(f, function (h) { t(g, function (j) { delete h[j] }) }) }, t = forEach = function (h, k, m) { if (null != h) { if (o && h.forEach === o) { h.forEach(k, m) } else { if (h.length === +h.length) { for (var g = 0, f = h.length; f > g; g++) { k.call(m, h[g], g, h) } } else { for (var j in h) { _.has(h, j) && k.call(m, h[j], j, h) } } } } }, l = function (f) { return !(!f || f === undefined || null == f) }, a = function (f) { var g = ""; return f = f || {}, l(f) && l(f.major) && (g += f.major, l(f.minor) && (g += "." + f.minor, l(f.patch) && (g += "." + f.patch))), g }, b = function (f) { f = f || {}; var g = a(f); return g && (g = " " + g), f && l(f.family) ? f.family + g : "" }; return e.parse = function (q) { var m = function (s) { return e.regexes[s + "_parsers"].map(function (u) { function A(y) { var x = y.match(C); if (!x) { return null } var z = {}; return z.family = (w ? w.replace("$1", x[1]) : x[1]) || "other", z.major = parseInt(B ? B : x[2]) || null, z.minor = x[3] ? parseInt(x[3]) : null, z.patch = x[4] ? parseInt(x[4]) : null, z.tablet = u.tablet, z.man = u.manufacturer || null, z } var C = RegExp(u.regex), w = u[("browser" === s ? "family" : s) + "_replacement"], B = u.major_version_replacement; return A }) }, g = function () { }, k = m("browser"), p = m("os"), h = m("device"), j = new g; j.source = q, j.browser = i(q, k), l(j.browser) ? (j.browser.name = b(j.browser), j.browser.version = a(j.browser)) : j.browser = {}, j.os = i(q, p), l(j.os) ? (j.os.name = b(j.os), j.os.version = a(j.os)) : j.os = {}, j.device = i(q, h), l(j.device) ? (j.device.name = b(j.device), j.device.version = a(j.device)) : j.device = { tablet: !1, family: "Other" }; var f = {}; return e.regexes.mobile_browser_families.map(function (s) { f[s] = !0 }), e.regexes.mobile_os_families.map(function (s) { f[s] = !0 }), j.device.type = "Spider" === j.browser.family ? "Spider" : j.browser.tablet || j.os.tablet || j.device.tablet ? "Tablet" : f.hasOwnProperty(j.browser.family) ? "Mobile" : "Desktop", j.device.manufacturer = j.browser.man || j.os.man || j.device.man || null, n([j.browser, j.os, j.device], ["tablet", "man"]), j }, e }(); "undefined" != typeof exports ? ("undefined" != typeof module && module.exports && (exports = module.exports = d), exports.detect = d) : c.detect = d, "function" == typeof define && define.amd && define(function () { return d }) })(window);
var FlashDetect = new function () { var j = this; j.installed = false; j.raw = ""; j.major = -1; j.minor = -1; j.revision = -1; j.revisionStr = ""; var h = [{ name: "ShockwaveFlash.ShockwaveFlash.7", version: function (a) { return n(a) } }, { name: "ShockwaveFlash.ShockwaveFlash.6", version: function (a) { var c = "6,0,21"; try { a.AllowScriptAccess = "always"; c = n(a) } catch (b) { } return c } }, { name: "ShockwaveFlash.ShockwaveFlash", version: function (a) { return n(a) } }]; var n = function (a) { var c = -1; try { c = a.GetVariable("$version") } catch (b) { } return c }; var k = function (c) { var a = -1; try { a = new ActiveXObject(c) } catch (b) { a = { activeXError: true } } return a }; var o = function (a) { var b = a.split(","); return { raw: a, major: parseInt(b[0].split(" ")[1], 10), minor: parseInt(b[1], 10), revision: parseInt(b[2], 10), revisionStr: b[2] } }; var l = function (a) { var c = a.split(/ +/); var b = c[2].split(/\./); var d = c[3]; return { raw: a, major: parseInt(b[0], 10), minor: parseInt(b[1], 10), revisionStr: d, revision: m(d) } }; var m = function (a) { return parseInt(a.replace(/[a-zA-Z]/g, ""), 10) || j.revision }; j.majorAtLeast = function (a) { return j.major >= a }; j.minorAtLeast = function (a) { return j.minor >= a }; j.revisionAtLeast = function (a) { return j.revision >= a }; j.versionAtLeast = function (b) { var a = [j.major, j.minor, j.revision]; var c = Math.min(a.length, arguments.length); for (i = 0; i < c; i++) { if (a[i] >= arguments[i]) { if (i + 1 < c && a[i] == arguments[i]) { continue } else { return true } } else { return false } } }; j.FlashDetect = function () { if (navigator.plugins && navigator.plugins.length > 0) { var b = "application/x-shockwave-flash"; var c = navigator.mimeTypes; if (c && c[b] && c[b].enabledPlugin && c[b].enabledPlugin.description) { var e = c[b].enabledPlugin.description; var a = l(e); j.raw = a.raw; j.major = a.major; j.minor = a.minor; j.revisionStr = a.revisionStr; j.revision = a.revision; j.installed = true } } else { if (navigator.appVersion.indexOf("Mac") == -1 && window.execScript) { var e = -1; for (var d = 0; d < h.length && e == -1; d++) { var f = k(h[d].name); if (!f.activeXError) { j.installed = true; e = h[d].version(f); if (e != -1) { var a = o(e); j.raw = a.raw; j.major = a.major; j.minor = a.minor; j.revision = a.revision; j.revisionStr = a.revisionStr } } } } } }() }; FlashDetect.JS_RELEASE = "1.0.4";
(function () { function N(ad, ac, ae) { ae = (ae || 0) - 1; for (var Z = ad ? ad.length : 0; ++ae < Z;) { if (ad[ae] === ac) { return ae } } return -1 } function T(Z, ad) { var ae = typeof ad; if (Z = Z.l, "boolean" == ae || null == ad) { return Z[ad] ? 0 : -1 } "number" != ae && "string" != ae && (ae = "object"); var ac = "number" == ae ? ad : M + ad; return Z = (Z = Z[ae]) && Z[ac], "object" == ae ? Z && -1 < N(Z, ad) ? 0 : -1 : Z ? 0 : -1 } function E(ad) { var ac = this.l, ae = typeof ad; if ("boolean" == ae || null == ad) { ac[ad] = true } else { "number" != ae && "string" != ae && (ae = "object"); var Z = "number" == ae ? ad : M + ad, ac = ac[ae] || (ac[ae] = {}); "object" == ae ? (ac[Z] || (ac[Z] = [])).push(ad) : ac[Z] = true } } function R(Z) { return Z.charCodeAt(0) } function U(ac, ag) { for (var ae = ac.m, af = ag.m, ai = -1, ad = ae.length; ++ai < ad;) { var ah = ae[ai], Z = af[ai]; if (ah !== Z) { if (ah > Z || typeof ah == "undefined") { return 1 } if (ah < Z || typeof Z == "undefined") { return -1 } } } return ac.n - ag.n } function O(ad) { var ag = -1, af = ad.length, ac = ad[0], ae = ad[af / 2 | 0], Z = ad[af - 1]; if (ac && typeof ac == "object" && ae && typeof ae == "object" && Z && typeof Z == "object") { return false } for (ac = F(), ac["false"] = ac["null"] = ac["true"] = ac.undefined = false, ae = F(), ae.k = ad, ae.l = ac, ae.push = E; ++ag < af;) { ae.push(ad[ag]) } return ae } function I(Z) { return "\\" + w[Z] } function A() { return H.pop() || [] } function F() { return G.pop() || { k: null, l: null, m: null, "false": false, n: 0, "null": false, number: null, object: null, push: null, string: null, "true": false, undefined: false, o: null } } function L(Z) { Z.length = 0, H.length < ab && H.push(Z) } function C(Z) { var ac = Z.l; ac && C(ac), Z.k = Z.l = Z.m = Z.object = Z.number = Z.string = Z.o = null, G.length < ab && G.push(Z) } function P(ad, Z, ae) { Z || (Z = 0), typeof ae == "undefined" && (ae = ad ? ad.length : 0); var af = -1; ae = ae - Z || 0; for (var ac = Array(0 > ae ? 0 : ae) ; ++af < ae;) { ac[af] = ad[Z + af] } return ac } function S(c5) { function aR(a2, a4, a1) { if (!a2 || !x[typeof a2]) { return a2 } a4 = a4 && typeof a1 == "undefined" ? a4 : aQ(a4, a1, 3); for (var a3 = -1, a6 = x[typeof a2] && ao(a2), a5 = a6 ? a6.length : 0; ++a3 < a5 && (a1 = a6[a3], false !== a4(a2[a1], a1, a2)) ;) { } return a2 } function c6(a1, a4, a2) { var a3; if (!a1 || !x[typeof a1]) { return a1 } a4 = a4 && typeof a2 == "undefined" ? a4 : aQ(a4, a2, 3); for (a3 in a1) { if (false === a4(a1[a3], a3, a1)) { break } } return a1 } function c1(ba, a2, a8) { var a9, a4 = ba, bc = a4; if (!a4) { return bc } for (var a3 = arguments, a5 = 0, a1 = typeof a8 == "number" ? 2 : a3.length; ++a5 < a1;) { if ((a4 = a3[a5]) && x[typeof a4]) { for (var a7 = -1, bb = x[typeof a4] && ao(a4), a6 = bb ? bb.length : 0; ++a7 < a6;) { a9 = bb[a7], "undefined" == typeof bc[a9] && (bc[a9] = a4[a9]) } } } return bc } function aU(bb, a3, a9) { var ba, a5 = bb, bd = a5; if (!a5) { return bd } var a4 = arguments, a6 = 0, a1 = typeof a9 == "number" ? 2 : a4.length; if (3 < a1 && "function" == typeof a4[a1 - 2]) { var a8 = aQ(a4[--a1 - 1], a4[a1--], 2) } else { 2 < a1 && "function" == typeof a4[a1 - 1] && (a8 = a4[--a1]) } for (; ++a6 < a1;) { if ((a5 = a4[a6]) && x[typeof a5]) { for (var bc = -1, a7 = x[typeof a5] && ao(a5), a2 = a7 ? a7.length : 0; ++bc < a2;) { ba = a7[bc], bd[ba] = a8 ? a8(bd[ba], a5[ba]) : a5[ba] } } } return bd } function aF(a1) { var a3, a2 = []; if (!a1 || !x[typeof a1]) { return a2 } for (a3 in a1) { cC.call(a1, a3) && a2.push(a3) } return a2 } function aI(a1) { return a1 && typeof a1 == "object" && !cx(a1) && cC.call(a1, "__wrapped__") ? a1 : new aN(a1) } function aN(a1, a2) { this.__chain__ = !!a2, this.__wrapped__ = a1 } function a0(a5) { function a3() { if (a2) { var a6 = P(a2); aS.apply(a6, arguments) } if (this instanceof a3) { var a7 = be(a1.prototype), a6 = a1.apply(a7, a6 || arguments); return ar(a6) ? a6 : a7 } return a1.apply(a4, a6 || arguments) } var a1 = a5[0], a2 = a5[2], a4 = a5[4]; return aB(a3, a5), a3 } function cb(a9, ba, a2, a6, a7) { if (a2) { var a5 = a2(a9); if (typeof a5 != "undefined") { return a5 } } if (!ar(a9)) { return a9 } var a8 = ca.call(a9); if (!m[a8]) { return a9 } var a4 = ch[a8]; switch (a8) { case v: case h: return new a4(+a9); case y: case r: return new a4(a9); case aa: return a5 = a4(a9.source, e.exec(a9)), a5.lastIndex = a9.lastIndex, a5 } if (a8 = cx(a9), ba) { var a1 = !a6; a6 || (a6 = A()), a7 || (a7 = A()); for (var a3 = a6.length; a3--;) { if (a6[a3] == a9) { return a7[a3] } } a5 = a8 ? a4(a9.length) : {} } else { a5 = a8 ? P(a9) : aU({}, a9) } return a8 && (cC.call(a9, "index") && (a5.index = a9.index), cC.call(a9, "input") && (a5.input = a9.input)), ba ? (a6.push(a9), a7.push(a5), (a8 ? cX : aR)(a9, function (bb, bc) { a5[bc] = cb(bb, ba, a2, a6, a7) }), a1 && (L(a6), L(a7)), a5) : a5 } function be(a1) { return ar(a1) ? ap(a1) : {} } function aQ(a5, a3, a1) { if (typeof a5 != "function") { return aJ } if (typeof a3 == "undefined" || !("prototype" in a5)) { return a5 } var a2 = a5.__bindData__; if (typeof a2 == "undefined" && (aV.funcNames && (a2 = !a5.name), a2 = a2 || !aV.funcDecomp, !a2)) { var a4 = cG.call(a5); aV.funcNames || (a2 = !q.test(a4)), a2 || (a2 = g.test(a4), aB(a5, a2)) } if (false === a2 || true !== a2 && 1 & a2[1]) { return a5 } switch (a1) { case 1: return function (a6) { return a5.call(a3, a6) }; case 2: return function (a7, a6) { return a5.call(a3, a7, a6) }; case 3: return function (a7, a8, a6) { return a5.call(a3, a7, a8, a6) }; case 4: return function (a8, a9, a7, a6) { return a5.call(a3, a8, a9, a7, a6) } } return cn(a5, a3) } function cO(bc) { function a3() { var bg = a4 ? a7 : this; if (a5) { var bf = P(a5); aS.apply(bf, arguments) } return (a8 || a9) && (bf || (bf = P(arguments)), a8 && aS.apply(bf, a8), a9 && bf.length < bd) ? (ba |= 16, cO([a1, a2 ? ba : -4 & ba, bf, null, a7, bd])) : (bf || (bf = arguments), bb && (a1 = bg[a6]), this instanceof a3 ? (bg = be(a1.prototype), bf = a1.apply(bg, bf), ar(bf) ? bf : bg) : a1.apply(bg, bf)) } var a1 = bc[0], ba = bc[1], a5 = bc[2], a8 = bc[3], a7 = bc[4], bd = bc[5], a4 = 1 & ba, bb = 2 & ba, a9 = 4 & ba, a2 = 8 & ba, a6 = a1; return aB(a3, bc), a3 } function cp(a7, a6) { var a3 = -1, a2 = cI(), a4 = a7 ? a7.length : 0, a1 = a4 >= B && a2 === N, a5 = []; if (a1) { var a8 = O(a6); a8 ? (a2 = T, a6 = a8) : a1 = false } for (; ++a3 < a4;) { a8 = a7[a3], 0 > a2(a6, a8) && a5.push(a8) } return a1 && C(a6), a5 } function bt(a9, a3, a1, a6) { a6 = (a6 || 0) - 1; for (var ba = a9 ? a9.length : 0, a5 = []; ++a6 < ba;) { var a4 = a9[a6]; if (a4 && typeof a4 == "object" && typeof a4.length == "number" && (cx(a4) || cF(a4))) { a3 || (a4 = bt(a4, a3, a1)); var a7 = -1, a2 = a4.length, a8 = a5.length; for (a5.length += a2; ++a7 < a2;) { a5[a8++] = a4[a7] } } else { a1 || a5.push(a4) } } return a5 } function cd(ba, a4, a1, a9, a5, bc) { if (a1) { var a7 = a1(ba, a4); if (typeof a7 != "undefined") { return !!a7 } } if (ba === a4) { return 0 !== ba || 1 / ba == 1 / a4 } if (ba === ba && !(ba && x[typeof ba] || a4 && x[typeof a4])) { return false } if (null == ba || null == a4) { return ba === a4 } var a3 = ca.call(ba), a8 = ca.call(a4); if (a3 == f && (a3 = Q), a8 == f && (a8 = Q), a3 != a8) { return false } switch (a3) { case v: case h: return +ba == +a4; case y: return ba != +ba ? a4 != +a4 : 0 == ba ? 1 / ba == 1 / a4 : ba == +a4; case aa: case r: return ba == aO(a4) } if (a8 = a3 == b, !a8) { var a6 = cC.call(ba, "__wrapped__"), a2 = cC.call(a4, "__wrapped__"); if (a6 || a2) { return cd(a6 ? ba.__wrapped__ : ba, a2 ? a4.__wrapped__ : a4, a1, a9, a5, bc) } if (a3 != Q) { return false } if (a3 = ba.constructor, a6 = a4.constructor, a3 != a6 && !(ai(a3) && a3 instanceof a3 && ai(a6) && a6 instanceof a6) && "constructor" in ba && "constructor" in a4) { return false } } for (a3 = !a5, a5 || (a5 = A()), bc || (bc = A()), a6 = a5.length; a6--;) { if (a5[a6] == ba) { return bc[a6] == a4 } } var bb = 0, a7 = true; if (a5.push(ba), bc.push(a4), a8) { if (a6 = ba.length, bb = a4.length, (a7 = bb == a6) || a9) { for (; bb--;) { if (a8 = a6, a2 = a4[bb], a9) { for (; a8-- && !(a7 = cd(ba[a8], a2, a1, a9, a5, bc)) ;) { } } else { if (!(a7 = cd(ba[bb], a2, a1, a9, a5, bc))) { break } } } } } else { c6(a4, function (bg, bf, bd) { return cC.call(bd, bf) ? (bb++, a7 = cC.call(ba, bf) && cd(ba[bf], bg, a1, a9, a5, bc)) : void 0 }), a7 && !a9 && c6(ba, function (bd, bg, bf) { return cC.call(bf, bg) ? a7 = -1 < --bb : void 0 }) } return a5.pop(), bc.pop(), a3 && (L(a5), L(bc)), a7 } function cf(a5, a3, a1, a2, a4) { (cx(a3) ? cX : aR)(a3, function (ba, a7) { var bc, a9, a8 = ba, bb = a5[a7]; if (ba && ((a9 = cx(ba)) || c3(ba))) { for (a8 = a2.length; a8--;) { if (bc = a2[a8] == ba) { bb = a4[a8]; break } } if (!bc) { var a6; a1 && (a8 = a1(bb, ba), a6 = typeof a8 != "undefined") && (bb = a8), a6 || (bb = a9 ? cx(bb) ? bb : [] : c3(bb) ? bb : {}), a2.push(ba), a4.push(bb), a6 || cf(bb, ba, a1, a2, a4) } } else { a1 && (a8 = a1(bb, ba), typeof a8 == "undefined" && (a8 = ba)), typeof a8 != "undefined" && (bb = a8) } a5[a7] = bb }) } function ax(a1, a2) { return a1 + aM(aj() * (a2 - a1 + 1)) } function cw(bb, ba, a3) { var a7 = -1, a8 = cI(), a9 = bb ? bb.length : 0, a2 = [], a5 = !ba && a9 >= B && a8 === N, a4 = a3 || a5 ? A() : a2; for (a5 && (a4 = O(a4), a8 = T) ; ++a7 < a9;) { var a1 = bb[a7], a6 = a3 ? a3(a1, a7, bb) : a1; (ba ? !a7 || a4[a4.length - 1] !== a6 : 0 > a8(a4, a6)) && ((a3 || a5) && a4.push(a6), a2.push(a1)) } return a5 ? (L(a4.k), C(a4)) : a3 && L(a4), a2 } function ct(a1) { return function (a4, a7, a3) { var a6 = {}; a7 = aI.createCallback(a7, a3, 3), a3 = -1; var a2 = a4 ? a4.length : 0; if (typeof a2 == "number") { for (; ++a3 < a2;) { var a5 = a4[a3]; a1(a6, a5, a7(a5, a3, a4), a4) } } else { aR(a4, function (ba, a9, a8) { a1(a6, ba, a7(ba, a9, a8), a8) }) } return a6 } } function ci(ba, a3, a1, a8, a4, a6) { var a5 = 1 & a3, bb = 4 & a3, a2 = 16 & a3, a9 = 32 & a3; if (!(2 & a3 || ai(ba))) { throw new aX } a2 && !a1.length && (a3 &= -17, a2 = a1 = false), a9 && !a8.length && (a3 &= -33, a9 = a8 = false); var a7 = ba && ba.__bindData__; return a7 && true !== a7 ? (a7 = P(a7), a7[2] && (a7[2] = P(a7[2])), a7[3] && (a7[3] = P(a7[3])), !a5 || 1 & a7[1] || (a7[4] = a4), !a5 && 1 & a7[1] && (a3 |= 8), !bb || 4 & a7[1] || (a7[5] = a6), a2 && aS.apply(a7[2] || (a7[2] = []), a1), a9 && ak.apply(a7[3] || (a7[3] = []), a8), a7[1] |= a3, ci.apply(null, a7)) : (1 == a3 || 17 === a3 ? a0 : cO)([ba, a3, a1, a8, a4, a6]) } function af(a1) { return cE[a1] } function cI() { var a1 = (a1 = aI.indexOf) === cq ? N : a1; return a1 } function ac(a1) { return typeof a1 == "function" && co.test(a1) } function cZ(a1) { var a3, a2; return a1 && ca.call(a1) == Q && (a3 = a1.constructor, !ai(a3) || a3 instanceof a3) ? (c6(a1, function (a4, a5) { a2 = a5 }), typeof a2 == "undefined" || cC.call(a1, a2)) : false } function cN(a1) { return cg[a1] } function cF(a1) { return a1 && typeof a1 == "object" && typeof a1.length == "number" && ca.call(a1) == f || false } function cL(a5, a3, a1) { var a2 = ao(a5), a4 = a2.length; for (a3 = aQ(a3, a1, 3) ; a4-- && (a1 = a2[a4], false !== a3(a5[a1], a1, a5)) ;) { } return a5 } function c2(a1) { var a2 = []; return c6(a1, function (a3, a4) { ai(a3) && a2.push(a4) }), a2.sort() } function cR(a2) { for (var a4 = -1, a1 = ao(a2), a3 = a1.length, a6 = {}; ++a4 < a3;) { var a5 = a1[a4]; a6[a2[a5]] = a5 } return a6 } function ai(a1) { return typeof a1 == "function" } function ar(a1) { return !(!a1 || !x[typeof a1]) } function ah(a1) { return typeof a1 == "number" || a1 && typeof a1 == "object" && ca.call(a1) == y || false } function aE(a1) { return typeof a1 == "string" || a1 && typeof a1 == "object" && ca.call(a1) == r || false } function cj(a5) { for (var a3 = -1, a1 = ao(a5), a2 = a1.length, a4 = an(a2) ; ++a3 < a2;) { a4[a3] = a5[a1[a3]] } return a4 } function cY(a7, a3, a6) { var a2 = -1, a5 = cI(), a1 = a7 ? a7.length : 0, a4 = false; return a6 = (0 > a6 ? aG(0, a1 + a6) : a6) || 0, cx(a7) ? a4 = -1 < a5(a7, a3, a6) : typeof a1 == "number" ? a4 = -1 < (aE(a7) ? a7.indexOf(a3, a6) : a5(a7, a3, a6)) : aR(a7, function (a8) { return ++a2 < a6 ? void 0 : !(a4 = a8 === a3) }), a4 } function aP(a5, a3, a1) { var a2 = true; a3 = aI.createCallback(a3, a1, 3), a1 = -1; var a4 = a5 ? a5.length : 0; if (typeof a4 == "number") { for (; ++a1 < a4 && (a2 = !!a3(a5[a1], a1, a5)) ;) { } } else { aR(a5, function (a7, a8, a6) { return a2 = !!a3(a7, a8, a6) }) } return a2 } function cH(a2, a4, a1) { var a3 = []; a4 = aI.createCallback(a4, a1, 3), a1 = -1; var a6 = a2 ? a2.length : 0; if (typeof a6 == "number") { for (; ++a1 < a6;) { var a5 = a2[a1]; a4(a5, a1, a2) && a3.push(a5) } } else { aR(a2, function (a7, a8, a9) { a4(a7, a8, a9) && a3.push(a7) }) } return a3 } function aY(a2, a4, a1) { a4 = aI.createCallback(a4, a1, 3), a1 = -1; var a3 = a2 ? a2.length : 0; if (typeof a3 != "number") { var a6; return aR(a2, function (a7, a8, a9) { return a4(a7, a8, a9) ? (a6 = a7, false) : void 0 }), a6 } for (; ++a1 < a3;) { var a5 = a2[a1]; if (a4(a5, a1, a2)) { return a5 } } } function cX(a5, a3, a1) { var a2 = -1, a4 = a5 ? a5.length : 0; if (a3 = a3 && typeof a1 == "undefined" ? a3 : aQ(a3, a1, 3), typeof a4 == "number") { for (; ++a2 < a4 && false !== a3(a5[a2], a2, a5) ;) { } } else { aR(a5, a3) } return a5 } function ag(a5, a3, a1) { var a2 = a5 ? a5.length : 0; if (a3 = a3 && typeof a1 == "undefined" ? a3 : aQ(a3, a1, 3), typeof a2 == "number") { for (; a2-- && false !== a3(a5[a2], a2, a5) ;) { } } else { var a4 = ao(a5), a2 = a4.length; aR(a5, function (a7, a6, a8) { return a6 = a4 ? a4[--a2] : --a2, a3(a8[a6], a6, a8) }) } return a5 } function aq(a2, a4, a1) { var a3 = -1, a6 = a2 ? a2.length : 0; if (a4 = aI.createCallback(a4, a1, 3), typeof a6 == "number") { for (var a5 = an(a6) ; ++a3 < a6;) { a5[a3] = a4(a2[a3], a3, a2) } } else { a5 = [], aR(a2, function (a7, a8, a9) { a5[++a3] = a4(a7, a8, a9) }) } return a5 } function cv(a7, a2, a6) { var a4 = -1 / 0, a1 = a4; if (typeof a2 != "function" && a6 && a6[a2] === a7 && (a2 = null), null == a2 && cx(a7)) { a6 = -1; for (var a3 = a7.length; ++a6 < a3;) { var a5 = a7[a6]; a5 > a1 && (a1 = a5) } } else { a2 = null == a2 && aE(a7) ? R : aI.createCallback(a2, a6, 3), cX(a7, function (a8, a9, ba) { a9 = a2(a8, a9, ba), a9 > a4 && (a4 = a9, a1 = a8) }) } return a1 } function ce(a7, a3, a6, a2) { if (!a7) { return a6 } var a5 = 3 > arguments.length; a3 = aI.createCallback(a3, a2, 4); var a1 = -1, a4 = a7.length; if (typeof a4 == "number") { for (a5 && (a6 = a7[++a1]) ; ++a1 < a4;) { a6 = a3(a6, a7[a1], a1, a7) } } else { aR(a7, function (a8, ba, a9) { a6 = a5 ? (a5 = false, a8) : a3(a6, a8, ba, a9) }) } return a6 } function aW(a5, a3, a1, a2) { var a4 = 3 > arguments.length; return a3 = aI.createCallback(a3, a2, 4), ag(a5, function (a8, a7, a6) { a1 = a4 ? (a4 = false, a8) : a3(a1, a8, a7, a6) }), a1 } function cD(a1) { var a4 = -1, a2 = a1 ? a1.length : 0, a3 = an(typeof a2 == "number" ? a2 : 0); return cX(a1, function (a5) { var a6 = ax(0, ++a4); a3[a4] = a3[a6], a3[a6] = a5 }), a3 } function aD(a5, a3, a1) { var a2; a3 = aI.createCallback(a3, a1, 3), a1 = -1; var a4 = a5 ? a5.length : 0; if (typeof a4 == "number") { for (; ++a1 < a4 && !(a2 = a3(a5[a1], a1, a5)) ;) { } } else { aR(a5, function (a7, a8, a6) { return !(a2 = a3(a7, a8, a6)) }) } return !!a2 } function cM(a2, a4, a1) { var a3 = 0, a6 = a2 ? a2.length : 0; if (typeof a4 != "number" && null != a4) { var a5 = -1; for (a4 = aI.createCallback(a4, a1, 3) ; ++a5 < a6 && a4(a2[a5], a5, a2) ;) { a3++ } } else { if (a3 = a4, null == a3 || a1) { return a2 ? a2[0] : V } } return P(a2, 0, cP(aG(0, a3), a6)) } function cq(a3, a1, a2) { if (typeof a2 == "number") { var a4 = a3 ? a3.length : 0; a2 = 0 > a2 ? aG(0, a4 + a2) : a2 || 0 } else { if (a2) { return a2 = aL(a3, a1), a3[a2] === a1 ? a2 : -1 } } return N(a3, a1, a2) } function az(a2, a4, a1) { if (typeof a4 != "number" && null != a4) { var a3 = 0, a6 = -1, a5 = a2 ? a2.length : 0; for (a4 = aI.createCallback(a4, a1, 3) ; ++a6 < a5 && a4(a2[a6], a6, a2) ;) { a3++ } } else { a3 = null == a4 || a1 ? 1 : aG(0, a4) } return P(a2, a3) } function aL(a2, a4, a1, a3) { var a6 = 0, a5 = a2 ? a2.length : a6; for (a1 = a1 ? aI.createCallback(a1, a3, 1) : aJ, a4 = a1(a4) ; a6 < a5;) { a3 = a6 + a5 >>> 1, a1(a2[a3]) < a4 ? a6 = a3 + 1 : a5 = a3 } return a6 } function aZ(a1, a4, a2, a3) { return typeof a4 != "boolean" && null != a4 && (a3 = a2, a2 = typeof a4 != "function" && a3 && a3[a4] === a1 ? null : a4, a4 = false), null != a2 && (a2 = aI.createCallback(a2, a3, 3)), cw(a1, a4, a2) } function ae() { for (var a1 = 1 < arguments.length ? arguments : arguments[0], a4 = -1, a2 = a1 ? cv(c0(a1, "length")) : 0, a3 = an(0 > a2 ? 0 : a2) ; ++a4 < a2;) { a3[a4] = c0(a1, a4) } return a3 } function aw(a2, a4) { var a1 = -1, a3 = a2 ? a2.length : 0, a6 = {}; for (a4 || !a3 || cx(a2[0]) || (a4 = []) ; ++a1 < a3;) { var a5 = a2[a1]; a4 ? a6[a5] = a4[a1] : a5 && (a6[a5[0]] = a5[1]) } return a6 } function cn(a1, a2) { return 2 < arguments.length ? ci(a1, 17, P(arguments, 2), null, a2) : ci(a1, 1, null, null, a2) } function aT(a9, a1, a7) { function bg() { a6 && ck(a6), bc = a6 = bd = V, (ba || bf !== a1) && (bh = au(), a3 = a9.apply(a5, bb), a6 || bc || (bb = a5 = null)) } function a2() { var bi = a1 - (au() - a8); 0 < bi ? a6 = aC(a2, bi) : (bc && ck(bc), bi = bd, bc = a6 = bd = V, bi && (bh = au(), a3 = a9.apply(a5, bb), a6 || bc || (bb = a5 = null))) } var bb, bc, a3, a8, a5, a6, bd, bh = 0, bf = false, ba = true; if (!ai(a9)) { throw new aX } if (a1 = aG(0, a1) || 0, true === a7) { var a4 = true, ba = false } else { ar(a7) && (a4 = a7.leading, bf = "maxWait" in a7 && (aG(a1, a7.maxWait) || 0), ba = "trailing" in a7 ? a7.trailing : ba) } return function () { if (bb = arguments, a8 = au(), a5 = this, bd = ba && (a6 || !a4), false === bf) { var bi = a4 && !a6 } else { bc || a4 || (bh = a8); var bj = bf - (a8 - bh), bk = 0 >= bj; bk ? (bc && (bc = ck(bc)), bh = a8, a3 = a9.apply(a5, bb)) : bc || (bc = aC(bg, bj)) } return bk && a6 ? a6 = ck(a6) : a6 || a1 === bf || (a6 = aC(a2, a1)), bi && (bk = true, a3 = a9.apply(a5, bb)), !bk || a6 || bc || (bb = a5 = null), a3 } } function aJ(a1) { return a1 } function cr(a7, a3, a6) { var a2 = true, a5 = a3 && c2(a3); a3 && (a6 || a5.length) || (null == a6 && (a6 = a3), a1 = aN, a3 = a7, a7 = aI, a5 = c2(a3)), false === a6 ? a2 = false : ar(a6) && "chain" in a6 && (a2 = a6.chain); var a1 = a7, a4 = ai(a1); cX(a5, function (a8) { var a9 = a7[a8] = a3[a8]; a4 && (a1.prototype[a8] = function () { var ba = this.__chain__, bc = this.__wrapped__, bb = [bc]; if (aS.apply(bb, arguments), bb = a9.apply(a7, bb), a2 || ba) { if (bc === bb && ar(bb)) { return this } bb = new a1(bb), bb.__chain__ = ba } return bb }) }) } function cK() { } function cc(a1) { return function (a2) { return a2[a1] } } function Z() { return this.__wrapped__ } c5 = c5 ? a.defaults(i.Object(), c5, a.pick(i, c)) : i; var an = c5.Array, cU = c5.Boolean, cB = c5.Date, aH = c5.Function, aA = c5.Math, at = c5.Number, cT = c5.Object, c4 = c5.RegExp, aO = c5.String, aX = c5.TypeError, cJ = [], cl = cT.prototype, cW = c5._, ca = cl.toString, co = c4("^" + aO(ca).replace(/[.*+?^${}()|[\]\\]/g, "\\$&").replace(/toString| for [^\]]+/g, ".*?") + "$"), cA = aA.ceil, ck = c5.clearTimeout, aM = aA.floor, cG = aH.prototype.toString, cy = ac(cy = cT.getPrototypeOf) && cy, cC = cl.hasOwnProperty, aS = cJ.push, aC = c5.setTimeout, ad = cJ.splice, ak = cJ.unshift, cu = function () { try { var a1 = {}, a4 = ac(a4 = cT.defineProperty) && a4, a2 = a4(a1, a1, a1) && a4 } catch (a3) { } return a2 }(), ap = ac(ap = cT.create) && ap, cQ = ac(cQ = an.isArray) && cQ, aK = c5.isFinite, ay = c5.isNaN, cz = ac(cz = cT.keys) && cz, aG = aA.max, cP = aA.min, cs = c5.parseInt, aj = aA.random, ch = {}; ch[b] = an, ch[v] = cU, ch[h] = cB, ch[d] = aH, ch[Q] = cT, ch[y] = at, ch[aa] = c4, ch[r] = aO, aN.prototype = aI.prototype; var aV = aI.support = {}; aV.funcDecomp = !ac(c5.a) && g.test(S), aV.funcNames = typeof aH.name == "string", aI.templateSettings = { escape: /<%-([\s\S]+?)%>/g, evaluate: /<%([\s\S]+?)%>/g, interpolate: p, variable: "", imports: { _: aI } }, ap || (be = function () { function a1() { } return function (a3) { if (ar(a3)) { a1.prototype = a3; var a2 = new a1; a1.prototype = null } return a2 || c5.Object() } }()); var aB = cu ? function (a1, a2) { o.value = a2, cu(a1, "__bindData__", o) } : cK, cx = cQ || function (a1) { return a1 && typeof a1 == "object" && typeof a1.length == "number" && ca.call(a1) == b || false }, ao = cz ? function (a1) { return ar(a1) ? cz(a1) : [] } : aF, cE = { "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#39;" }, cg = cR(cE), am = c4("(" + ao(cg).join("|") + ")", "g"), av = c4("[" + ao(cE).join("") + "]", "g"), c3 = cy ? function (a1) { if (!a1 || ca.call(a1) != Q) { return false } var a3 = a1.valueOf, a2 = ac(a3) && (a2 = cy(a3)) && cy(a2); return a2 ? a1 == a2 || cy(a1) == a2 : cZ(a1) } : cZ, cm = ct(function (a1, a3, a2) { cC.call(a1, a2) ? a1[a2]++ : a1[a2] = 1 }), al = ct(function (a1, a3, a2) { (cC.call(a1, a2) ? a1[a2] : a1[a2] = []).push(a3) }), cS = ct(function (a1, a3, a2) { a1[a2] = a3 }), c0 = aq, au = ac(au = cB.now) && au || function () { return (new cB).getTime() }, cV = 8 == cs(D + "08") ? cs : function (a1, a2) { return cs(aE(a1) ? a1.replace(k, "") : a1, a2 || 0) }; return aI.after = function (a1, a2) { if (!ai(a2)) { throw new aX } return function () { return 1 > --a1 ? a2.apply(this, arguments) : void 0 } }, aI.assign = aU, aI.at = function (a5) { for (var a3 = arguments, a1 = -1, a2 = bt(a3, true, false, 1), a3 = a3[2] && a3[2][a3[1]] === a5 ? 1 : a2.length, a4 = an(a3) ; ++a1 < a3;) { a4[a1] = a5[a2[a1]] } return a4 }, aI.bind = cn, aI.bindAll = function (a5) { for (var a3 = 1 < arguments.length ? bt(arguments, true, false, 1) : c2(a5), a1 = -1, a2 = a3.length; ++a1 < a2;) { var a4 = a3[a1]; a5[a4] = ci(a5[a4], 1, null, null, a5) } return a5 }, aI.bindKey = function (a1, a2) { return 2 < arguments.length ? ci(a2, 19, P(arguments, 2), null, a1) : ci(a2, 3, null, null, a1) }, aI.chain = function (a1) { return a1 = new aN(a1), a1.__chain__ = true, a1 }, aI.compact = function (a5) { for (var a3 = -1, a1 = a5 ? a5.length : 0, a2 = []; ++a3 < a1;) { var a4 = a5[a3]; a4 && a2.push(a4) } return a2 }, aI.compose = function () { for (var a1 = arguments, a2 = a1.length; a2--;) { if (!ai(a1[a2])) { throw new aX } } return function () { for (var a4 = arguments, a3 = a1.length; a3--;) { a4 = [a1[a3].apply(this, a4)] } return a4[0] } }, aI.constant = function (a1) { return function () { return a1 } }, aI.countBy = cm, aI.create = function (a1, a3) { var a2 = be(a1); return a3 ? aU(a2, a3) : a2 }, aI.createCallback = function (a7, a3, a6) { var a2 = typeof a7; if (null == a7 || "function" == a2) { return aQ(a7, a3, a6) } if ("object" != a2) { return cc(a7) } var a5 = ao(a7), a1 = a5[0], a4 = a7[a1]; return 1 != a5.length || a4 !== a4 || ar(a4) ? function (ba) { for (var a8 = a5.length, a9 = false; a8-- && (a9 = cd(ba[a5[a8]], a7[a5[a8]], null, true)) ;) { } return a9 } : function (a8) { return a8 = a8[a1], a4 === a8 && (0 !== a4 || 1 / a4 == 1 / a8) } }, aI.curry = function (a1, a2) { return a2 = typeof a2 == "number" ? a2 : +a2 || a1.length, ci(a1, 4, null, null, null, a2) }, aI.debounce = aT, aI.defaults = c1, aI.defer = function (a1) { if (!ai(a1)) { throw new aX } var a2 = P(arguments, 1); return aC(function () { a1.apply(V, a2) }, 1) }, aI.delay = function (a1, a3) { if (!ai(a1)) { throw new aX } var a2 = P(arguments, 2); return aC(function () { a1.apply(V, a2) }, a3) }, aI.difference = function (a1) { return cp(a1, bt(arguments, true, true, 1)) }, aI.filter = cH, aI.flatten = function (a1, a4, a2, a3) { return typeof a4 != "boolean" && null != a4 && (a3 = a2, a2 = typeof a4 != "function" && a3 && a3[a4] === a1 ? null : a4, a4 = false), null != a2 && (a1 = aq(a1, a2, a3)), bt(a1, a4) }, aI.forEach = cX, aI.forEachRight = ag, aI.forIn = c6, aI.forInRight = function (a5, a3, a1) { var a2 = []; c6(a5, function (a6, a7) { a2.push(a7, a6) }); var a4 = a2.length; for (a3 = aQ(a3, a1, 3) ; a4-- && false !== a3(a2[a4--], a2[a4], a5) ;) { } return a5 }, aI.forOwn = aR, aI.forOwnRight = cL, aI.functions = c2, aI.groupBy = al, aI.indexBy = cS, aI.initial = function (a2, a4, a1) { var a3 = 0, a6 = a2 ? a2.length : 0; if (typeof a4 != "number" && null != a4) { var a5 = a6; for (a4 = aI.createCallback(a4, a1, 3) ; a5-- && a4(a2[a5], a5, a2) ;) { a3++ } } else { a3 = null == a4 || a1 ? 1 : a4 || a3 } return P(a2, 0, cP(aG(0, a6 - a3), a6)) }, aI.intersection = function () { for (var a7 = [], bb = -1, a3 = arguments.length, a6 = A(), bc = cI(), ba = bc === N, a2 = A() ; ++bb < a3;) { var a4 = arguments[bb]; (cx(a4) || cF(a4)) && (a7.push(a4), a6.push(ba && a4.length >= B && O(bb ? a7[bb] : a2))) } var ba = a7[0], a1 = -1, a9 = ba ? ba.length : 0, a5 = []; N: for (; ++a1 < a9;) { var a8 = a6[0], a4 = ba[a1]; if (0 > (a8 ? T(a8, a4) : bc(a2, a4))) { for (bb = a3, (a8 || a2).push(a4) ; --bb;) { if (a8 = a6[bb], 0 > (a8 ? T(a8, a4) : bc(a7[bb], a4))) { continue N } } a5.push(a4) } } for (; a3--;) { (a8 = a6[a3]) && C(a8) } return L(a6), L(a2), a5 }, aI.invert = cR, aI.invoke = function (a7, a3) { var a6 = P(arguments, 2), a2 = -1, a5 = typeof a3 == "function", a1 = a7 ? a7.length : 0, a4 = an(typeof a1 == "number" ? a1 : 0); return cX(a7, function (a8) { a4[++a2] = (a5 ? a3 : a8[a3]).apply(a8, a6) }), a4 }, aI.keys = ao, aI.map = aq, aI.mapValues = function (a1, a4, a2) { var a3 = {}; return a4 = aI.createCallback(a4, a2, 3), aR(a1, function (a7, a5, a6) { a3[a5] = a4(a7, a5, a6) }), a3 }, aI.max = cv, aI.memoize = function (a1, a3) { function a2() { var a4 = a2.cache, a5 = a3 ? a3.apply(this, arguments) : M + arguments[0]; return cC.call(a4, a5) ? a4[a5] : a4[a5] = a1.apply(this, arguments) } if (!ai(a1)) { throw new aX } return a2.cache = {}, a2 }, aI.merge = function (a7) { var a3 = arguments, a6 = 2; if (!ar(a7)) { return a7 } if ("number" != typeof a3[2] && (a6 = a3.length), 3 < a6 && "function" == typeof a3[a6 - 2]) { var a2 = aQ(a3[--a6 - 1], a3[a6--], 2) } else { 2 < a6 && "function" == typeof a3[a6 - 1] && (a2 = a3[--a6]) } for (var a3 = P(arguments, 1, a6), a5 = -1, a1 = A(), a4 = A() ; ++a5 < a6;) { cf(a7, a3[a5], a2, a1, a4) } return L(a1), L(a4), a7 }, aI.min = function (a7, a2, a6) { var a4 = 1 / 0, a1 = a4; if (typeof a2 != "function" && a6 && a6[a2] === a7 && (a2 = null), null == a2 && cx(a7)) { a6 = -1; for (var a3 = a7.length; ++a6 < a3;) { var a5 = a7[a6]; a5 < a1 && (a1 = a5) } } else { a2 = null == a2 && aE(a7) ? R : aI.createCallback(a2, a6, 3), cX(a7, function (a8, a9, ba) { a9 = a2(a8, a9, ba), a9 < a4 && (a4 = a9, a1 = a8) }) } return a1 }, aI.omit = function (a7, a2, a1) { var a6 = {}; if (typeof a2 != "function") { var a4 = []; c6(a7, function (a9, ba) { a4.push(ba) }); for (var a4 = cp(a4, bt(arguments, true, false, 1)), a8 = -1, a3 = a4.length; ++a8 < a3;) { var a5 = a4[a8]; a6[a5] = a7[a5] } } else { a2 = aI.createCallback(a2, a1, 3), c6(a7, function (a9, ba, bb) { a2(a9, ba, bb) || (a6[ba] = a9) }) } return a6 }, aI.once = function (a1) { var a3, a2; if (!ai(a1)) { throw new aX } return function () { return a3 ? a2 : (a3 = true, a2 = a1.apply(this, arguments), a1 = null, a2) } }, aI.pairs = function (a2) { for (var a4 = -1, a1 = ao(a2), a3 = a1.length, a6 = an(a3) ; ++a4 < a3;) { var a5 = a1[a4]; a6[a4] = [a5, a2[a5]] } return a6 }, aI.partial = function (a1) { return ci(a1, 16, P(arguments, 1)) }, aI.partialRight = function (a1) { return ci(a1, 32, null, P(arguments, 1)) }, aI.pick = function (a7, a2, a1) { var a6 = {}; if (typeof a2 != "function") { for (var a4 = -1, a8 = bt(arguments, true, false, 1), a3 = ar(a7) ? a8.length : 0; ++a4 < a3;) { var a5 = a8[a4]; a5 in a7 && (a6[a5] = a7[a5]) } } else { a2 = aI.createCallback(a2, a1, 3), c6(a7, function (a9, ba, bb) { a2(a9, ba, bb) && (a6[ba] = a9) }) } return a6 }, aI.pluck = c0, aI.property = cc, aI.pull = function (a7) { for (var a3 = arguments, a6 = 0, a2 = a3.length, a5 = a7 ? a7.length : 0; ++a6 < a2;) { for (var a1 = -1, a4 = a3[a6]; ++a1 < a5;) { a7[a1] === a4 && (ad.call(a7, a1--, 1), a5--) } } return a7 }, aI.range = function (a5, a3, a1) { a5 = +a5 || 0, a1 = typeof a1 == "number" ? a1 : +a1 || 1, null == a3 && (a3 = a5, a5 = 0); var a2 = -1; a3 = aG(0, cA((a3 - a5) / (a1 || 1))); for (var a4 = an(a3) ; ++a2 < a3;) { a4[a2] = a5, a5 += a1 } return a4 }, aI.reject = function (a1, a3, a2) { return a3 = aI.createCallback(a3, a2, 3), cH(a1, function (a5, a6, a4) { return !a3(a5, a6, a4) }) }, aI.remove = function (a2, a4, a1) { var a3 = -1, a6 = a2 ? a2.length : 0, a5 = []; for (a4 = aI.createCallback(a4, a1, 3) ; ++a3 < a6;) { a1 = a2[a3], a4(a1, a3, a2) && (a5.push(a1), ad.call(a2, a3--, 1), a6--) } return a5 }, aI.rest = az, aI.shuffle = cD, aI.sortBy = function (a7, a4, a6) { var a3 = -1, a2 = cx(a4), a5 = a7 ? a7.length : 0, a1 = an(typeof a5 == "number" ? a5 : 0); for (a2 || (a4 = aI.createCallback(a4, a6, 3)), cX(a7, function (a8, a9, bb) { var ba = a1[++a3] = F(); a2 ? ba.m = aq(a4, function (bc) { return a8[bc] }) : (ba.m = A())[0] = a4(a8, a9, bb), ba.n = a3, ba.o = a8 }), a5 = a1.length, a1.sort(U) ; a5--;) { a7 = a1[a5], a1[a5] = a7.o, a2 || L(a7.m), C(a7) } return a1 }, aI.tap = function (a1, a2) { return a2(a1), a1 }, aI.throttle = function (a5, a3, a1) { var a2 = true, a4 = true; if (!ai(a5)) { throw new aX } return false === a1 ? a2 = false : ar(a1) && (a2 = "leading" in a1 ? a1.leading : a2, a4 = "trailing" in a1 ? a1.trailing : a4), n.leading = a2, n.maxWait = a3, n.trailing = a4, aT(a5, a3, n) }, aI.times = function (a5, a3, a1) { a5 = -1 < (a5 = +a5) ? a5 : 0; var a2 = -1, a4 = an(a5); for (a3 = aQ(a3, a1, 1) ; ++a2 < a5;) { a4[a2] = a3(a2) } return a4 }, aI.toArray = function (a1) { return a1 && typeof a1.length == "number" ? P(a1) : cj(a1) }, aI.transform = function (a2, a4, a1, a3) { var a6 = cx(a2); if (null == a1) { if (a6) { a1 = [] } else { var a5 = a2 && a2.constructor; a1 = be(a5 && a5.prototype) } } return a4 && (a4 = aI.createCallback(a4, a3, 4), (a6 ? cX : aR)(a2, function (a7, a9, a8) { return a4(a1, a7, a9, a8) })), a1 }, aI.union = function () { return cw(bt(arguments, true, true)) }, aI.uniq = aZ, aI.values = cj, aI.where = cH, aI.without = function (a1) { return cp(a1, P(arguments, 1)) }, aI.wrap = function (a1, a2) { return ci(a2, 16, [a1]) }, aI.xor = function () { for (var a1 = -1, a4 = arguments.length; ++a1 < a4;) { var a2 = arguments[a1]; if (cx(a2) || cF(a2)) { var a3 = a3 ? cw(cp(a3, a2).concat(cp(a2, a3))) : a2 } } return a3 || [] }, aI.zip = ae, aI.zipObject = aw, aI.collect = aq, aI.drop = az, aI.each = cX, aI.eachRight = ag, aI.extend = aU, aI.methods = c2, aI.object = aw, aI.select = cH, aI.tail = az, aI.unique = aZ, aI.unzip = ae, cr(aI), aI.clone = function (a1, a4, a2, a3) { return typeof a4 != "boolean" && null != a4 && (a3 = a2, a2 = a4, a4 = false), cb(a1, a4, typeof a2 == "function" && aQ(a2, a3, 1)) }, aI.cloneDeep = function (a1, a3, a2) { return cb(a1, true, typeof a3 == "function" && aQ(a3, a2, 1)) }, aI.contains = cY, aI.escape = function (a1) { return null == a1 ? "" : aO(a1).replace(av, af) }, aI.every = aP, aI.find = aY, aI.findIndex = function (a5, a3, a1) { var a2 = -1, a4 = a5 ? a5.length : 0; for (a3 = aI.createCallback(a3, a1, 3) ; ++a2 < a4;) { if (a3(a5[a2], a2, a5)) { return a2 } } return -1 }, aI.findKey = function (a1, a4, a2) { var a3; return a4 = aI.createCallback(a4, a2, 3), aR(a1, function (a7, a5, a6) { return a4(a7, a5, a6) ? (a3 = a5, false) : void 0 }), a3 }, aI.findLast = function (a1, a4, a2) { var a3; return a4 = aI.createCallback(a4, a2, 3), ag(a1, function (a7, a5, a6) { return a4(a7, a5, a6) ? (a3 = a7, false) : void 0 }), a3 }, aI.findLastIndex = function (a1, a4, a2) { var a3 = a1 ? a1.length : 0; for (a4 = aI.createCallback(a4, a2, 3) ; a3--;) { if (a4(a1[a3], a3, a1)) { return a3 } } return -1 }, aI.findLastKey = function (a1, a4, a2) { var a3; return a4 = aI.createCallback(a4, a2, 3), cL(a1, function (a7, a5, a6) { return a4(a7, a5, a6) ? (a3 = a5, false) : void 0 }), a3 }, aI.has = function (a1, a2) { return a1 ? cC.call(a1, a2) : false }, aI.identity = aJ, aI.indexOf = cq, aI.isArguments = cF, aI.isArray = cx, aI.isBoolean = function (a1) { return true === a1 || false === a1 || a1 && typeof a1 == "object" && ca.call(a1) == v || false }, aI.isDate = function (a1) { return a1 && typeof a1 == "object" && ca.call(a1) == h || false }, aI.isElement = function (a1) { return a1 && 1 === a1.nodeType || false }, aI.isEmpty = function (a1) { var a4 = true; if (!a1) { return a4 } var a2 = ca.call(a1), a3 = a1.length; return a2 == b || a2 == r || a2 == f || a2 == Q && typeof a3 == "number" && ai(a1.splice) ? !a3 : (aR(a1, function () { return a4 = false }), a4) }, aI.isEqual = function (a1, a4, a2, a3) { return cd(a1, a4, typeof a2 == "function" && aQ(a2, a3, 2)) }, aI.isFinite = function (a1) { return aK(a1) && !ay(parseFloat(a1)) }, aI.isFunction = ai, aI.isNaN = function (a1) { return ah(a1) && a1 != +a1 }, aI.isNull = function (a1) { return null === a1 }, aI.isNumber = ah, aI.isObject = ar, aI.isPlainObject = c3, aI.isRegExp = function (a1) { return a1 && typeof a1 == "object" && ca.call(a1) == aa || false }, aI.isString = aE, aI.isUndefined = function (a1) { return typeof a1 == "undefined" }, aI.lastIndexOf = function (a1, a4, a2) { var a3 = a1 ? a1.length : 0; for (typeof a2 == "number" && (a3 = (0 > a2 ? aG(0, a3 + a2) : cP(a2, a3 - 1)) + 1) ; a3--;) { if (a1[a3] === a4) { return a3 } } return -1 }, aI.mixin = cr, aI.noConflict = function () { return c5._ = cW, this }, aI.noop = cK, aI.now = au, aI.parseInt = cV, aI.random = function (a5, a3, a1) { var a2 = null == a5, a4 = null == a3; return null == a1 && (typeof a5 == "boolean" && a4 ? (a1 = a5, a5 = 1) : a4 || typeof a3 != "boolean" || (a1 = a3, a4 = true)), a2 && a4 && (a3 = 1), a5 = +a5 || 0, a4 ? (a3 = a5, a5 = 0) : a3 = +a3 || 0, a1 || a5 % 1 || a3 % 1 ? (a1 = aj(), cP(a5 + a1 * (a3 - a5 + parseFloat("1e-" + ((a1 + "").length - 1))), a3)) : ax(a5, a3) }, aI.reduce = ce, aI.reduceRight = aW, aI.result = function (a1, a3) { if (a1) { var a2 = a1[a3]; return ai(a2) ? a1[a3]() : a2 } }, aI.runInContext = S, aI.size = function (a1) { var a2 = a1 ? a1.length : 0; return typeof a2 == "number" ? a2 : ao(a1).length }, aI.some = aD, aI.sortedIndex = aL, aI.template = function (a9, a3, a1) { var a8 = aI.templateSettings; a9 = aO(a9 || ""), a1 = c1({}, a1, a8); var a4, ba = c1({}, a1.imports, a8.imports), a8 = ao(ba), ba = cj(ba), bb = 0, a2 = a1.interpolate || u, a6 = "__p+='", a2 = c4((a1.escape || u).source + "|" + a2.source + "|" + (a2 === p ? X : u).source + "|" + (a1.evaluate || u).source + "|$", "g"); a9.replace(a2, function (bi, bf, bh, bd, bg, bc) { return bh || (bh = bd), a6 += a9.slice(bb, bc).replace(t, I), bf && (a6 += "'+__e(" + bf + ")+'"), bg && (a4 = true, a6 += "';" + bg + ";\n__p+='"), bh && (a6 += "'+((__t=(" + bh + "))==null?'':__t)+'"), bb = bc + bi.length, bi }), a6 += "';", a2 = a1 = a1.variable, a2 || (a1 = "obj", a6 = "with(" + a1 + "){" + a6 + "}"), a6 = (a4 ? a6.replace(W, "") : a6).replace(J, "$1").replace(K, "$1;"), a6 = "function(" + a1 + "){" + (a2 ? "" : a1 + "||(" + a1 + "={});") + "var __t,__p='',__e=_.escape" + (a4 ? ",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}" : ";") + a6 + "return __p}"; try { var a7 = aH(a8, "return " + a6).apply(V, ba) } catch (a5) { throw a5.source = a6, a5 } return a3 ? a7(a3) : (a7.source = a6, a7) }, aI.unescape = function (a1) { return null == a1 ? "" : aO(a1).replace(am, cN) }, aI.uniqueId = function (a1) { var a2 = ++Y; return aO(null == a1 ? "" : a1) + a2 }, aI.all = aP, aI.any = aD, aI.detect = aY, aI.findWhere = aY, aI.foldl = ce, aI.foldr = aW, aI.include = cY, aI.inject = ce, cr(function () { var a1 = {}; return aR(aI, function (a3, a2) { aI.prototype[a2] || (a1[a2] = a3) }), a1 }(), false), aI.first = cM, aI.last = function (a2, a4, a1) { var a3 = 0, a6 = a2 ? a2.length : 0; if (typeof a4 != "number" && null != a4) { var a5 = a6; for (a4 = aI.createCallback(a4, a1, 3) ; a5-- && a4(a2[a5], a5, a2) ;) { a3++ } } else { if (a3 = a4, null == a3 || a1) { return a2 ? a2[a6 - 1] : V } } return P(a2, aG(0, a6 - a3)) }, aI.sample = function (a1, a3, a2) { return a1 && typeof a1.length != "number" && (a1 = cj(a1)), null == a3 || a2 ? a1 ? a1[ax(0, a1.length - 1)] : V : (a1 = cD(a1), a1.length = cP(aG(0, a3), a1.length), a1) }, aI.take = cM, aI.head = cM, aR(aI, function (a1, a3) { var a2 = "sample" !== a3; aI.prototype[a3] || (aI.prototype[a3] = function (a5, a6) { var a7 = this.__chain__, a4 = a1(this.__wrapped__, a5, a6); return a7 || null != a5 && (!a6 || a2 && typeof a5 == "function") ? new aN(a4, a7) : a4 }) }), aI.VERSION = "2.4.1", aI.prototype.chain = function () { return this.__chain__ = true, this }, aI.prototype.toString = function () { return aO(this.__wrapped__) }, aI.prototype.value = Z, aI.prototype.valueOf = Z, cX(["join", "pop", "shift"], function (a1) { var a2 = cJ[a1]; aI.prototype[a1] = function () { var a3 = this.__chain__, a4 = a2.apply(this.__wrapped__, arguments); return a3 ? new aN(a4, a3) : a4 } }), cX(["push", "reverse", "sort", "unshift"], function (a1) { var a2 = cJ[a1]; aI.prototype[a1] = function () { return a2.apply(this.__wrapped__, arguments), this } }), cX(["concat", "slice", "splice"], function (a1) { var a2 = cJ[a1]; aI.prototype[a1] = function () { return new aN(a2.apply(this.__wrapped__, arguments), this.__chain__) } }), aI } var V, H = [], G = [], Y = 0, M = +new Date + "", B = 75, ab = 40, D = " \t\x0B\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000", W = /\b__p\+='';/g, J = /\b(__p\+=)''\+/g, K = /(__e\(.*?\)|\b__t\))\+'';/g, X = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g, e = /\w*$/, q = /^\s*function[ \n\r\t]+\w/, p = /<%=([\s\S]+?)%>/g, k = RegExp("^[" + D + "]*0+(?=.$)"), u = /($^)/, g = /\bthis\b/, t = /['\n\r\t\u2028\u2029\\]/g, c = "Array Boolean Date Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setTimeout".split(" "), f = "[object Arguments]", b = "[object Array]", v = "[object Boolean]", h = "[object Date]", d = "[object Function]", y = "[object Number]", Q = "[object Object]", aa = "[object RegExp]", r = "[object String]", m = {}; m[d] = false, m[f] = m[b] = m[v] = m[h] = m[y] = m[Q] = m[aa] = m[r] = true; var n = { leading: false, maxWait: 0, trailing: false }, o = { configurable: false, enumerable: false, value: null, writable: false }, x = { "boolean": false, "function": true, object: true, number: false, string: false, undefined: false }, w = { "\\": "\\", "'": "'", "\n": "n", "\r": "r", "\t": "t", "\u2028": "u2028", "\u2029": "u2029" }, i = x[typeof window] && window || this, j = x[typeof exports] && exports && !exports.nodeType && exports, l = x[typeof module] && module && !module.nodeType && module, s = l && l.exports === j && j, z = x[typeof global] && global; !z || z.global !== z && z.window !== z || (i = z); var a = S(); typeof define == "function" && typeof define.amd == "object" && define.amd ? (i._ = a, define(function () { return a })) : j && l ? s ? (l.exports = a)._ = a : j._ = a : i._ = a }).call(this);
/*! jQuery v1.11.0 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
!function (a, b) { "object" == typeof module && "object" == typeof module.exports ? module.exports = a.document ? b(a, !0) : function (c) { if (!c.document) { throw new Error("jQuery requires a window with a document") } return b(c) } : b(a) }("undefined" != typeof window ? window : this, function (a, b) { var c = [], d = c.slice, e = c.concat, f = c.push, g = c.indexOf, h = {}, i = h.toString, j = h.hasOwnProperty, k = "".trim, l = {}, m = "1.11.0", n = function (a, b) { return new n.fn.init(a, b) }, o = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, p = /^-ms-/, q = /-([\da-z])/gi, r = function (a, b) { return b.toUpperCase() }; n.fn = n.prototype = { jquery: m, constructor: n, selector: "", length: 0, toArray: function () { return d.call(this) }, get: function (a) { return null != a ? 0 > a ? this[a + this.length] : this[a] : d.call(this) }, pushStack: function (a) { var b = n.merge(this.constructor(), a); return b.prevObject = this, b.context = this.context, b }, each: function (a, b) { return n.each(this, a, b) }, map: function (a) { return this.pushStack(n.map(this, function (b, c) { return a.call(b, c, b) })) }, slice: function () { return this.pushStack(d.apply(this, arguments)) }, first: function () { return this.eq(0) }, last: function () { return this.eq(-1) }, eq: function (a) { var b = this.length, c = +a + (0 > a ? b : 0); return this.pushStack(c >= 0 && b > c ? [this[c]] : []) }, end: function () { return this.prevObject || this.constructor(null) }, push: f, sort: c.sort, splice: c.splice }, n.extend = n.fn.extend = function () { var a, b, c, d, e, f, g = arguments[0] || {}, h = 1, i = arguments.length, j = !1; for ("boolean" == typeof g && (j = g, g = arguments[h] || {}, h++), "object" == typeof g || n.isFunction(g) || (g = {}), h === i && (g = this, h--) ; i > h; h++) { if (null != (e = arguments[h])) { for (d in e) { a = g[d], c = e[d], g !== c && (j && c && (n.isPlainObject(c) || (b = n.isArray(c))) ? (b ? (b = !1, f = a && n.isArray(a) ? a : []) : f = a && n.isPlainObject(a) ? a : {}, g[d] = n.extend(j, f, c)) : void 0 !== c && (g[d] = c)) } } } return g }, n.extend({ expando: "jQuery" + (m + Math.random()).replace(/\D/g, ""), isReady: !0, error: function (a) { throw new Error(a) }, noop: function () { }, isFunction: function (a) { return "function" === n.type(a) }, isArray: Array.isArray || function (a) { return "array" === n.type(a) }, isWindow: function (a) { return null != a && a == a.window }, isNumeric: function (a) { return a - parseFloat(a) >= 0 }, isEmptyObject: function (a) { var b; for (b in a) { return !1 } return !0 }, isPlainObject: function (a) { var b; if (!a || "object" !== n.type(a) || a.nodeType || n.isWindow(a)) { return !1 } try { if (a.constructor && !j.call(a, "constructor") && !j.call(a.constructor.prototype, "isPrototypeOf")) { return !1 } } catch (c) { return !1 } if (l.ownLast) { for (b in a) { return j.call(a, b) } } for (b in a) { } return void 0 === b || j.call(a, b) }, type: function (a) { return null == a ? a + "" : "object" == typeof a || "function" == typeof a ? h[i.call(a)] || "object" : typeof a }, globalEval: function (b) { b && n.trim(b) && (a.execScript || function (b) { a.eval.call(a, b) })(b) }, camelCase: function (a) { return a.replace(p, "ms-").replace(q, r) }, nodeName: function (a, b) { return a.nodeName && a.nodeName.toLowerCase() === b.toLowerCase() }, each: function (a, b, c) { var d, e = 0, f = a.length, g = s(a); if (c) { if (g) { for (; f > e; e++) { if (d = b.apply(a[e], c), d === !1) { break } } } else { for (e in a) { if (d = b.apply(a[e], c), d === !1) { break } } } } else { if (g) { for (; f > e; e++) { if (d = b.call(a[e], e, a[e]), d === !1) { break } } } else { for (e in a) { if (d = b.call(a[e], e, a[e]), d === !1) { break } } } } return a }, trim: k && !k.call("\ufeff\xa0") ? function (a) { return null == a ? "" : k.call(a) } : function (a) { return null == a ? "" : (a + "").replace(o, "") }, makeArray: function (a, b) { var c = b || []; return null != a && (s(Object(a)) ? n.merge(c, "string" == typeof a ? [a] : a) : f.call(c, a)), c }, inArray: function (a, b, c) { var d; if (b) { if (g) { return g.call(b, a, c) } for (d = b.length, c = c ? 0 > c ? Math.max(0, d + c) : c : 0; d > c; c++) { if (c in b && b[c] === a) { return c } } } return -1 }, merge: function (a, b) { var c = +b.length, d = 0, e = a.length; while (c > d) { a[e++] = b[d++] } if (c !== c) { while (void 0 !== b[d]) { a[e++] = b[d++] } } return a.length = e, a }, grep: function (a, b, c) { for (var d, e = [], f = 0, g = a.length, h = !c; g > f; f++) { d = !b(a[f], f), d !== h && e.push(a[f]) } return e }, map: function (a, b, c) { var d, f = 0, g = a.length, h = s(a), i = []; if (h) { for (; g > f; f++) { d = b(a[f], f, c), null != d && i.push(d) } } else { for (f in a) { d = b(a[f], f, c), null != d && i.push(d) } } return e.apply([], i) }, guid: 1, proxy: function (a, b) { var c, e, f; return "string" == typeof b && (f = a[b], b = a, a = f), n.isFunction(a) ? (c = d.call(arguments, 2), e = function () { return a.apply(b || this, c.concat(d.call(arguments))) }, e.guid = a.guid = a.guid || n.guid++, e) : void 0 }, now: function () { return +new Date }, support: l }), n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function (a, b) { h["[object " + b + "]"] = b.toLowerCase() }); function s(a) { var b = a.length, c = n.type(a); return "function" === c || n.isWindow(a) ? !1 : 1 === a.nodeType && b ? !0 : "array" === c || 0 === b || "number" == typeof b && b > 0 && b - 1 in a } var t = function (a) { var b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s = "sizzle" + -new Date, t = a.document, u = 0, v = 0, w = eb(), x = eb(), y = eb(), z = function (a, b) { return a === b && (j = !0), 0 }, A = "undefined", B = 1 << 31, C = {}.hasOwnProperty, D = [], E = D.pop, F = D.push, G = D.push, H = D.slice, I = D.indexOf || function (a) { for (var b = 0, c = this.length; c > b; b++) { if (this[b] === a) { return b } } return -1 }, J = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped", K = "[\\x20\\t\\r\\n\\f]", L = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+", M = L.replace("w", "w#"), N = "\\[" + K + "*(" + L + ")" + K + "*(?:([*^$|!~]?=)" + K + "*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|(" + M + ")|)|)" + K + "*\\]", O = ":(" + L + ")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|" + N.replace(3, 8) + ")*)|.*)\\)|)", P = new RegExp("^" + K + "+|((?:^|[^\\\\])(?:\\\\.)*)" + K + "+$", "g"), Q = new RegExp("^" + K + "*," + K + "*"), R = new RegExp("^" + K + "*([>+~]|" + K + ")" + K + "*"), S = new RegExp("=" + K + "*([^\\]'\"]*?)" + K + "*\\]", "g"), T = new RegExp(O), U = new RegExp("^" + M + "$"), V = { ID: new RegExp("^#(" + L + ")"), CLASS: new RegExp("^\\.(" + L + ")"), TAG: new RegExp("^(" + L.replace("w", "w*") + ")"), ATTR: new RegExp("^" + N), PSEUDO: new RegExp("^" + O), CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + K + "*(even|odd|(([+-]|)(\\d*)n|)" + K + "*(?:([+-]|)" + K + "*(\\d+)|))" + K + "*\\)|)", "i"), bool: new RegExp("^(?:" + J + ")$", "i"), needsContext: new RegExp("^" + K + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + K + "*((?:-\\d)?\\d*)" + K + "*\\)|)(?=[^-]|$)", "i") }, W = /^(?:input|select|textarea|button)$/i, X = /^h\d$/i, Y = /^[^{]+\{\s*\[native \w/, Z = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/, $ = /[+~]/, _ = /'|\\/g, ab = new RegExp("\\\\([\\da-f]{1,6}" + K + "?|(" + K + ")|.)", "ig"), bb = function (a, b, c) { var d = "0x" + b - 65536; return d !== d || c ? b : 0 > d ? String.fromCharCode(d + 65536) : String.fromCharCode(d >> 10 | 55296, 1023 & d | 56320) }; try { G.apply(D = H.call(t.childNodes), t.childNodes), D[t.childNodes.length].nodeType } catch (cb) { G = { apply: D.length ? function (a, b) { F.apply(a, H.call(b)) } : function (a, b) { var c = a.length, d = 0; while (a[c++] = b[d++]) { } a.length = c - 1 } } } function db(a, b, d, e) { var f, g, h, i, j, m, p, q, u, v; if ((b ? b.ownerDocument || b : t) !== l && k(b), b = b || l, d = d || [], !a || "string" != typeof a) { return d } if (1 !== (i = b.nodeType) && 9 !== i) { return [] } if (n && !e) { if (f = Z.exec(a)) { if (h = f[1]) { if (9 === i) { if (g = b.getElementById(h), !g || !g.parentNode) { return d } if (g.id === h) { return d.push(g), d } } else { if (b.ownerDocument && (g = b.ownerDocument.getElementById(h)) && r(b, g) && g.id === h) { return d.push(g), d } } } else { if (f[2]) { return G.apply(d, b.getElementsByTagName(a)), d } if ((h = f[3]) && c.getElementsByClassName && b.getElementsByClassName) { return G.apply(d, b.getElementsByClassName(h)), d } } } if (c.qsa && (!o || !o.test(a))) { if (q = p = s, u = b, v = 9 === i && a, 1 === i && "object" !== b.nodeName.toLowerCase()) { m = ob(a), (p = b.getAttribute("id")) ? q = p.replace(_, "\\$&") : b.setAttribute("id", q), q = "[id='" + q + "'] ", j = m.length; while (j--) { m[j] = q + pb(m[j]) } u = $.test(a) && mb(b.parentNode) || b, v = m.join(",") } if (v) { try { return G.apply(d, u.querySelectorAll(v)), d } catch (w) { } finally { p || b.removeAttribute("id") } } } } return xb(a.replace(P, "$1"), b, d, e) } function eb() { var a = []; function b(c, e) { return a.push(c + " ") > d.cacheLength && delete b[a.shift()], b[c + " "] = e } return b } function fb(a) { return a[s] = !0, a } function gb(a) { var b = l.createElement("div"); try { return !!a(b) } catch (c) { return !1 } finally { b.parentNode && b.parentNode.removeChild(b), b = null } } function hb(a, b) { var c = a.split("|"), e = a.length; while (e--) { d.attrHandle[c[e]] = b } } function ib(a, b) { var c = b && a, d = c && 1 === a.nodeType && 1 === b.nodeType && (~b.sourceIndex || B) - (~a.sourceIndex || B); if (d) { return d } if (c) { while (c = c.nextSibling) { if (c === b) { return -1 } } } return a ? 1 : -1 } function jb(a) { return function (b) { var c = b.nodeName.toLowerCase(); return "input" === c && b.type === a } } function kb(a) { return function (b) { var c = b.nodeName.toLowerCase(); return ("input" === c || "button" === c) && b.type === a } } function lb(a) { return fb(function (b) { return b = +b, fb(function (c, d) { var e, f = a([], c.length, b), g = f.length; while (g--) { c[e = f[g]] && (c[e] = !(d[e] = c[e])) } }) }) } function mb(a) { return a && typeof a.getElementsByTagName !== A && a } c = db.support = {}, f = db.isXML = function (a) { var b = a && (a.ownerDocument || a).documentElement; return b ? "HTML" !== b.nodeName : !1 }, k = db.setDocument = function (a) { var b, e = a ? a.ownerDocument || a : t, g = e.defaultView; return e !== l && 9 === e.nodeType && e.documentElement ? (l = e, m = e.documentElement, n = !f(e), g && g !== g.top && (g.addEventListener ? g.addEventListener("unload", function () { k() }, !1) : g.attachEvent && g.attachEvent("onunload", function () { k() })), c.attributes = gb(function (a) { return a.className = "i", !a.getAttribute("className") }), c.getElementsByTagName = gb(function (a) { return a.appendChild(e.createComment("")), !a.getElementsByTagName("*").length }), c.getElementsByClassName = Y.test(e.getElementsByClassName) && gb(function (a) { return a.innerHTML = "<div class='a'></div><div class='a i'></div>", a.firstChild.className = "i", 2 === a.getElementsByClassName("i").length }), c.getById = gb(function (a) { return m.appendChild(a).id = s, !e.getElementsByName || !e.getElementsByName(s).length }), c.getById ? (d.find.ID = function (a, b) { if (typeof b.getElementById !== A && n) { var c = b.getElementById(a); return c && c.parentNode ? [c] : [] } }, d.filter.ID = function (a) { var b = a.replace(ab, bb); return function (a) { return a.getAttribute("id") === b } }) : (delete d.find.ID, d.filter.ID = function (a) { var b = a.replace(ab, bb); return function (a) { var c = typeof a.getAttributeNode !== A && a.getAttributeNode("id"); return c && c.value === b } }), d.find.TAG = c.getElementsByTagName ? function (a, b) { return typeof b.getElementsByTagName !== A ? b.getElementsByTagName(a) : void 0 } : function (a, b) { var c, d = [], e = 0, f = b.getElementsByTagName(a); if ("*" === a) { while (c = f[e++]) { 1 === c.nodeType && d.push(c) } return d } return f }, d.find.CLASS = c.getElementsByClassName && function (a, b) { return typeof b.getElementsByClassName !== A && n ? b.getElementsByClassName(a) : void 0 }, p = [], o = [], (c.qsa = Y.test(e.querySelectorAll)) && (gb(function (a) { a.innerHTML = "<select t=''><option selected=''></option></select>", a.querySelectorAll("[t^='']").length && o.push("[*^$]=" + K + "*(?:''|\"\")"), a.querySelectorAll("[selected]").length || o.push("\\[" + K + "*(?:value|" + J + ")"), a.querySelectorAll(":checked").length || o.push(":checked") }), gb(function (a) { var b = e.createElement("input"); b.setAttribute("type", "hidden"), a.appendChild(b).setAttribute("name", "D"), a.querySelectorAll("[name=d]").length && o.push("name" + K + "*[*^$|!~]?="), a.querySelectorAll(":enabled").length || o.push(":enabled", ":disabled"), a.querySelectorAll("*,:x"), o.push(",.*:") })), (c.matchesSelector = Y.test(q = m.webkitMatchesSelector || m.mozMatchesSelector || m.oMatchesSelector || m.msMatchesSelector)) && gb(function (a) { c.disconnectedMatch = q.call(a, "div"), q.call(a, "[s!='']:x"), p.push("!=", O) }), o = o.length && new RegExp(o.join("|")), p = p.length && new RegExp(p.join("|")), b = Y.test(m.compareDocumentPosition), r = b || Y.test(m.contains) ? function (a, b) { var c = 9 === a.nodeType ? a.documentElement : a, d = b && b.parentNode; return a === d || !(!d || 1 !== d.nodeType || !(c.contains ? c.contains(d) : a.compareDocumentPosition && 16 & a.compareDocumentPosition(d))) } : function (a, b) { if (b) { while (b = b.parentNode) { if (b === a) { return !0 } } } return !1 }, z = b ? function (a, b) { if (a === b) { return j = !0, 0 } var d = !a.compareDocumentPosition - !b.compareDocumentPosition; return d ? d : (d = (a.ownerDocument || a) === (b.ownerDocument || b) ? a.compareDocumentPosition(b) : 1, 1 & d || !c.sortDetached && b.compareDocumentPosition(a) === d ? a === e || a.ownerDocument === t && r(t, a) ? -1 : b === e || b.ownerDocument === t && r(t, b) ? 1 : i ? I.call(i, a) - I.call(i, b) : 0 : 4 & d ? -1 : 1) } : function (a, b) { if (a === b) { return j = !0, 0 } var c, d = 0, f = a.parentNode, g = b.parentNode, h = [a], k = [b]; if (!f || !g) { return a === e ? -1 : b === e ? 1 : f ? -1 : g ? 1 : i ? I.call(i, a) - I.call(i, b) : 0 } if (f === g) { return ib(a, b) } c = a; while (c = c.parentNode) { h.unshift(c) } c = b; while (c = c.parentNode) { k.unshift(c) } while (h[d] === k[d]) { d++ } return d ? ib(h[d], k[d]) : h[d] === t ? -1 : k[d] === t ? 1 : 0 }, e) : l }, db.matches = function (a, b) { return db(a, null, null, b) }, db.matchesSelector = function (a, b) { if ((a.ownerDocument || a) !== l && k(a), b = b.replace(S, "='$1']"), !(!c.matchesSelector || !n || p && p.test(b) || o && o.test(b))) { try { var d = q.call(a, b); if (d || c.disconnectedMatch || a.document && 11 !== a.document.nodeType) { return d } } catch (e) { } } return db(b, l, null, [a]).length > 0 }, db.contains = function (a, b) { return (a.ownerDocument || a) !== l && k(a), r(a, b) }, db.attr = function (a, b) { (a.ownerDocument || a) !== l && k(a); var e = d.attrHandle[b.toLowerCase()], f = e && C.call(d.attrHandle, b.toLowerCase()) ? e(a, b, !n) : void 0; return void 0 !== f ? f : c.attributes || !n ? a.getAttribute(b) : (f = a.getAttributeNode(b)) && f.specified ? f.value : null }, db.error = function (a) { throw new Error("Syntax error, unrecognized expression: " + a) }, db.uniqueSort = function (a) { var b, d = [], e = 0, f = 0; if (j = !c.detectDuplicates, i = !c.sortStable && a.slice(0), a.sort(z), j) { while (b = a[f++]) { b === a[f] && (e = d.push(f)) } while (e--) { a.splice(d[e], 1) } } return i = null, a }, e = db.getText = function (a) { var b, c = "", d = 0, f = a.nodeType; if (f) { if (1 === f || 9 === f || 11 === f) { if ("string" == typeof a.textContent) { return a.textContent } for (a = a.firstChild; a; a = a.nextSibling) { c += e(a) } } else { if (3 === f || 4 === f) { return a.nodeValue } } } else { while (b = a[d++]) { c += e(b) } } return c }, d = db.selectors = { cacheLength: 50, createPseudo: fb, match: V, attrHandle: {}, find: {}, relative: { ">": { dir: "parentNode", first: !0 }, " ": { dir: "parentNode" }, "+": { dir: "previousSibling", first: !0 }, "~": { dir: "previousSibling" } }, preFilter: { ATTR: function (a) { return a[1] = a[1].replace(ab, bb), a[3] = (a[4] || a[5] || "").replace(ab, bb), "~=" === a[2] && (a[3] = " " + a[3] + " "), a.slice(0, 4) }, CHILD: function (a) { return a[1] = a[1].toLowerCase(), "nth" === a[1].slice(0, 3) ? (a[3] || db.error(a[0]), a[4] = +(a[4] ? a[5] + (a[6] || 1) : 2 * ("even" === a[3] || "odd" === a[3])), a[5] = +(a[7] + a[8] || "odd" === a[3])) : a[3] && db.error(a[0]), a }, PSEUDO: function (a) { var b, c = !a[5] && a[2]; return V.CHILD.test(a[0]) ? null : (a[3] && void 0 !== a[4] ? a[2] = a[4] : c && T.test(c) && (b = ob(c, !0)) && (b = c.indexOf(")", c.length - b) - c.length) && (a[0] = a[0].slice(0, b), a[2] = c.slice(0, b)), a.slice(0, 3)) } }, filter: { TAG: function (a) { var b = a.replace(ab, bb).toLowerCase(); return "*" === a ? function () { return !0 } : function (a) { return a.nodeName && a.nodeName.toLowerCase() === b } }, CLASS: function (a) { var b = w[a + " "]; return b || (b = new RegExp("(^|" + K + ")" + a + "(" + K + "|$)")) && w(a, function (a) { return b.test("string" == typeof a.className && a.className || typeof a.getAttribute !== A && a.getAttribute("class") || "") }) }, ATTR: function (a, b, c) { return function (d) { var e = db.attr(d, a); return null == e ? "!=" === b : b ? (e += "", "=" === b ? e === c : "!=" === b ? e !== c : "^=" === b ? c && 0 === e.indexOf(c) : "*=" === b ? c && e.indexOf(c) > -1 : "$=" === b ? c && e.slice(-c.length) === c : "~=" === b ? (" " + e + " ").indexOf(c) > -1 : "|=" === b ? e === c || e.slice(0, c.length + 1) === c + "-" : !1) : !0 } }, CHILD: function (a, b, c, d, e) { var f = "nth" !== a.slice(0, 3), g = "last" !== a.slice(-4), h = "of-type" === b; return 1 === d && 0 === e ? function (a) { return !!a.parentNode } : function (b, c, i) { var j, k, l, m, n, o, p = f !== g ? "nextSibling" : "previousSibling", q = b.parentNode, r = h && b.nodeName.toLowerCase(), t = !i && !h; if (q) { if (f) { while (p) { l = b; while (l = l[p]) { if (h ? l.nodeName.toLowerCase() === r : 1 === l.nodeType) { return !1 } } o = p = "only" === a && !o && "nextSibling" } return !0 } if (o = [g ? q.firstChild : q.lastChild], g && t) { k = q[s] || (q[s] = {}), j = k[a] || [], n = j[0] === u && j[1], m = j[0] === u && j[2], l = n && q.childNodes[n]; while (l = ++n && l && l[p] || (m = n = 0) || o.pop()) { if (1 === l.nodeType && ++m && l === b) { k[a] = [u, n, m]; break } } } else { if (t && (j = (b[s] || (b[s] = {}))[a]) && j[0] === u) { m = j[1] } else { while (l = ++n && l && l[p] || (m = n = 0) || o.pop()) { if ((h ? l.nodeName.toLowerCase() === r : 1 === l.nodeType) && ++m && (t && ((l[s] || (l[s] = {}))[a] = [u, m]), l === b)) { break } } } } return m -= e, m === d || m % d === 0 && m / d >= 0 } } }, PSEUDO: function (a, b) { var c, e = d.pseudos[a] || d.setFilters[a.toLowerCase()] || db.error("unsupported pseudo: " + a); return e[s] ? e(b) : e.length > 1 ? (c = [a, a, "", b], d.setFilters.hasOwnProperty(a.toLowerCase()) ? fb(function (a, c) { var d, f = e(a, b), g = f.length; while (g--) { d = I.call(a, f[g]), a[d] = !(c[d] = f[g]) } }) : function (a) { return e(a, 0, c) }) : e } }, pseudos: { not: fb(function (a) { var b = [], c = [], d = g(a.replace(P, "$1")); return d[s] ? fb(function (a, b, c, e) { var f, g = d(a, null, e, []), h = a.length; while (h--) { (f = g[h]) && (a[h] = !(b[h] = f)) } }) : function (a, e, f) { return b[0] = a, d(b, null, f, c), !c.pop() } }), has: fb(function (a) { return function (b) { return db(a, b).length > 0 } }), contains: fb(function (a) { return function (b) { return (b.textContent || b.innerText || e(b)).indexOf(a) > -1 } }), lang: fb(function (a) { return U.test(a || "") || db.error("unsupported lang: " + a), a = a.replace(ab, bb).toLowerCase(), function (b) { var c; do { if (c = n ? b.lang : b.getAttribute("xml:lang") || b.getAttribute("lang")) { return c = c.toLowerCase(), c === a || 0 === c.indexOf(a + "-") } } while ((b = b.parentNode) && 1 === b.nodeType); return !1 } }), target: function (b) { var c = a.location && a.location.hash; return c && c.slice(1) === b.id }, root: function (a) { return a === m }, focus: function (a) { return a === l.activeElement && (!l.hasFocus || l.hasFocus()) && !!(a.type || a.href || ~a.tabIndex) }, enabled: function (a) { return a.disabled === !1 }, disabled: function (a) { return a.disabled === !0 }, checked: function (a) { var b = a.nodeName.toLowerCase(); return "input" === b && !!a.checked || "option" === b && !!a.selected }, selected: function (a) { return a.parentNode && a.parentNode.selectedIndex, a.selected === !0 }, empty: function (a) { for (a = a.firstChild; a; a = a.nextSibling) { if (a.nodeType < 6) { return !1 } } return !0 }, parent: function (a) { return !d.pseudos.empty(a) }, header: function (a) { return X.test(a.nodeName) }, input: function (a) { return W.test(a.nodeName) }, button: function (a) { var b = a.nodeName.toLowerCase(); return "input" === b && "button" === a.type || "button" === b }, text: function (a) { var b; return "input" === a.nodeName.toLowerCase() && "text" === a.type && (null == (b = a.getAttribute("type")) || "text" === b.toLowerCase()) }, first: lb(function () { return [0] }), last: lb(function (a, b) { return [b - 1] }), eq: lb(function (a, b, c) { return [0 > c ? c + b : c] }), even: lb(function (a, b) { for (var c = 0; b > c; c += 2) { a.push(c) } return a }), odd: lb(function (a, b) { for (var c = 1; b > c; c += 2) { a.push(c) } return a }), lt: lb(function (a, b, c) { for (var d = 0 > c ? c + b : c; --d >= 0;) { a.push(d) } return a }), gt: lb(function (a, b, c) { for (var d = 0 > c ? c + b : c; ++d < b;) { a.push(d) } return a }) } }, d.pseudos.nth = d.pseudos.eq; for (b in { radio: !0, checkbox: !0, file: !0, password: !0, image: !0 }) { d.pseudos[b] = jb(b) } for (b in { submit: !0, reset: !0 }) { d.pseudos[b] = kb(b) } function nb() { } nb.prototype = d.filters = d.pseudos, d.setFilters = new nb; function ob(a, b) { var c, e, f, g, h, i, j, k = x[a + " "]; if (k) { return b ? 0 : k.slice(0) } h = a, i = [], j = d.preFilter; while (h) { (!c || (e = Q.exec(h))) && (e && (h = h.slice(e[0].length) || h), i.push(f = [])), c = !1, (e = R.exec(h)) && (c = e.shift(), f.push({ value: c, type: e[0].replace(P, " ") }), h = h.slice(c.length)); for (g in d.filter) { !(e = V[g].exec(h)) || j[g] && !(e = j[g](e)) || (c = e.shift(), f.push({ value: c, type: g, matches: e }), h = h.slice(c.length)) } if (!c) { break } } return b ? h.length : h ? db.error(a) : x(a, i).slice(0) } function pb(a) { for (var b = 0, c = a.length, d = ""; c > b; b++) { d += a[b].value } return d } function qb(a, b, c) { var d = b.dir, e = c && "parentNode" === d, f = v++; return b.first ? function (b, c, f) { while (b = b[d]) { if (1 === b.nodeType || e) { return a(b, c, f) } } } : function (b, c, g) { var h, i, j = [u, f]; if (g) { while (b = b[d]) { if ((1 === b.nodeType || e) && a(b, c, g)) { return !0 } } } else { while (b = b[d]) { if (1 === b.nodeType || e) { if (i = b[s] || (b[s] = {}), (h = i[d]) && h[0] === u && h[1] === f) { return j[2] = h[2] } if (i[d] = j, j[2] = a(b, c, g)) { return !0 } } } } } } function rb(a) { return a.length > 1 ? function (b, c, d) { var e = a.length; while (e--) { if (!a[e](b, c, d)) { return !1 } } return !0 } : a[0] } function sb(a, b, c, d, e) { for (var f, g = [], h = 0, i = a.length, j = null != b; i > h; h++) { (f = a[h]) && (!c || c(f, d, e)) && (g.push(f), j && b.push(h)) } return g } function tb(a, b, c, d, e, f) { return d && !d[s] && (d = tb(d)), e && !e[s] && (e = tb(e, f)), fb(function (f, g, h, i) { var j, k, l, m = [], n = [], o = g.length, p = f || wb(b || "*", h.nodeType ? [h] : h, []), q = !a || !f && b ? p : sb(p, m, a, h, i), r = c ? e || (f ? a : o || d) ? [] : g : q; if (c && c(q, r, h, i), d) { j = sb(r, n), d(j, [], h, i), k = j.length; while (k--) { (l = j[k]) && (r[n[k]] = !(q[n[k]] = l)) } } if (f) { if (e || a) { if (e) { j = [], k = r.length; while (k--) { (l = r[k]) && j.push(q[k] = l) } e(null, r = [], j, i) } k = r.length; while (k--) { (l = r[k]) && (j = e ? I.call(f, l) : m[k]) > -1 && (f[j] = !(g[j] = l)) } } } else { r = sb(r === g ? r.splice(o, r.length) : r), e ? e(null, g, r, i) : G.apply(g, r) } }) } function ub(a) { for (var b, c, e, f = a.length, g = d.relative[a[0].type], i = g || d.relative[" "], j = g ? 1 : 0, k = qb(function (a) { return a === b }, i, !0), l = qb(function (a) { return I.call(b, a) > -1 }, i, !0), m = [function (a, c, d) { return !g && (d || c !== h) || ((b = c).nodeType ? k(a, c, d) : l(a, c, d)) }]; f > j; j++) { if (c = d.relative[a[j].type]) { m = [qb(rb(m), c)] } else { if (c = d.filter[a[j].type].apply(null, a[j].matches), c[s]) { for (e = ++j; f > e; e++) { if (d.relative[a[e].type]) { break } } return tb(j > 1 && rb(m), j > 1 && pb(a.slice(0, j - 1).concat({ value: " " === a[j - 2].type ? "*" : "" })).replace(P, "$1"), c, e > j && ub(a.slice(j, e)), f > e && ub(a = a.slice(e)), f > e && pb(a)) } m.push(c) } } return rb(m) } function vb(a, b) { var c = b.length > 0, e = a.length > 0, f = function (f, g, i, j, k) { var m, n, o, p = 0, q = "0", r = f && [], s = [], t = h, v = f || e && d.find.TAG("*", k), w = u += null == t ? 1 : Math.random() || 0.1, x = v.length; for (k && (h = g !== l && g) ; q !== x && null != (m = v[q]) ; q++) { if (e && m) { n = 0; while (o = a[n++]) { if (o(m, g, i)) { j.push(m); break } } k && (u = w) } c && ((m = !o && m) && p--, f && r.push(m)) } if (p += q, c && q !== p) { n = 0; while (o = b[n++]) { o(r, s, g, i) } if (f) { if (p > 0) { while (q--) { r[q] || s[q] || (s[q] = E.call(j)) } } s = sb(s) } G.apply(j, s), k && !f && s.length > 0 && p + b.length > 1 && db.uniqueSort(j) } return k && (u = w, h = t), r }; return c ? fb(f) : f } g = db.compile = function (a, b) { var c, d = [], e = [], f = y[a + " "]; if (!f) { b || (b = ob(a)), c = b.length; while (c--) { f = ub(b[c]), f[s] ? d.push(f) : e.push(f) } f = y(a, vb(e, d)) } return f }; function wb(a, b, c) { for (var d = 0, e = b.length; e > d; d++) { db(a, b[d], c) } return c } function xb(a, b, e, f) { var h, i, j, k, l, m = ob(a); if (!f && 1 === m.length) { if (i = m[0] = m[0].slice(0), i.length > 2 && "ID" === (j = i[0]).type && c.getById && 9 === b.nodeType && n && d.relative[i[1].type]) { if (b = (d.find.ID(j.matches[0].replace(ab, bb), b) || [])[0], !b) { return e } a = a.slice(i.shift().value.length) } h = V.needsContext.test(a) ? 0 : i.length; while (h--) { if (j = i[h], d.relative[k = j.type]) { break } if ((l = d.find[k]) && (f = l(j.matches[0].replace(ab, bb), $.test(i[0].type) && mb(b.parentNode) || b))) { if (i.splice(h, 1), a = f.length && pb(i), !a) { return G.apply(e, f), e } break } } } return g(a, m)(f, b, !n, e, $.test(a) && mb(b.parentNode) || b), e } return c.sortStable = s.split("").sort(z).join("") === s, c.detectDuplicates = !!j, k(), c.sortDetached = gb(function (a) { return 1 & a.compareDocumentPosition(l.createElement("div")) }), gb(function (a) { return a.innerHTML = "<a href='#'></a>", "#" === a.firstChild.getAttribute("href") }) || hb("type|href|height|width", function (a, b, c) { return c ? void 0 : a.getAttribute(b, "type" === b.toLowerCase() ? 1 : 2) }), c.attributes && gb(function (a) { return a.innerHTML = "<input/>", a.firstChild.setAttribute("value", ""), "" === a.firstChild.getAttribute("value") }) || hb("value", function (a, b, c) { return c || "input" !== a.nodeName.toLowerCase() ? void 0 : a.defaultValue }), gb(function (a) { return null == a.getAttribute("disabled") }) || hb(J, function (a, b, c) { var d; return c ? void 0 : a[b] === !0 ? b.toLowerCase() : (d = a.getAttributeNode(b)) && d.specified ? d.value : null }), db }(a); n.find = t, n.expr = t.selectors, n.expr[":"] = n.expr.pseudos, n.unique = t.uniqueSort, n.text = t.getText, n.isXMLDoc = t.isXML, n.contains = t.contains; var u = n.expr.match.needsContext, v = /^<(\w+)\s*\/?>(?:<\/\1>|)$/, w = /^.[^:#\[\.,]*$/; function x(a, b, c) { if (n.isFunction(b)) { return n.grep(a, function (a, d) { return !!b.call(a, d, a) !== c }) } if (b.nodeType) { return n.grep(a, function (a) { return a === b !== c }) } if ("string" == typeof b) { if (w.test(b)) { return n.filter(b, a, c) } b = n.filter(b, a) } return n.grep(a, function (a) { return n.inArray(a, b) >= 0 !== c }) } n.filter = function (a, b, c) { var d = b[0]; return c && (a = ":not(" + a + ")"), 1 === b.length && 1 === d.nodeType ? n.find.matchesSelector(d, a) ? [d] : [] : n.find.matches(a, n.grep(b, function (a) { return 1 === a.nodeType })) }, n.fn.extend({ find: function (a) { var b, c = [], d = this, e = d.length; if ("string" != typeof a) { return this.pushStack(n(a).filter(function () { for (b = 0; e > b; b++) { if (n.contains(d[b], this)) { return !0 } } })) } for (b = 0; e > b; b++) { n.find(a, d[b], c) } return c = this.pushStack(e > 1 ? n.unique(c) : c), c.selector = this.selector ? this.selector + " " + a : a, c }, filter: function (a) { return this.pushStack(x(this, a || [], !1)) }, not: function (a) { return this.pushStack(x(this, a || [], !0)) }, is: function (a) { return !!x(this, "string" == typeof a && u.test(a) ? n(a) : a || [], !1).length } }); var y, z = a.document, A = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/, B = n.fn.init = function (a, b) { var c, d; if (!a) { return this } if ("string" == typeof a) { if (c = "<" === a.charAt(0) && ">" === a.charAt(a.length - 1) && a.length >= 3 ? [null, a, null] : A.exec(a), !c || !c[1] && b) { return !b || b.jquery ? (b || y).find(a) : this.constructor(b).find(a) } if (c[1]) { if (b = b instanceof n ? b[0] : b, n.merge(this, n.parseHTML(c[1], b && b.nodeType ? b.ownerDocument || b : z, !0)), v.test(c[1]) && n.isPlainObject(b)) { for (c in b) { n.isFunction(this[c]) ? this[c](b[c]) : this.attr(c, b[c]) } } return this } if (d = z.getElementById(c[2]), d && d.parentNode) { if (d.id !== c[2]) { return y.find(a) } this.length = 1, this[0] = d } return this.context = z, this.selector = a, this } return a.nodeType ? (this.context = this[0] = a, this.length = 1, this) : n.isFunction(a) ? "undefined" != typeof y.ready ? y.ready(a) : a(n) : (void 0 !== a.selector && (this.selector = a.selector, this.context = a.context), n.makeArray(a, this)) }; B.prototype = n.fn, y = n(z); var C = /^(?:parents|prev(?:Until|All))/, D = { children: !0, contents: !0, next: !0, prev: !0 }; n.extend({ dir: function (a, b, c) { var d = [], e = a[b]; while (e && 9 !== e.nodeType && (void 0 === c || 1 !== e.nodeType || !n(e).is(c))) { 1 === e.nodeType && d.push(e), e = e[b] } return d }, sibling: function (a, b) { for (var c = []; a; a = a.nextSibling) { 1 === a.nodeType && a !== b && c.push(a) } return c } }), n.fn.extend({ has: function (a) { var b, c = n(a, this), d = c.length; return this.filter(function () { for (b = 0; d > b; b++) { if (n.contains(this, c[b])) { return !0 } } }) }, closest: function (a, b) { for (var c, d = 0, e = this.length, f = [], g = u.test(a) || "string" != typeof a ? n(a, b || this.context) : 0; e > d; d++) { for (c = this[d]; c && c !== b; c = c.parentNode) { if (c.nodeType < 11 && (g ? g.index(c) > -1 : 1 === c.nodeType && n.find.matchesSelector(c, a))) { f.push(c); break } } } return this.pushStack(f.length > 1 ? n.unique(f) : f) }, index: function (a) { return a ? "string" == typeof a ? n.inArray(this[0], n(a)) : n.inArray(a.jquery ? a[0] : a, this) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1 }, add: function (a, b) { return this.pushStack(n.unique(n.merge(this.get(), n(a, b)))) }, addBack: function (a) { return this.add(null == a ? this.prevObject : this.prevObject.filter(a)) } }); function E(a, b) { do { a = a[b] } while (a && 1 !== a.nodeType); return a } n.each({ parent: function (a) { var b = a.parentNode; return b && 11 !== b.nodeType ? b : null }, parents: function (a) { return n.dir(a, "parentNode") }, parentsUntil: function (a, b, c) { return n.dir(a, "parentNode", c) }, next: function (a) { return E(a, "nextSibling") }, prev: function (a) { return E(a, "previousSibling") }, nextAll: function (a) { return n.dir(a, "nextSibling") }, prevAll: function (a) { return n.dir(a, "previousSibling") }, nextUntil: function (a, b, c) { return n.dir(a, "nextSibling", c) }, prevUntil: function (a, b, c) { return n.dir(a, "previousSibling", c) }, siblings: function (a) { return n.sibling((a.parentNode || {}).firstChild, a) }, children: function (a) { return n.sibling(a.firstChild) }, contents: function (a) { return n.nodeName(a, "iframe") ? a.contentDocument || a.contentWindow.document : n.merge([], a.childNodes) } }, function (a, b) { n.fn[a] = function (c, d) { var e = n.map(this, b, c); return "Until" !== a.slice(-5) && (d = c), d && "string" == typeof d && (e = n.filter(d, e)), this.length > 1 && (D[a] || (e = n.unique(e)), C.test(a) && (e = e.reverse())), this.pushStack(e) } }); var F = /\S+/g, G = {}; function H(a) { var b = G[a] = {}; return n.each(a.match(F) || [], function (a, c) { b[c] = !0 }), b } n.Callbacks = function (a) { a = "string" == typeof a ? G[a] || H(a) : n.extend({}, a); var b, c, d, e, f, g, h = [], i = !a.once && [], j = function (l) { for (c = a.memory && l, d = !0, f = g || 0, g = 0, e = h.length, b = !0; h && e > f; f++) { if (h[f].apply(l[0], l[1]) === !1 && a.stopOnFalse) { c = !1; break } } b = !1, h && (i ? i.length && j(i.shift()) : c ? h = [] : k.disable()) }, k = { add: function () { if (h) { var d = h.length; !function f(b) { n.each(b, function (b, c) { var d = n.type(c); "function" === d ? a.unique && k.has(c) || h.push(c) : c && c.length && "string" !== d && f(c) }) }(arguments), b ? e = h.length : c && (g = d, j(c)) } return this }, remove: function () { return h && n.each(arguments, function (a, c) { var d; while ((d = n.inArray(c, h, d)) > -1) { h.splice(d, 1), b && (e >= d && e--, f >= d && f--) } }), this }, has: function (a) { return a ? n.inArray(a, h) > -1 : !(!h || !h.length) }, empty: function () { return h = [], e = 0, this }, disable: function () { return h = i = c = void 0, this }, disabled: function () { return !h }, lock: function () { return i = void 0, c || k.disable(), this }, locked: function () { return !i }, fireWith: function (a, c) { return !h || d && !i || (c = c || [], c = [a, c.slice ? c.slice() : c], b ? i.push(c) : j(c)), this }, fire: function () { return k.fireWith(this, arguments), this }, fired: function () { return !!d } }; return k }, n.extend({ Deferred: function (a) { var b = [["resolve", "done", n.Callbacks("once memory"), "resolved"], ["reject", "fail", n.Callbacks("once memory"), "rejected"], ["notify", "progress", n.Callbacks("memory")]], c = "pending", d = { state: function () { return c }, always: function () { return e.done(arguments).fail(arguments), this }, then: function () { var a = arguments; return n.Deferred(function (c) { n.each(b, function (b, f) { var g = n.isFunction(a[b]) && a[b]; e[f[1]](function () { var a = g && g.apply(this, arguments); a && n.isFunction(a.promise) ? a.promise().done(c.resolve).fail(c.reject).progress(c.notify) : c[f[0] + "With"](this === d ? c.promise() : this, g ? [a] : arguments) }) }), a = null }).promise() }, promise: function (a) { return null != a ? n.extend(a, d) : d } }, e = {}; return d.pipe = d.then, n.each(b, function (a, f) { var g = f[2], h = f[3]; d[f[1]] = g.add, h && g.add(function () { c = h }, b[1 ^ a][2].disable, b[2][2].lock), e[f[0]] = function () { return e[f[0] + "With"](this === e ? d : this, arguments), this }, e[f[0] + "With"] = g.fireWith }), d.promise(e), a && a.call(e, e), e }, when: function (a) { var b = 0, c = d.call(arguments), e = c.length, f = 1 !== e || a && n.isFunction(a.promise) ? e : 0, g = 1 === f ? a : n.Deferred(), h = function (a, b, c) { return function (e) { b[a] = this, c[a] = arguments.length > 1 ? d.call(arguments) : e, c === i ? g.notifyWith(b, c) : --f || g.resolveWith(b, c) } }, i, j, k; if (e > 1) { for (i = new Array(e), j = new Array(e), k = new Array(e) ; e > b; b++) { c[b] && n.isFunction(c[b].promise) ? c[b].promise().done(h(b, k, c)).fail(g.reject).progress(h(b, j, i)) : --f } } return f || g.resolveWith(k, c), g.promise() } }); var I; n.fn.ready = function (a) { return n.ready.promise().done(a), this }, n.extend({ isReady: !1, readyWait: 1, holdReady: function (a) { a ? n.readyWait++ : n.ready(!0) }, ready: function (a) { if (a === !0 ? !--n.readyWait : !n.isReady) { if (!z.body) { return setTimeout(n.ready) } n.isReady = !0, a !== !0 && --n.readyWait > 0 || (I.resolveWith(z, [n]), n.fn.trigger && n(z).trigger("ready").off("ready")) } } }); function J() { z.addEventListener ? (z.removeEventListener("DOMContentLoaded", K, !1), a.removeEventListener("load", K, !1)) : (z.detachEvent("onreadystatechange", K), a.detachEvent("onload", K)) } function K() { (z.addEventListener || "load" === event.type || "complete" === z.readyState) && (J(), n.ready()) } n.ready.promise = function (b) { if (!I) { if (I = n.Deferred(), "complete" === z.readyState) { setTimeout(n.ready) } else { if (z.addEventListener) { z.addEventListener("DOMContentLoaded", K, !1), a.addEventListener("load", K, !1) } else { z.attachEvent("onreadystatechange", K), a.attachEvent("onload", K); var c = !1; try { c = null == a.frameElement && z.documentElement } catch (d) { } c && c.doScroll && !function e() { if (!n.isReady) { try { c.doScroll("left") } catch (a) { return setTimeout(e, 50) } J(), n.ready() } }() } } } return I.promise(b) }; var L = "undefined", M; for (M in n(l)) { break } l.ownLast = "0" !== M, l.inlineBlockNeedsLayout = !1, n(function () { var a, b, c = z.getElementsByTagName("body")[0]; c && (a = z.createElement("div"), a.style.cssText = "border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px", b = z.createElement("div"), c.appendChild(a).appendChild(b), typeof b.style.zoom !== L && (b.style.cssText = "border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1", (l.inlineBlockNeedsLayout = 3 === b.offsetWidth) && (c.style.zoom = 1)), c.removeChild(a), a = b = null) }), function () { var a = z.createElement("div"); if (null == l.deleteExpando) { l.deleteExpando = !0; try { delete a.test } catch (b) { l.deleteExpando = !1 } } a = null }(), n.acceptData = function (a) { var b = n.noData[(a.nodeName + " ").toLowerCase()], c = +a.nodeType || 1; return 1 !== c && 9 !== c ? !1 : !b || b !== !0 && a.getAttribute("classid") === b }; var N = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/, O = /([A-Z])/g; function P(a, b, c) { if (void 0 === c && 1 === a.nodeType) { var d = "data-" + b.replace(O, "-$1").toLowerCase(); if (c = a.getAttribute(d), "string" == typeof c) { try { c = "true" === c ? !0 : "false" === c ? !1 : "null" === c ? null : +c + "" === c ? +c : N.test(c) ? n.parseJSON(c) : c } catch (e) { } n.data(a, b, c) } else { c = void 0 } } return c } function Q(a) { var b; for (b in a) { if (("data" !== b || !n.isEmptyObject(a[b])) && "toJSON" !== b) { return !1 } } return !0 } function R(a, b, d, e) { if (n.acceptData(a)) { var f, g, h = n.expando, i = a.nodeType, j = i ? n.cache : a, k = i ? a[h] : a[h] && h; if (k && j[k] && (e || j[k].data) || void 0 !== d || "string" != typeof b) { return k || (k = i ? a[h] = c.pop() || n.guid++ : h), j[k] || (j[k] = i ? {} : { toJSON: n.noop }), ("object" == typeof b || "function" == typeof b) && (e ? j[k] = n.extend(j[k], b) : j[k].data = n.extend(j[k].data, b)), g = j[k], e || (g.data || (g.data = {}), g = g.data), void 0 !== d && (g[n.camelCase(b)] = d), "string" == typeof b ? (f = g[b], null == f && (f = g[n.camelCase(b)])) : f = g, f } } } function S(a, b, c) { if (n.acceptData(a)) { var d, e, f = a.nodeType, g = f ? n.cache : a, h = f ? a[n.expando] : n.expando; if (g[h]) { if (b && (d = c ? g[h] : g[h].data)) { n.isArray(b) ? b = b.concat(n.map(b, n.camelCase)) : b in d ? b = [b] : (b = n.camelCase(b), b = b in d ? [b] : b.split(" ")), e = b.length; while (e--) { delete d[b[e]] } if (c ? !Q(d) : !n.isEmptyObject(d)) { return } } (c || (delete g[h].data, Q(g[h]))) && (f ? n.cleanData([a], !0) : l.deleteExpando || g != g.window ? delete g[h] : g[h] = null) } } } n.extend({ cache: {}, noData: { "applet ": !0, "embed ": !0, "object ": "clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" }, hasData: function (a) { return a = a.nodeType ? n.cache[a[n.expando]] : a[n.expando], !!a && !Q(a) }, data: function (a, b, c) { return R(a, b, c) }, removeData: function (a, b) { return S(a, b) }, _data: function (a, b, c) { return R(a, b, c, !0) }, _removeData: function (a, b) { return S(a, b, !0) } }), n.fn.extend({ data: function (a, b) { var c, d, e, f = this[0], g = f && f.attributes; if (void 0 === a) { if (this.length && (e = n.data(f), 1 === f.nodeType && !n._data(f, "parsedAttrs"))) { c = g.length; while (c--) { d = g[c].name, 0 === d.indexOf("data-") && (d = n.camelCase(d.slice(5)), P(f, d, e[d])) } n._data(f, "parsedAttrs", !0) } return e } return "object" == typeof a ? this.each(function () { n.data(this, a) }) : arguments.length > 1 ? this.each(function () { n.data(this, a, b) }) : f ? P(f, a, n.data(f, a)) : void 0 }, removeData: function (a) { return this.each(function () { n.removeData(this, a) }) } }), n.extend({ queue: function (a, b, c) { var d; return a ? (b = (b || "fx") + "queue", d = n._data(a, b), c && (!d || n.isArray(c) ? d = n._data(a, b, n.makeArray(c)) : d.push(c)), d || []) : void 0 }, dequeue: function (a, b) { b = b || "fx"; var c = n.queue(a, b), d = c.length, e = c.shift(), f = n._queueHooks(a, b), g = function () { n.dequeue(a, b) }; "inprogress" === e && (e = c.shift(), d--), e && ("fx" === b && c.unshift("inprogress"), delete f.stop, e.call(a, g, f)), !d && f && f.empty.fire() }, _queueHooks: function (a, b) { var c = b + "queueHooks"; return n._data(a, c) || n._data(a, c, { empty: n.Callbacks("once memory").add(function () { n._removeData(a, b + "queue"), n._removeData(a, c) }) }) } }), n.fn.extend({ queue: function (a, b) { var c = 2; return "string" != typeof a && (b = a, a = "fx", c--), arguments.length < c ? n.queue(this[0], a) : void 0 === b ? this : this.each(function () { var c = n.queue(this, a, b); n._queueHooks(this, a), "fx" === a && "inprogress" !== c[0] && n.dequeue(this, a) }) }, dequeue: function (a) { return this.each(function () { n.dequeue(this, a) }) }, clearQueue: function (a) { return this.queue(a || "fx", []) }, promise: function (a, b) { var c, d = 1, e = n.Deferred(), f = this, g = this.length, h = function () { --d || e.resolveWith(f, [f]) }; "string" != typeof a && (b = a, a = void 0), a = a || "fx"; while (g--) { c = n._data(f[g], a + "queueHooks"), c && c.empty && (d++, c.empty.add(h)) } return h(), e.promise(b) } }); var T = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source, U = ["Top", "Right", "Bottom", "Left"], V = function (a, b) { return a = b || a, "none" === n.css(a, "display") || !n.contains(a.ownerDocument, a) }, W = n.access = function (a, b, c, d, e, f, g) { var h = 0, i = a.length, j = null == c; if ("object" === n.type(c)) { e = !0; for (h in c) { n.access(a, b, h, c[h], !0, f, g) } } else { if (void 0 !== d && (e = !0, n.isFunction(d) || (g = !0), j && (g ? (b.call(a, d), b = null) : (j = b, b = function (a, b, c) { return j.call(n(a), c) })), b)) { for (; i > h; h++) { b(a[h], c, g ? d : d.call(a[h], h, b(a[h], c))) } } } return e ? a : j ? b.call(a) : i ? b(a[0], c) : f }, X = /^(?:checkbox|radio)$/i; !function () { var a = z.createDocumentFragment(), b = z.createElement("div"), c = z.createElement("input"); if (b.setAttribute("className", "t"), b.innerHTML = "  <link/><table></table><a href='/a'>a</a>", l.leadingWhitespace = 3 === b.firstChild.nodeType, l.tbody = !b.getElementsByTagName("tbody").length, l.htmlSerialize = !!b.getElementsByTagName("link").length, l.html5Clone = "<:nav></:nav>" !== z.createElement("nav").cloneNode(!0).outerHTML, c.type = "checkbox", c.checked = !0, a.appendChild(c), l.appendChecked = c.checked, b.innerHTML = "<textarea>x</textarea>", l.noCloneChecked = !!b.cloneNode(!0).lastChild.defaultValue, a.appendChild(b), b.innerHTML = "<input type='radio' checked='checked' name='t'/>", l.checkClone = b.cloneNode(!0).cloneNode(!0).lastChild.checked, l.noCloneEvent = !0, b.attachEvent && (b.attachEvent("onclick", function () { l.noCloneEvent = !1 }), b.cloneNode(!0).click()), null == l.deleteExpando) { l.deleteExpando = !0; try { delete b.test } catch (d) { l.deleteExpando = !1 } } a = b = c = null }(), function () { var b, c, d = z.createElement("div"); for (b in { submit: !0, change: !0, focusin: !0 }) { c = "on" + b, (l[b + "Bubbles"] = c in a) || (d.setAttribute(c, "t"), l[b + "Bubbles"] = d.attributes[c].expando === !1) } d = null }(); var Y = /^(?:input|select|textarea)$/i, Z = /^key/, $ = /^(?:mouse|contextmenu)|click/, _ = /^(?:focusinfocus|focusoutblur)$/, ab = /^([^.]*)(?:\.(.+)|)$/; function bb() { return !0 } function cb() { return !1 } function db() { try { return z.activeElement } catch (a) { } } n.event = { global: {}, add: function (a, b, c, d, e) { var f, g, h, i, j, k, l, m, o, p, q, r = n._data(a); if (r) { c.handler && (i = c, c = i.handler, e = i.selector), c.guid || (c.guid = n.guid++), (g = r.events) || (g = r.events = {}), (k = r.handle) || (k = r.handle = function (a) { return typeof n === L || a && n.event.triggered === a.type ? void 0 : n.event.dispatch.apply(k.elem, arguments) }, k.elem = a), b = (b || "").match(F) || [""], h = b.length; while (h--) { f = ab.exec(b[h]) || [], o = q = f[1], p = (f[2] || "").split(".").sort(), o && (j = n.event.special[o] || {}, o = (e ? j.delegateType : j.bindType) || o, j = n.event.special[o] || {}, l = n.extend({ type: o, origType: q, data: d, handler: c, guid: c.guid, selector: e, needsContext: e && n.expr.match.needsContext.test(e), namespace: p.join(".") }, i), (m = g[o]) || (m = g[o] = [], m.delegateCount = 0, j.setup && j.setup.call(a, d, p, k) !== !1 || (a.addEventListener ? a.addEventListener(o, k, !1) : a.attachEvent && a.attachEvent("on" + o, k))), j.add && (j.add.call(a, l), l.handler.guid || (l.handler.guid = c.guid)), e ? m.splice(m.delegateCount++, 0, l) : m.push(l), n.event.global[o] = !0) } a = null } }, remove: function (a, b, c, d, e) { var f, g, h, i, j, k, l, m, o, p, q, r = n.hasData(a) && n._data(a); if (r && (k = r.events)) { b = (b || "").match(F) || [""], j = b.length; while (j--) { if (h = ab.exec(b[j]) || [], o = q = h[1], p = (h[2] || "").split(".").sort(), o) { l = n.event.special[o] || {}, o = (d ? l.delegateType : l.bindType) || o, m = k[o] || [], h = h[2] && new RegExp("(^|\\.)" + p.join("\\.(?:.*\\.|)") + "(\\.|$)"), i = f = m.length; while (f--) { g = m[f], !e && q !== g.origType || c && c.guid !== g.guid || h && !h.test(g.namespace) || d && d !== g.selector && ("**" !== d || !g.selector) || (m.splice(f, 1), g.selector && m.delegateCount--, l.remove && l.remove.call(a, g)) } i && !m.length && (l.teardown && l.teardown.call(a, p, r.handle) !== !1 || n.removeEvent(a, o, r.handle), delete k[o]) } else { for (o in k) { n.event.remove(a, o + b[j], c, d, !0) } } } n.isEmptyObject(k) && (delete r.handle, n._removeData(a, "events")) } }, trigger: function (b, c, d, e) { var f, g, h, i, k, l, m, o = [d || z], p = j.call(b, "type") ? b.type : b, q = j.call(b, "namespace") ? b.namespace.split(".") : []; if (h = l = d = d || z, 3 !== d.nodeType && 8 !== d.nodeType && !_.test(p + n.event.triggered) && (p.indexOf(".") >= 0 && (q = p.split("."), p = q.shift(), q.sort()), g = p.indexOf(":") < 0 && "on" + p, b = b[n.expando] ? b : new n.Event(p, "object" == typeof b && b), b.isTrigger = e ? 2 : 3, b.namespace = q.join("."), b.namespace_re = b.namespace ? new RegExp("(^|\\.)" + q.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, b.result = void 0, b.target || (b.target = d), c = null == c ? [b] : n.makeArray(c, [b]), k = n.event.special[p] || {}, e || !k.trigger || k.trigger.apply(d, c) !== !1)) { if (!e && !k.noBubble && !n.isWindow(d)) { for (i = k.delegateType || p, _.test(i + p) || (h = h.parentNode) ; h; h = h.parentNode) { o.push(h), l = h } l === (d.ownerDocument || z) && o.push(l.defaultView || l.parentWindow || a) } m = 0; while ((h = o[m++]) && !b.isPropagationStopped()) { b.type = m > 1 ? i : k.bindType || p, f = (n._data(h, "events") || {})[b.type] && n._data(h, "handle"), f && f.apply(h, c), f = g && h[g], f && f.apply && n.acceptData(h) && (b.result = f.apply(h, c), b.result === !1 && b.preventDefault()) } if (b.type = p, !e && !b.isDefaultPrevented() && (!k._default || k._default.apply(o.pop(), c) === !1) && n.acceptData(d) && g && d[p] && !n.isWindow(d)) { l = d[g], l && (d[g] = null), n.event.triggered = p; try { d[p]() } catch (r) { } n.event.triggered = void 0, l && (d[g] = l) } return b.result } }, dispatch: function (a) { a = n.event.fix(a); var b, c, e, f, g, h = [], i = d.call(arguments), j = (n._data(this, "events") || {})[a.type] || [], k = n.event.special[a.type] || {}; if (i[0] = a, a.delegateTarget = this, !k.preDispatch || k.preDispatch.call(this, a) !== !1) { h = n.event.handlers.call(this, a, j), b = 0; while ((f = h[b++]) && !a.isPropagationStopped()) { a.currentTarget = f.elem, g = 0; while ((e = f.handlers[g++]) && !a.isImmediatePropagationStopped()) { (!a.namespace_re || a.namespace_re.test(e.namespace)) && (a.handleObj = e, a.data = e.data, c = ((n.event.special[e.origType] || {}).handle || e.handler).apply(f.elem, i), void 0 !== c && (a.result = c) === !1 && (a.preventDefault(), a.stopPropagation())) } } return k.postDispatch && k.postDispatch.call(this, a), a.result } }, handlers: function (a, b) { var c, d, e, f, g = [], h = b.delegateCount, i = a.target; if (h && i.nodeType && (!a.button || "click" !== a.type)) { for (; i != this; i = i.parentNode || this) { if (1 === i.nodeType && (i.disabled !== !0 || "click" !== a.type)) { for (e = [], f = 0; h > f; f++) { d = b[f], c = d.selector + " ", void 0 === e[c] && (e[c] = d.needsContext ? n(c, this).index(i) >= 0 : n.find(c, this, null, [i]).length), e[c] && e.push(d) } e.length && g.push({ elem: i, handlers: e }) } } } return h < b.length && g.push({ elem: this, handlers: b.slice(h) }), g }, fix: function (a) { if (a[n.expando]) { return a } var b, c, d, e = a.type, f = a, g = this.fixHooks[e]; g || (this.fixHooks[e] = g = $.test(e) ? this.mouseHooks : Z.test(e) ? this.keyHooks : {}), d = g.props ? this.props.concat(g.props) : this.props, a = new n.Event(f), b = d.length; while (b--) { c = d[b], a[c] = f[c] } return a.target || (a.target = f.srcElement || z), 3 === a.target.nodeType && (a.target = a.target.parentNode), a.metaKey = !!a.metaKey, g.filter ? g.filter(a, f) : a }, props: "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "), fixHooks: {}, keyHooks: { props: "char charCode key keyCode".split(" "), filter: function (a, b) { return null == a.which && (a.which = null != b.charCode ? b.charCode : b.keyCode), a } }, mouseHooks: { props: "button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "), filter: function (a, b) { var c, d, e, f = b.button, g = b.fromElement; return null == a.pageX && null != b.clientX && (d = a.target.ownerDocument || z, e = d.documentElement, c = d.body, a.pageX = b.clientX + (e && e.scrollLeft || c && c.scrollLeft || 0) - (e && e.clientLeft || c && c.clientLeft || 0), a.pageY = b.clientY + (e && e.scrollTop || c && c.scrollTop || 0) - (e && e.clientTop || c && c.clientTop || 0)), !a.relatedTarget && g && (a.relatedTarget = g === a.target ? b.toElement : g), a.which || void 0 === f || (a.which = 1 & f ? 1 : 2 & f ? 3 : 4 & f ? 2 : 0), a } }, special: { load: { noBubble: !0 }, focus: { trigger: function () { if (this !== db() && this.focus) { try { return this.focus(), !1 } catch (a) { } } }, delegateType: "focusin" }, blur: { trigger: function () { return this === db() && this.blur ? (this.blur(), !1) : void 0 }, delegateType: "focusout" }, click: { trigger: function () { return n.nodeName(this, "input") && "checkbox" === this.type && this.click ? (this.click(), !1) : void 0 }, _default: function (a) { return n.nodeName(a.target, "a") } }, beforeunload: { postDispatch: function (a) { void 0 !== a.result && (a.originalEvent.returnValue = a.result) } } }, simulate: function (a, b, c, d) { var e = n.extend(new n.Event, c, { type: a, isSimulated: !0, originalEvent: {} }); d ? n.event.trigger(e, null, b) : n.event.dispatch.call(b, e), e.isDefaultPrevented() && c.preventDefault() } }, n.removeEvent = z.removeEventListener ? function (a, b, c) { a.removeEventListener && a.removeEventListener(b, c, !1) } : function (a, b, c) { var d = "on" + b; a.detachEvent && (typeof a[d] === L && (a[d] = null), a.detachEvent(d, c)) }, n.Event = function (a, b) { return this instanceof n.Event ? (a && a.type ? (this.originalEvent = a, this.type = a.type, this.isDefaultPrevented = a.defaultPrevented || void 0 === a.defaultPrevented && (a.returnValue === !1 || a.getPreventDefault && a.getPreventDefault()) ? bb : cb) : this.type = a, b && n.extend(this, b), this.timeStamp = a && a.timeStamp || n.now(), void (this[n.expando] = !0)) : new n.Event(a, b) }, n.Event.prototype = { isDefaultPrevented: cb, isPropagationStopped: cb, isImmediatePropagationStopped: cb, preventDefault: function () { var a = this.originalEvent; this.isDefaultPrevented = bb, a && (a.preventDefault ? a.preventDefault() : a.returnValue = !1) }, stopPropagation: function () { var a = this.originalEvent; this.isPropagationStopped = bb, a && (a.stopPropagation && a.stopPropagation(), a.cancelBubble = !0) }, stopImmediatePropagation: function () { this.isImmediatePropagationStopped = bb, this.stopPropagation() } }, n.each({ mouseenter: "mouseover", mouseleave: "mouseout" }, function (a, b) { n.event.special[a] = { delegateType: b, bindType: b, handle: function (a) { var c, d = this, e = a.relatedTarget, f = a.handleObj; return (!e || e !== d && !n.contains(d, e)) && (a.type = f.origType, c = f.handler.apply(this, arguments), a.type = b), c } } }), l.submitBubbles || (n.event.special.submit = { setup: function () { return n.nodeName(this, "form") ? !1 : void n.event.add(this, "click._submit keypress._submit", function (a) { var b = a.target, c = n.nodeName(b, "input") || n.nodeName(b, "button") ? b.form : void 0; c && !n._data(c, "submitBubbles") && (n.event.add(c, "submit._submit", function (a) { a._submit_bubble = !0 }), n._data(c, "submitBubbles", !0)) }) }, postDispatch: function (a) { a._submit_bubble && (delete a._submit_bubble, this.parentNode && !a.isTrigger && n.event.simulate("submit", this.parentNode, a, !0)) }, teardown: function () { return n.nodeName(this, "form") ? !1 : void n.event.remove(this, "._submit") } }), l.changeBubbles || (n.event.special.change = { setup: function () { return Y.test(this.nodeName) ? (("checkbox" === this.type || "radio" === this.type) && (n.event.add(this, "propertychange._change", function (a) { "checked" === a.originalEvent.propertyName && (this._just_changed = !0) }), n.event.add(this, "click._change", function (a) { this._just_changed && !a.isTrigger && (this._just_changed = !1), n.event.simulate("change", this, a, !0) })), !1) : void n.event.add(this, "beforeactivate._change", function (a) { var b = a.target; Y.test(b.nodeName) && !n._data(b, "changeBubbles") && (n.event.add(b, "change._change", function (a) { !this.parentNode || a.isSimulated || a.isTrigger || n.event.simulate("change", this.parentNode, a, !0) }), n._data(b, "changeBubbles", !0)) }) }, handle: function (a) { var b = a.target; return this !== b || a.isSimulated || a.isTrigger || "radio" !== b.type && "checkbox" !== b.type ? a.handleObj.handler.apply(this, arguments) : void 0 }, teardown: function () { return n.event.remove(this, "._change"), !Y.test(this.nodeName) } }), l.focusinBubbles || n.each({ focus: "focusin", blur: "focusout" }, function (a, b) { var c = function (a) { n.event.simulate(b, a.target, n.event.fix(a), !0) }; n.event.special[b] = { setup: function () { var d = this.ownerDocument || this, e = n._data(d, b); e || d.addEventListener(a, c, !0), n._data(d, b, (e || 0) + 1) }, teardown: function () { var d = this.ownerDocument || this, e = n._data(d, b) - 1; e ? n._data(d, b, e) : (d.removeEventListener(a, c, !0), n._removeData(d, b)) } } }), n.fn.extend({ on: function (a, b, c, d, e) { var f, g; if ("object" == typeof a) { "string" != typeof b && (c = c || b, b = void 0); for (f in a) { this.on(f, b, c, a[f], e) } return this } if (null == c && null == d ? (d = b, c = b = void 0) : null == d && ("string" == typeof b ? (d = c, c = void 0) : (d = c, c = b, b = void 0)), d === !1) { d = cb } else { if (!d) { return this } } return 1 === e && (g = d, d = function (a) { return n().off(a), g.apply(this, arguments) }, d.guid = g.guid || (g.guid = n.guid++)), this.each(function () { n.event.add(this, a, d, c, b) }) }, one: function (a, b, c, d) { return this.on(a, b, c, d, 1) }, off: function (a, b, c) { var d, e; if (a && a.preventDefault && a.handleObj) { return d = a.handleObj, n(a.delegateTarget).off(d.namespace ? d.origType + "." + d.namespace : d.origType, d.selector, d.handler), this } if ("object" == typeof a) { for (e in a) { this.off(e, b, a[e]) } return this } return (b === !1 || "function" == typeof b) && (c = b, b = void 0), c === !1 && (c = cb), this.each(function () { n.event.remove(this, a, c, b) }) }, trigger: function (a, b) { return this.each(function () { n.event.trigger(a, b, this) }) }, triggerHandler: function (a, b) { var c = this[0]; return c ? n.event.trigger(a, b, c, !0) : void 0 } }); function eb(a) { var b = fb.split("|"), c = a.createDocumentFragment(); if (c.createElement) { while (b.length) { c.createElement(b.pop()) } } return c } var fb = "abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video", gb = / jQuery\d+="(?:null|\d+)"/g, hb = new RegExp("<(?:" + fb + ")[\\s/>]", "i"), ib = /^\s+/, jb = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi, kb = /<([\w:]+)/, lb = /<tbody/i, mb = /<|&#?\w+;/, nb = /<(?:script|style|link)/i, ob = /checked\s*(?:[^=]|=\s*.checked.)/i, pb = /^$|\/(?:java|ecma)script/i, qb = /^true\/(.*)/, rb = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g, sb = { option: [1, "<select multiple='multiple'>", "</select>"], legend: [1, "<fieldset>", "</fieldset>"], area: [1, "<map>", "</map>"], param: [1, "<object>", "</object>"], thead: [1, "<table>", "</table>"], tr: [2, "<table><tbody>", "</tbody></table>"], col: [2, "<table><tbody></tbody><colgroup>", "</colgroup></table>"], td: [3, "<table><tbody><tr>", "</tr></tbody></table>"], _default: l.htmlSerialize ? [0, "", ""] : [1, "X<div>", "</div>"] }, tb = eb(z), ub = tb.appendChild(z.createElement("div")); sb.optgroup = sb.option, sb.tbody = sb.tfoot = sb.colgroup = sb.caption = sb.thead, sb.th = sb.td; function vb(a, b) { var c, d, e = 0, f = typeof a.getElementsByTagName !== L ? a.getElementsByTagName(b || "*") : typeof a.querySelectorAll !== L ? a.querySelectorAll(b || "*") : void 0; if (!f) { for (f = [], c = a.childNodes || a; null != (d = c[e]) ; e++) { !b || n.nodeName(d, b) ? f.push(d) : n.merge(f, vb(d, b)) } } return void 0 === b || b && n.nodeName(a, b) ? n.merge([a], f) : f } function wb(a) { X.test(a.type) && (a.defaultChecked = a.checked) } function xb(a, b) { return n.nodeName(a, "table") && n.nodeName(11 !== b.nodeType ? b : b.firstChild, "tr") ? a.getElementsByTagName("tbody")[0] || a.appendChild(a.ownerDocument.createElement("tbody")) : a } function yb(a) { return a.type = (null !== n.find.attr(a, "type")) + "/" + a.type, a } function zb(a) { var b = qb.exec(a.type); return b ? a.type = b[1] : a.removeAttribute("type"), a } function Ab(a, b) { for (var c, d = 0; null != (c = a[d]) ; d++) { n._data(c, "globalEval", !b || n._data(b[d], "globalEval")) } } function Bb(a, b) { if (1 === b.nodeType && n.hasData(a)) { var c, d, e, f = n._data(a), g = n._data(b, f), h = f.events; if (h) { delete g.handle, g.events = {}; for (c in h) { for (d = 0, e = h[c].length; e > d; d++) { n.event.add(b, c, h[c][d]) } } } g.data && (g.data = n.extend({}, g.data)) } } function Cb(a, b) { var c, d, e; if (1 === b.nodeType) { if (c = b.nodeName.toLowerCase(), !l.noCloneEvent && b[n.expando]) { e = n._data(b); for (d in e.events) { n.removeEvent(b, d, e.handle) } b.removeAttribute(n.expando) } "script" === c && b.text !== a.text ? (yb(b).text = a.text, zb(b)) : "object" === c ? (b.parentNode && (b.outerHTML = a.outerHTML), l.html5Clone && a.innerHTML && !n.trim(b.innerHTML) && (b.innerHTML = a.innerHTML)) : "input" === c && X.test(a.type) ? (b.defaultChecked = b.checked = a.checked, b.value !== a.value && (b.value = a.value)) : "option" === c ? b.defaultSelected = b.selected = a.defaultSelected : ("input" === c || "textarea" === c) && (b.defaultValue = a.defaultValue) } } n.extend({ clone: function (a, b, c) { var d, e, f, g, h, i = n.contains(a.ownerDocument, a); if (l.html5Clone || n.isXMLDoc(a) || !hb.test("<" + a.nodeName + ">") ? f = a.cloneNode(!0) : (ub.innerHTML = a.outerHTML, ub.removeChild(f = ub.firstChild)), !(l.noCloneEvent && l.noCloneChecked || 1 !== a.nodeType && 11 !== a.nodeType || n.isXMLDoc(a))) { for (d = vb(f), h = vb(a), g = 0; null != (e = h[g]) ; ++g) { d[g] && Cb(e, d[g]) } } if (b) { if (c) { for (h = h || vb(a), d = d || vb(f), g = 0; null != (e = h[g]) ; g++) { Bb(e, d[g]) } } else { Bb(a, f) } } return d = vb(f, "script"), d.length > 0 && Ab(d, !i && vb(a, "script")), d = h = e = null, f }, buildFragment: function (a, b, c, d) { for (var e, f, g, h, i, j, k, m = a.length, o = eb(b), p = [], q = 0; m > q; q++) { if (f = a[q], f || 0 === f) { if ("object" === n.type(f)) { n.merge(p, f.nodeType ? [f] : f) } else { if (mb.test(f)) { h = h || o.appendChild(b.createElement("div")), i = (kb.exec(f) || ["", ""])[1].toLowerCase(), k = sb[i] || sb._default, h.innerHTML = k[1] + f.replace(jb, "<$1></$2>") + k[2], e = k[0]; while (e--) { h = h.lastChild } if (!l.leadingWhitespace && ib.test(f) && p.push(b.createTextNode(ib.exec(f)[0])), !l.tbody) { f = "table" !== i || lb.test(f) ? "<table>" !== k[1] || lb.test(f) ? 0 : h : h.firstChild, e = f && f.childNodes.length; while (e--) { n.nodeName(j = f.childNodes[e], "tbody") && !j.childNodes.length && f.removeChild(j) } } n.merge(p, h.childNodes), h.textContent = ""; while (h.firstChild) { h.removeChild(h.firstChild) } h = o.lastChild } else { p.push(b.createTextNode(f)) } } } } h && o.removeChild(h), l.appendChecked || n.grep(vb(p, "input"), wb), q = 0; while (f = p[q++]) { if ((!d || -1 === n.inArray(f, d)) && (g = n.contains(f.ownerDocument, f), h = vb(o.appendChild(f), "script"), g && Ab(h), c)) { e = 0; while (f = h[e++]) { pb.test(f.type || "") && c.push(f) } } } return h = null, o }, cleanData: function (a, b) { for (var d, e, f, g, h = 0, i = n.expando, j = n.cache, k = l.deleteExpando, m = n.event.special; null != (d = a[h]) ; h++) { if ((b || n.acceptData(d)) && (f = d[i], g = f && j[f])) { if (g.events) { for (e in g.events) { m[e] ? n.event.remove(d, e) : n.removeEvent(d, e, g.handle) } } j[f] && (delete j[f], k ? delete d[i] : typeof d.removeAttribute !== L ? d.removeAttribute(i) : d[i] = null, c.push(f)) } } } }), n.fn.extend({ text: function (a) { return W(this, function (a) { return void 0 === a ? n.text(this) : this.empty().append((this[0] && this[0].ownerDocument || z).createTextNode(a)) }, null, a, arguments.length) }, append: function () { return this.domManip(arguments, function (a) { if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) { var b = xb(this, a); b.appendChild(a) } }) }, prepend: function () { return this.domManip(arguments, function (a) { if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) { var b = xb(this, a); b.insertBefore(a, b.firstChild) } }) }, before: function () { return this.domManip(arguments, function (a) { this.parentNode && this.parentNode.insertBefore(a, this) }) }, after: function () { return this.domManip(arguments, function (a) { this.parentNode && this.parentNode.insertBefore(a, this.nextSibling) }) }, remove: function (a, b) { for (var c, d = a ? n.filter(a, this) : this, e = 0; null != (c = d[e]) ; e++) { b || 1 !== c.nodeType || n.cleanData(vb(c)), c.parentNode && (b && n.contains(c.ownerDocument, c) && Ab(vb(c, "script")), c.parentNode.removeChild(c)) } return this }, empty: function () { for (var a, b = 0; null != (a = this[b]) ; b++) { 1 === a.nodeType && n.cleanData(vb(a, !1)); while (a.firstChild) { a.removeChild(a.firstChild) } a.options && n.nodeName(a, "select") && (a.options.length = 0) } return this }, clone: function (a, b) { return a = null == a ? !1 : a, b = null == b ? a : b, this.map(function () { return n.clone(this, a, b) }) }, html: function (a) { return W(this, function (a) { var b = this[0] || {}, c = 0, d = this.length; if (void 0 === a) { return 1 === b.nodeType ? b.innerHTML.replace(gb, "") : void 0 } if (!("string" != typeof a || nb.test(a) || !l.htmlSerialize && hb.test(a) || !l.leadingWhitespace && ib.test(a) || sb[(kb.exec(a) || ["", ""])[1].toLowerCase()])) { a = a.replace(jb, "<$1></$2>"); try { for (; d > c; c++) { b = this[c] || {}, 1 === b.nodeType && (n.cleanData(vb(b, !1)), b.innerHTML = a) } b = 0 } catch (e) { } } b && this.empty().append(a) }, null, a, arguments.length) }, replaceWith: function () { var a = arguments[0]; return this.domManip(arguments, function (b) { a = this.parentNode, n.cleanData(vb(this)), a && a.replaceChild(b, this) }), a && (a.length || a.nodeType) ? this : this.remove() }, detach: function (a) { return this.remove(a, !0) }, domManip: function (a, b) { a = e.apply([], a); var c, d, f, g, h, i, j = 0, k = this.length, m = this, o = k - 1, p = a[0], q = n.isFunction(p); if (q || k > 1 && "string" == typeof p && !l.checkClone && ob.test(p)) { return this.each(function (c) { var d = m.eq(c); q && (a[0] = p.call(this, c, d.html())), d.domManip(a, b) }) } if (k && (i = n.buildFragment(a, this[0].ownerDocument, !1, this), c = i.firstChild, 1 === i.childNodes.length && (i = c), c)) { for (g = n.map(vb(i, "script"), yb), f = g.length; k > j; j++) { d = i, j !== o && (d = n.clone(d, !0, !0), f && n.merge(g, vb(d, "script"))), b.call(this[j], d, j) } if (f) { for (h = g[g.length - 1].ownerDocument, n.map(g, zb), j = 0; f > j; j++) { d = g[j], pb.test(d.type || "") && !n._data(d, "globalEval") && n.contains(h, d) && (d.src ? n._evalUrl && n._evalUrl(d.src) : n.globalEval((d.text || d.textContent || d.innerHTML || "").replace(rb, ""))) } } i = c = null } return this } }), n.each({ appendTo: "append", prependTo: "prepend", insertBefore: "before", insertAfter: "after", replaceAll: "replaceWith" }, function (a, b) { n.fn[a] = function (a) { for (var c, d = 0, e = [], g = n(a), h = g.length - 1; h >= d; d++) { c = d === h ? this : this.clone(!0), n(g[d])[b](c), f.apply(e, c.get()) } return this.pushStack(e) } }); var Db, Eb = {}; function Fb(b, c) { var d = n(c.createElement(b)).appendTo(c.body), e = a.getDefaultComputedStyle ? a.getDefaultComputedStyle(d[0]).display : n.css(d[0], "display"); return d.detach(), e } function Gb(a) { var b = z, c = Eb[a]; return c || (c = Fb(a, b), "none" !== c && c || (Db = (Db || n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement), b = (Db[0].contentWindow || Db[0].contentDocument).document, b.write(), b.close(), c = Fb(a, b), Db.detach()), Eb[a] = c), c } !function () { var a, b, c = z.createElement("div"), d = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0"; c.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>", a = c.getElementsByTagName("a")[0], a.style.cssText = "float:left;opacity:.5", l.opacity = /^0.5/.test(a.style.opacity), l.cssFloat = !!a.style.cssFloat, c.style.backgroundClip = "content-box", c.cloneNode(!0).style.backgroundClip = "", l.clearCloneStyle = "content-box" === c.style.backgroundClip, a = c = null, l.shrinkWrapBlocks = function () { var a, c, e, f; if (null == b) { if (a = z.getElementsByTagName("body")[0], !a) { return } f = "border:0;width:0;height:0;position:absolute;top:0;left:-9999px", c = z.createElement("div"), e = z.createElement("div"), a.appendChild(c).appendChild(e), b = !1, typeof e.style.zoom !== L && (e.style.cssText = d + ";width:1px;padding:1px;zoom:1", e.innerHTML = "<div></div>", e.firstChild.style.width = "5px", b = 3 !== e.offsetWidth), a.removeChild(c), a = c = e = null } return b } }(); var Hb = /^margin/, Ib = new RegExp("^(" + T + ")(?!px)[a-z%]+$", "i"), Jb, Kb, Lb = /^(top|right|bottom|left)$/; a.getComputedStyle ? (Jb = function (a) { return a.ownerDocument.defaultView.getComputedStyle(a, null) }, Kb = function (a, b, c) { var d, e, f, g, h = a.style; return c = c || Jb(a), g = c ? c.getPropertyValue(b) || c[b] : void 0, c && ("" !== g || n.contains(a.ownerDocument, a) || (g = n.style(a, b)), Ib.test(g) && Hb.test(b) && (d = h.width, e = h.minWidth, f = h.maxWidth, h.minWidth = h.maxWidth = h.width = g, g = c.width, h.width = d, h.minWidth = e, h.maxWidth = f)), void 0 === g ? g : g + "" }) : z.documentElement.currentStyle && (Jb = function (a) { return a.currentStyle }, Kb = function (a, b, c) { var d, e, f, g, h = a.style; return c = c || Jb(a), g = c ? c[b] : void 0, null == g && h && h[b] && (g = h[b]), Ib.test(g) && !Lb.test(b) && (d = h.left, e = a.runtimeStyle, f = e && e.left, f && (e.left = a.currentStyle.left), h.left = "fontSize" === b ? "1em" : g, g = h.pixelLeft + "px", h.left = d, f && (e.left = f)), void 0 === g ? g : g + "" || "auto" }); function Mb(a, b) { return { get: function () { var c = a(); if (null != c) { return c ? void delete this.get : (this.get = b).apply(this, arguments) } } } } !function () { var b, c, d, e, f, g, h = z.createElement("div"), i = "border:0;width:0;height:0;position:absolute;top:0;left:-9999px", j = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0"; h.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>", b = h.getElementsByTagName("a")[0], b.style.cssText = "float:left;opacity:.5", l.opacity = /^0.5/.test(b.style.opacity), l.cssFloat = !!b.style.cssFloat, h.style.backgroundClip = "content-box", h.cloneNode(!0).style.backgroundClip = "", l.clearCloneStyle = "content-box" === h.style.backgroundClip, b = h = null, n.extend(l, { reliableHiddenOffsets: function () { if (null != c) { return c } var a, b, d, e = z.createElement("div"), f = z.getElementsByTagName("body")[0]; if (f) { return e.setAttribute("className", "t"), e.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>", a = z.createElement("div"), a.style.cssText = i, f.appendChild(a).appendChild(e), e.innerHTML = "<table><tr><td></td><td>t</td></tr></table>", b = e.getElementsByTagName("td"), b[0].style.cssText = "padding:0;margin:0;border:0;display:none", d = 0 === b[0].offsetHeight, b[0].style.display = "", b[1].style.display = "none", c = d && 0 === b[0].offsetHeight, f.removeChild(a), e = f = null, c } }, boxSizing: function () { return null == d && k(), d }, boxSizingReliable: function () { return null == e && k(), e }, pixelPosition: function () { return null == f && k(), f }, reliableMarginRight: function () { var b, c, d, e; if (null == g && a.getComputedStyle) { if (b = z.getElementsByTagName("body")[0], !b) { return } c = z.createElement("div"), d = z.createElement("div"), c.style.cssText = i, b.appendChild(c).appendChild(d), e = d.appendChild(z.createElement("div")), e.style.cssText = d.style.cssText = j, e.style.marginRight = e.style.width = "0", d.style.width = "1px", g = !parseFloat((a.getComputedStyle(e, null) || {}).marginRight), b.removeChild(c) } return g } }); function k() { var b, c, h = z.getElementsByTagName("body")[0]; h && (b = z.createElement("div"), c = z.createElement("div"), b.style.cssText = i, h.appendChild(b).appendChild(c), c.style.cssText = "-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%", n.swap(h, null != h.style.zoom ? { zoom: 1 } : {}, function () { d = 4 === c.offsetWidth }), e = !0, f = !1, g = !0, a.getComputedStyle && (f = "1%" !== (a.getComputedStyle(c, null) || {}).top, e = "4px" === (a.getComputedStyle(c, null) || { width: "4px" }).width), h.removeChild(b), c = h = null) } }(), n.swap = function (a, b, c, d) { var e, f, g = {}; for (f in b) { g[f] = a.style[f], a.style[f] = b[f] } e = c.apply(a, d || []); for (f in b) { a.style[f] = g[f] } return e }; var Nb = /alpha\([^)]*\)/i, Ob = /opacity\s*=\s*([^)]*)/, Pb = /^(none|table(?!-c[ea]).+)/, Qb = new RegExp("^(" + T + ")(.*)$", "i"), Rb = new RegExp("^([+-])=(" + T + ")", "i"), Sb = { position: "absolute", visibility: "hidden", display: "block" }, Tb = { letterSpacing: 0, fontWeight: 400 }, Ub = ["Webkit", "O", "Moz", "ms"]; function Vb(a, b) { if (b in a) { return b } var c = b.charAt(0).toUpperCase() + b.slice(1), d = b, e = Ub.length; while (e--) { if (b = Ub[e] + c, b in a) { return b } } return d } function Wb(a, b) { for (var c, d, e, f = [], g = 0, h = a.length; h > g; g++) { d = a[g], d.style && (f[g] = n._data(d, "olddisplay"), c = d.style.display, b ? (f[g] || "none" !== c || (d.style.display = ""), "" === d.style.display && V(d) && (f[g] = n._data(d, "olddisplay", Gb(d.nodeName)))) : f[g] || (e = V(d), (c && "none" !== c || !e) && n._data(d, "olddisplay", e ? c : n.css(d, "display")))) } for (g = 0; h > g; g++) { d = a[g], d.style && (b && "none" !== d.style.display && "" !== d.style.display || (d.style.display = b ? f[g] || "" : "none")) } return a } function Xb(a, b, c) { var d = Qb.exec(b); return d ? Math.max(0, d[1] - (c || 0)) + (d[2] || "px") : b } function Yb(a, b, c, d, e) { for (var f = c === (d ? "border" : "content") ? 4 : "width" === b ? 1 : 0, g = 0; 4 > f; f += 2) { "margin" === c && (g += n.css(a, c + U[f], !0, e)), d ? ("content" === c && (g -= n.css(a, "padding" + U[f], !0, e)), "margin" !== c && (g -= n.css(a, "border" + U[f] + "Width", !0, e))) : (g += n.css(a, "padding" + U[f], !0, e), "padding" !== c && (g += n.css(a, "border" + U[f] + "Width", !0, e))) } return g } function Zb(a, b, c) { var d = !0, e = "width" === b ? a.offsetWidth : a.offsetHeight, f = Jb(a), g = l.boxSizing() && "border-box" === n.css(a, "boxSizing", !1, f); if (0 >= e || null == e) { if (e = Kb(a, b, f), (0 > e || null == e) && (e = a.style[b]), Ib.test(e)) { return e } d = g && (l.boxSizingReliable() || e === a.style[b]), e = parseFloat(e) || 0 } return e + Yb(a, b, c || (g ? "border" : "content"), d, f) + "px" } n.extend({ cssHooks: { opacity: { get: function (a, b) { if (b) { var c = Kb(a, "opacity"); return "" === c ? "1" : c } } } }, cssNumber: { columnCount: !0, fillOpacity: !0, fontWeight: !0, lineHeight: !0, opacity: !0, order: !0, orphans: !0, widows: !0, zIndex: !0, zoom: !0 }, cssProps: { "float": l.cssFloat ? "cssFloat" : "styleFloat" }, style: function (a, b, c, d) { if (a && 3 !== a.nodeType && 8 !== a.nodeType && a.style) { var e, f, g, h = n.camelCase(b), i = a.style; if (b = n.cssProps[h] || (n.cssProps[h] = Vb(i, h)), g = n.cssHooks[b] || n.cssHooks[h], void 0 === c) { return g && "get" in g && void 0 !== (e = g.get(a, !1, d)) ? e : i[b] } if (f = typeof c, "string" === f && (e = Rb.exec(c)) && (c = (e[1] + 1) * e[2] + parseFloat(n.css(a, b)), f = "number"), null != c && c === c && ("number" !== f || n.cssNumber[h] || (c += "px"), l.clearCloneStyle || "" !== c || 0 !== b.indexOf("background") || (i[b] = "inherit"), !(g && "set" in g && void 0 === (c = g.set(a, c, d))))) { try { i[b] = "", i[b] = c } catch (j) { } } } }, css: function (a, b, c, d) { var e, f, g, h = n.camelCase(b); return b = n.cssProps[h] || (n.cssProps[h] = Vb(a.style, h)), g = n.cssHooks[b] || n.cssHooks[h], g && "get" in g && (f = g.get(a, !0, c)), void 0 === f && (f = Kb(a, b, d)), "normal" === f && b in Tb && (f = Tb[b]), "" === c || c ? (e = parseFloat(f), c === !0 || n.isNumeric(e) ? e || 0 : f) : f } }), n.each(["height", "width"], function (a, b) { n.cssHooks[b] = { get: function (a, c, d) { return c ? 0 === a.offsetWidth && Pb.test(n.css(a, "display")) ? n.swap(a, Sb, function () { return Zb(a, b, d) }) : Zb(a, b, d) : void 0 }, set: function (a, c, d) { var e = d && Jb(a); return Xb(a, c, d ? Yb(a, b, d, l.boxSizing() && "border-box" === n.css(a, "boxSizing", !1, e), e) : 0) } } }), l.opacity || (n.cssHooks.opacity = { get: function (a, b) { return Ob.test((b && a.currentStyle ? a.currentStyle.filter : a.style.filter) || "") ? 0.01 * parseFloat(RegExp.$1) + "" : b ? "1" : "" }, set: function (a, b) { var c = a.style, d = a.currentStyle, e = n.isNumeric(b) ? "alpha(opacity=" + 100 * b + ")" : "", f = d && d.filter || c.filter || ""; c.zoom = 1, (b >= 1 || "" === b) && "" === n.trim(f.replace(Nb, "")) && c.removeAttribute && (c.removeAttribute("filter"), "" === b || d && !d.filter) || (c.filter = Nb.test(f) ? f.replace(Nb, e) : f + " " + e) } }), n.cssHooks.marginRight = Mb(l.reliableMarginRight, function (a, b) { return b ? n.swap(a, { display: "inline-block" }, Kb, [a, "marginRight"]) : void 0 }), n.each({ margin: "", padding: "", border: "Width" }, function (a, b) { n.cssHooks[a + b] = { expand: function (c) { for (var d = 0, e = {}, f = "string" == typeof c ? c.split(" ") : [c]; 4 > d; d++) { e[a + U[d] + b] = f[d] || f[d - 2] || f[0] } return e } }, Hb.test(a) || (n.cssHooks[a + b].set = Xb) }), n.fn.extend({ css: function (a, b) { return W(this, function (a, b, c) { var d, e, f = {}, g = 0; if (n.isArray(b)) { for (d = Jb(a), e = b.length; e > g; g++) { f[b[g]] = n.css(a, b[g], !1, d) } return f } return void 0 !== c ? n.style(a, b, c) : n.css(a, b) }, a, b, arguments.length > 1) }, show: function () { return Wb(this, !0) }, hide: function () { return Wb(this) }, toggle: function (a) { return "boolean" == typeof a ? a ? this.show() : this.hide() : this.each(function () { V(this) ? n(this).show() : n(this).hide() }) } }); function $b(a, b, c, d, e) { return new $b.prototype.init(a, b, c, d, e) } n.Tween = $b, $b.prototype = { constructor: $b, init: function (a, b, c, d, e, f) { this.elem = a, this.prop = c, this.easing = e || "swing", this.options = b, this.start = this.now = this.cur(), this.end = d, this.unit = f || (n.cssNumber[c] ? "" : "px") }, cur: function () { var a = $b.propHooks[this.prop]; return a && a.get ? a.get(this) : $b.propHooks._default.get(this) }, run: function (a) { var b, c = $b.propHooks[this.prop]; return this.pos = b = this.options.duration ? n.easing[this.easing](a, this.options.duration * a, 0, 1, this.options.duration) : a, this.now = (this.end - this.start) * b + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), c && c.set ? c.set(this) : $b.propHooks._default.set(this), this } }, $b.prototype.init.prototype = $b.prototype, $b.propHooks = { _default: { get: function (a) { var b; return null == a.elem[a.prop] || a.elem.style && null != a.elem.style[a.prop] ? (b = n.css(a.elem, a.prop, ""), b && "auto" !== b ? b : 0) : a.elem[a.prop] }, set: function (a) { n.fx.step[a.prop] ? n.fx.step[a.prop](a) : a.elem.style && (null != a.elem.style[n.cssProps[a.prop]] || n.cssHooks[a.prop]) ? n.style(a.elem, a.prop, a.now + a.unit) : a.elem[a.prop] = a.now } } }, $b.propHooks.scrollTop = $b.propHooks.scrollLeft = { set: function (a) { a.elem.nodeType && a.elem.parentNode && (a.elem[a.prop] = a.now) } }, n.easing = { linear: function (a) { return a }, swing: function (a) { return 0.5 - Math.cos(a * Math.PI) / 2 } }, n.fx = $b.prototype.init, n.fx.step = {}; var _b, ac, bc = /^(?:toggle|show|hide)$/, cc = new RegExp("^(?:([+-])=|)(" + T + ")([a-z%]*)$", "i"), dc = /queueHooks$/, ec = [jc], fc = { "*": [function (a, b) { var c = this.createTween(a, b), d = c.cur(), e = cc.exec(b), f = e && e[3] || (n.cssNumber[a] ? "" : "px"), g = (n.cssNumber[a] || "px" !== f && +d) && cc.exec(n.css(c.elem, a)), h = 1, i = 20; if (g && g[3] !== f) { f = f || g[3], e = e || [], g = +d || 1; do { h = h || ".5", g /= h, n.style(c.elem, a, g + f) } while (h !== (h = c.cur() / d) && 1 !== h && --i) } return e && (g = c.start = +g || +d || 0, c.unit = f, c.end = e[1] ? g + (e[1] + 1) * e[2] : +e[2]), c }] }; function gc() { return setTimeout(function () { _b = void 0 }), _b = n.now() } function hc(a, b) { var c, d = { height: a }, e = 0; for (b = b ? 1 : 0; 4 > e; e += 2 - b) { c = U[e], d["margin" + c] = d["padding" + c] = a } return b && (d.opacity = d.width = a), d } function ic(a, b, c) { for (var d, e = (fc[b] || []).concat(fc["*"]), f = 0, g = e.length; g > f; f++) { if (d = e[f].call(c, b, a)) { return d } } } function jc(a, b, c) { var d, e, f, g, h, i, j, k, m = this, o = {}, p = a.style, q = a.nodeType && V(a), r = n._data(a, "fxshow"); c.queue || (h = n._queueHooks(a, "fx"), null == h.unqueued && (h.unqueued = 0, i = h.empty.fire, h.empty.fire = function () { h.unqueued || i() }), h.unqueued++, m.always(function () { m.always(function () { h.unqueued--, n.queue(a, "fx").length || h.empty.fire() }) })), 1 === a.nodeType && ("height" in b || "width" in b) && (c.overflow = [p.overflow, p.overflowX, p.overflowY], j = n.css(a, "display"), k = Gb(a.nodeName), "none" === j && (j = k), "inline" === j && "none" === n.css(a, "float") && (l.inlineBlockNeedsLayout && "inline" !== k ? p.zoom = 1 : p.display = "inline-block")), c.overflow && (p.overflow = "hidden", l.shrinkWrapBlocks() || m.always(function () { p.overflow = c.overflow[0], p.overflowX = c.overflow[1], p.overflowY = c.overflow[2] })); for (d in b) { if (e = b[d], bc.exec(e)) { if (delete b[d], f = f || "toggle" === e, e === (q ? "hide" : "show")) { if ("show" !== e || !r || void 0 === r[d]) { continue } q = !0 } o[d] = r && r[d] || n.style(a, d) } } if (!n.isEmptyObject(o)) { r ? "hidden" in r && (q = r.hidden) : r = n._data(a, "fxshow", {}), f && (r.hidden = !q), q ? n(a).show() : m.done(function () { n(a).hide() }), m.done(function () { var b; n._removeData(a, "fxshow"); for (b in o) { n.style(a, b, o[b]) } }); for (d in o) { g = ic(q ? r[d] : 0, d, m), d in r || (r[d] = g.start, q && (g.end = g.start, g.start = "width" === d || "height" === d ? 1 : 0)) } } } function kc(a, b) { var c, d, e, f, g; for (c in a) { if (d = n.camelCase(c), e = b[d], f = a[c], n.isArray(f) && (e = f[1], f = a[c] = f[0]), c !== d && (a[d] = f, delete a[c]), g = n.cssHooks[d], g && "expand" in g) { f = g.expand(f), delete a[d]; for (c in f) { c in a || (a[c] = f[c], b[c] = e) } } else { b[d] = e } } } function lc(a, b, c) { var d, e, f = 0, g = ec.length, h = n.Deferred().always(function () { delete i.elem }), i = function () { if (e) { return !1 } for (var b = _b || gc(), c = Math.max(0, j.startTime + j.duration - b), d = c / j.duration || 0, f = 1 - d, g = 0, i = j.tweens.length; i > g; g++) { j.tweens[g].run(f) } return h.notifyWith(a, [j, f, c]), 1 > f && i ? c : (h.resolveWith(a, [j]), !1) }, j = h.promise({ elem: a, props: n.extend({}, b), opts: n.extend(!0, { specialEasing: {} }, c), originalProperties: b, originalOptions: c, startTime: _b || gc(), duration: c.duration, tweens: [], createTween: function (b, c) { var d = n.Tween(a, j.opts, b, c, j.opts.specialEasing[b] || j.opts.easing); return j.tweens.push(d), d }, stop: function (b) { var c = 0, d = b ? j.tweens.length : 0; if (e) { return this } for (e = !0; d > c; c++) { j.tweens[c].run(1) } return b ? h.resolveWith(a, [j, b]) : h.rejectWith(a, [j, b]), this } }), k = j.props; for (kc(k, j.opts.specialEasing) ; g > f; f++) { if (d = ec[f].call(j, a, k, j.opts)) { return d } } return n.map(k, ic, j), n.isFunction(j.opts.start) && j.opts.start.call(a, j), n.fx.timer(n.extend(i, { elem: a, anim: j, queue: j.opts.queue })), j.progress(j.opts.progress).done(j.opts.done, j.opts.complete).fail(j.opts.fail).always(j.opts.always) } n.Animation = n.extend(lc, { tweener: function (a, b) { n.isFunction(a) ? (b = a, a = ["*"]) : a = a.split(" "); for (var c, d = 0, e = a.length; e > d; d++) { c = a[d], fc[c] = fc[c] || [], fc[c].unshift(b) } }, prefilter: function (a, b) { b ? ec.unshift(a) : ec.push(a) } }), n.speed = function (a, b, c) { var d = a && "object" == typeof a ? n.extend({}, a) : { complete: c || !c && b || n.isFunction(a) && a, duration: a, easing: c && b || b && !n.isFunction(b) && b }; return d.duration = n.fx.off ? 0 : "number" == typeof d.duration ? d.duration : d.duration in n.fx.speeds ? n.fx.speeds[d.duration] : n.fx.speeds._default, (null == d.queue || d.queue === !0) && (d.queue = "fx"), d.old = d.complete, d.complete = function () { n.isFunction(d.old) && d.old.call(this), d.queue && n.dequeue(this, d.queue) }, d }, n.fn.extend({ fadeTo: function (a, b, c, d) { return this.filter(V).css("opacity", 0).show().end().animate({ opacity: b }, a, c, d) }, animate: function (a, b, c, d) { var e = n.isEmptyObject(a), f = n.speed(b, c, d), g = function () { var b = lc(this, n.extend({}, a), f); (e || n._data(this, "finish")) && b.stop(!0) }; return g.finish = g, e || f.queue === !1 ? this.each(g) : this.queue(f.queue, g) }, stop: function (a, b, c) { var d = function (a) { var b = a.stop; delete a.stop, b(c) }; return "string" != typeof a && (c = b, b = a, a = void 0), b && a !== !1 && this.queue(a || "fx", []), this.each(function () { var b = !0, e = null != a && a + "queueHooks", f = n.timers, g = n._data(this); if (e) { g[e] && g[e].stop && d(g[e]) } else { for (e in g) { g[e] && g[e].stop && dc.test(e) && d(g[e]) } } for (e = f.length; e--;) { f[e].elem !== this || null != a && f[e].queue !== a || (f[e].anim.stop(c), b = !1, f.splice(e, 1)) } (b || !c) && n.dequeue(this, a) }) }, finish: function (a) { return a !== !1 && (a = a || "fx"), this.each(function () { var b, c = n._data(this), d = c[a + "queue"], e = c[a + "queueHooks"], f = n.timers, g = d ? d.length : 0; for (c.finish = !0, n.queue(this, a, []), e && e.stop && e.stop.call(this, !0), b = f.length; b--;) { f[b].elem === this && f[b].queue === a && (f[b].anim.stop(!0), f.splice(b, 1)) } for (b = 0; g > b; b++) { d[b] && d[b].finish && d[b].finish.call(this) } delete c.finish }) } }), n.each(["toggle", "show", "hide"], function (a, b) { var c = n.fn[b]; n.fn[b] = function (a, d, e) { return null == a || "boolean" == typeof a ? c.apply(this, arguments) : this.animate(hc(b, !0), a, d, e) } }), n.each({ slideDown: hc("show"), slideUp: hc("hide"), slideToggle: hc("toggle"), fadeIn: { opacity: "show" }, fadeOut: { opacity: "hide" }, fadeToggle: { opacity: "toggle" } }, function (a, b) { n.fn[a] = function (a, c, d) { return this.animate(b, a, c, d) } }), n.timers = [], n.fx.tick = function () { var a, b = n.timers, c = 0; for (_b = n.now() ; c < b.length; c++) { a = b[c], a() || b[c] !== a || b.splice(c--, 1) } b.length || n.fx.stop(), _b = void 0 }, n.fx.timer = function (a) { n.timers.push(a), a() ? n.fx.start() : n.timers.pop() }, n.fx.interval = 13, n.fx.start = function () { ac || (ac = setInterval(n.fx.tick, n.fx.interval)) }, n.fx.stop = function () { clearInterval(ac), ac = null }, n.fx.speeds = { slow: 600, fast: 200, _default: 400 }, n.fn.delay = function (a, b) { return a = n.fx ? n.fx.speeds[a] || a : a, b = b || "fx", this.queue(b, function (b, c) { var d = setTimeout(b, a); c.stop = function () { clearTimeout(d) } }) }, function () { var a, b, c, d, e = z.createElement("div"); e.setAttribute("className", "t"), e.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>", a = e.getElementsByTagName("a")[0], c = z.createElement("select"), d = c.appendChild(z.createElement("option")), b = e.getElementsByTagName("input")[0], a.style.cssText = "top:1px", l.getSetAttribute = "t" !== e.className, l.style = /top/.test(a.getAttribute("style")), l.hrefNormalized = "/a" === a.getAttribute("href"), l.checkOn = !!b.value, l.optSelected = d.selected, l.enctype = !!z.createElement("form").enctype, c.disabled = !0, l.optDisabled = !d.disabled, b = z.createElement("input"), b.setAttribute("value", ""), l.input = "" === b.getAttribute("value"), b.value = "t", b.setAttribute("type", "radio"), l.radioValue = "t" === b.value, a = b = c = d = e = null }(); var mc = /\r/g; n.fn.extend({ val: function (a) { var b, c, d, e = this[0]; if (arguments.length) { return d = n.isFunction(a), this.each(function (c) { var e; 1 === this.nodeType && (e = d ? a.call(this, c, n(this).val()) : a, null == e ? e = "" : "number" == typeof e ? e += "" : n.isArray(e) && (e = n.map(e, function (a) { return null == a ? "" : a + "" })), b = n.valHooks[this.type] || n.valHooks[this.nodeName.toLowerCase()], b && "set" in b && void 0 !== b.set(this, e, "value") || (this.value = e)) }) } if (e) { return b = n.valHooks[e.type] || n.valHooks[e.nodeName.toLowerCase()], b && "get" in b && void 0 !== (c = b.get(e, "value")) ? c : (c = e.value, "string" == typeof c ? c.replace(mc, "") : null == c ? "" : c) } } }), n.extend({ valHooks: { option: { get: function (a) { var b = n.find.attr(a, "value"); return null != b ? b : n.text(a) } }, select: { get: function (a) { for (var b, c, d = a.options, e = a.selectedIndex, f = "select-one" === a.type || 0 > e, g = f ? null : [], h = f ? e + 1 : d.length, i = 0 > e ? h : f ? e : 0; h > i; i++) { if (c = d[i], !(!c.selected && i !== e || (l.optDisabled ? c.disabled : null !== c.getAttribute("disabled")) || c.parentNode.disabled && n.nodeName(c.parentNode, "optgroup"))) { if (b = n(c).val(), f) { return b } g.push(b) } } return g }, set: function (a, b) { var c, d, e = a.options, f = n.makeArray(b), g = e.length; while (g--) { if (d = e[g], n.inArray(n.valHooks.option.get(d), f) >= 0) { try { d.selected = c = !0 } catch (h) { d.scrollHeight } } else { d.selected = !1 } } return c || (a.selectedIndex = -1), e } } } }), n.each(["radio", "checkbox"], function () { n.valHooks[this] = { set: function (a, b) { return n.isArray(b) ? a.checked = n.inArray(n(a).val(), b) >= 0 : void 0 } }, l.checkOn || (n.valHooks[this].get = function (a) { return null === a.getAttribute("value") ? "on" : a.value }) }); var nc, oc, pc = n.expr.attrHandle, qc = /^(?:checked|selected)$/i, rc = l.getSetAttribute, sc = l.input; n.fn.extend({ attr: function (a, b) { return W(this, n.attr, a, b, arguments.length > 1) }, removeAttr: function (a) { return this.each(function () { n.removeAttr(this, a) }) } }), n.extend({ attr: function (a, b, c) { var d, e, f = a.nodeType; if (a && 3 !== f && 8 !== f && 2 !== f) { return typeof a.getAttribute === L ? n.prop(a, b, c) : (1 === f && n.isXMLDoc(a) || (b = b.toLowerCase(), d = n.attrHooks[b] || (n.expr.match.bool.test(b) ? oc : nc)), void 0 === c ? d && "get" in d && null !== (e = d.get(a, b)) ? e : (e = n.find.attr(a, b), null == e ? void 0 : e) : null !== c ? d && "set" in d && void 0 !== (e = d.set(a, c, b)) ? e : (a.setAttribute(b, c + ""), c) : void n.removeAttr(a, b)) } }, removeAttr: function (a, b) { var c, d, e = 0, f = b && b.match(F); if (f && 1 === a.nodeType) { while (c = f[e++]) { d = n.propFix[c] || c, n.expr.match.bool.test(c) ? sc && rc || !qc.test(c) ? a[d] = !1 : a[n.camelCase("default-" + c)] = a[d] = !1 : n.attr(a, c, ""), a.removeAttribute(rc ? c : d) } } }, attrHooks: { type: { set: function (a, b) { if (!l.radioValue && "radio" === b && n.nodeName(a, "input")) { var c = a.value; return a.setAttribute("type", b), c && (a.value = c), b } } } } }), oc = { set: function (a, b, c) { return b === !1 ? n.removeAttr(a, c) : sc && rc || !qc.test(c) ? a.setAttribute(!rc && n.propFix[c] || c, c) : a[n.camelCase("default-" + c)] = a[c] = !0, c } }, n.each(n.expr.match.bool.source.match(/\w+/g), function (a, b) { var c = pc[b] || n.find.attr; pc[b] = sc && rc || !qc.test(b) ? function (a, b, d) { var e, f; return d || (f = pc[b], pc[b] = e, e = null != c(a, b, d) ? b.toLowerCase() : null, pc[b] = f), e } : function (a, b, c) { return c ? void 0 : a[n.camelCase("default-" + b)] ? b.toLowerCase() : null } }), sc && rc || (n.attrHooks.value = { set: function (a, b, c) { return n.nodeName(a, "input") ? void (a.defaultValue = b) : nc && nc.set(a, b, c) } }), rc || (nc = { set: function (a, b, c) { var d = a.getAttributeNode(c); return d || a.setAttributeNode(d = a.ownerDocument.createAttribute(c)), d.value = b += "", "value" === c || b === a.getAttribute(c) ? b : void 0 } }, pc.id = pc.name = pc.coords = function (a, b, c) { var d; return c ? void 0 : (d = a.getAttributeNode(b)) && "" !== d.value ? d.value : null }, n.valHooks.button = { get: function (a, b) { var c = a.getAttributeNode(b); return c && c.specified ? c.value : void 0 }, set: nc.set }, n.attrHooks.contenteditable = { set: function (a, b, c) { nc.set(a, "" === b ? !1 : b, c) } }, n.each(["width", "height"], function (a, b) { n.attrHooks[b] = { set: function (a, c) { return "" === c ? (a.setAttribute(b, "auto"), c) : void 0 } } })), l.style || (n.attrHooks.style = { get: function (a) { return a.style.cssText || void 0 }, set: function (a, b) { return a.style.cssText = b + "" } }); var tc = /^(?:input|select|textarea|button|object)$/i, uc = /^(?:a|area)$/i; n.fn.extend({ prop: function (a, b) { return W(this, n.prop, a, b, arguments.length > 1) }, removeProp: function (a) { return a = n.propFix[a] || a, this.each(function () { try { this[a] = void 0, delete this[a] } catch (b) { } }) } }), n.extend({ propFix: { "for": "htmlFor", "class": "className" }, prop: function (a, b, c) { var d, e, f, g = a.nodeType; if (a && 3 !== g && 8 !== g && 2 !== g) { return f = 1 !== g || !n.isXMLDoc(a), f && (b = n.propFix[b] || b, e = n.propHooks[b]), void 0 !== c ? e && "set" in e && void 0 !== (d = e.set(a, c, b)) ? d : a[b] = c : e && "get" in e && null !== (d = e.get(a, b)) ? d : a[b] } }, propHooks: { tabIndex: { get: function (a) { var b = n.find.attr(a, "tabindex"); return b ? parseInt(b, 10) : tc.test(a.nodeName) || uc.test(a.nodeName) && a.href ? 0 : -1 } } } }), l.hrefNormalized || n.each(["href", "src"], function (a, b) { n.propHooks[b] = { get: function (a) { return a.getAttribute(b, 4) } } }), l.optSelected || (n.propHooks.selected = { get: function (a) { var b = a.parentNode; return b && (b.selectedIndex, b.parentNode && b.parentNode.selectedIndex), null } }), n.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function () { n.propFix[this.toLowerCase()] = this }), l.enctype || (n.propFix.enctype = "encoding"); var vc = /[\t\r\n\f]/g; n.fn.extend({ addClass: function (a) { var b, c, d, e, f, g, h = 0, i = this.length, j = "string" == typeof a && a; if (n.isFunction(a)) { return this.each(function (b) { n(this).addClass(a.call(this, b, this.className)) }) } if (j) { for (b = (a || "").match(F) || []; i > h; h++) { if (c = this[h], d = 1 === c.nodeType && (c.className ? (" " + c.className + " ").replace(vc, " ") : " ")) { f = 0; while (e = b[f++]) { d.indexOf(" " + e + " ") < 0 && (d += e + " ") } g = n.trim(d), c.className !== g && (c.className = g) } } } return this }, removeClass: function (a) { var b, c, d, e, f, g, h = 0, i = this.length, j = 0 === arguments.length || "string" == typeof a && a; if (n.isFunction(a)) { return this.each(function (b) { n(this).removeClass(a.call(this, b, this.className)) }) } if (j) { for (b = (a || "").match(F) || []; i > h; h++) { if (c = this[h], d = 1 === c.nodeType && (c.className ? (" " + c.className + " ").replace(vc, " ") : "")) { f = 0; while (e = b[f++]) { while (d.indexOf(" " + e + " ") >= 0) { d = d.replace(" " + e + " ", " ") } } g = a ? n.trim(d) : "", c.className !== g && (c.className = g) } } } return this }, toggleClass: function (a, b) { var c = typeof a; return "boolean" == typeof b && "string" === c ? b ? this.addClass(a) : this.removeClass(a) : this.each(n.isFunction(a) ? function (c) { n(this).toggleClass(a.call(this, c, this.className, b), b) } : function () { if ("string" === c) { var b, d = 0, e = n(this), f = a.match(F) || []; while (b = f[d++]) { e.hasClass(b) ? e.removeClass(b) : e.addClass(b) } } else { (c === L || "boolean" === c) && (this.className && n._data(this, "__className__", this.className), this.className = this.className || a === !1 ? "" : n._data(this, "__className__") || "") } }) }, hasClass: function (a) { for (var b = " " + a + " ", c = 0, d = this.length; d > c; c++) { if (1 === this[c].nodeType && (" " + this[c].className + " ").replace(vc, " ").indexOf(b) >= 0) { return !0 } } return !1 } }), n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function (a, b) { n.fn[b] = function (a, c) { return arguments.length > 0 ? this.on(b, null, a, c) : this.trigger(b) } }), n.fn.extend({ hover: function (a, b) { return this.mouseenter(a).mouseleave(b || a) }, bind: function (a, b, c) { return this.on(a, null, b, c) }, unbind: function (a, b) { return this.off(a, null, b) }, delegate: function (a, b, c, d) { return this.on(b, a, c, d) }, undelegate: function (a, b, c) { return 1 === arguments.length ? this.off(a, "**") : this.off(b, a || "**", c) } }); var wc = n.now(), xc = /\?/, yc = /(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g; n.parseJSON = function (b) { if (a.JSON && a.JSON.parse) { return a.JSON.parse(b + "") } var c, d = null, e = n.trim(b + ""); return e && !n.trim(e.replace(yc, function (a, b, e, f) { return c && b && (d = 0), 0 === d ? a : (c = e || b, d += !f - !e, "") })) ? Function("return " + e)() : n.error("Invalid JSON: " + b) }, n.parseXML = function (b) { var c, d; if (!b || "string" != typeof b) { return null } try { a.DOMParser ? (d = new DOMParser, c = d.parseFromString(b, "text/xml")) : (c = new ActiveXObject("Microsoft.XMLDOM"), c.async = "false", c.loadXML(b)) } catch (e) { c = void 0 } return c && c.documentElement && !c.getElementsByTagName("parsererror").length || n.error("Invalid XML: " + b), c }; var zc, Ac, Bc = /#.*$/, Cc = /([?&])_=[^&]*/, Dc = /^(.*?):[ \t]*([^\r\n]*)\r?$/gm, Ec = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/, Fc = /^(?:GET|HEAD)$/, Gc = /^\/\//, Hc = /^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/, Ic = {}, Jc = {}, Kc = "*/".concat("*"); try { Ac = location.href } catch (Lc) { Ac = z.createElement("a"), Ac.href = "", Ac = Ac.href } zc = Hc.exec(Ac.toLowerCase()) || []; function Mc(a) { return function (b, c) { "string" != typeof b && (c = b, b = "*"); var d, e = 0, f = b.toLowerCase().match(F) || []; if (n.isFunction(c)) { while (d = f[e++]) { "+" === d.charAt(0) ? (d = d.slice(1) || "*", (a[d] = a[d] || []).unshift(c)) : (a[d] = a[d] || []).push(c) } } } } function Nc(a, b, c, d) { var e = {}, f = a === Jc; function g(h) { var i; return e[h] = !0, n.each(a[h] || [], function (a, h) { var j = h(b, c, d); return "string" != typeof j || f || e[j] ? f ? !(i = j) : void 0 : (b.dataTypes.unshift(j), g(j), !1) }), i } return g(b.dataTypes[0]) || !e["*"] && g("*") } function Oc(a, b) { var c, d, e = n.ajaxSettings.flatOptions || {}; for (d in b) { void 0 !== b[d] && ((e[d] ? a : c || (c = {}))[d] = b[d]) } return c && n.extend(!0, a, c), a } function Pc(a, b, c) { var d, e, f, g, h = a.contents, i = a.dataTypes; while ("*" === i[0]) { i.shift(), void 0 === e && (e = a.mimeType || b.getResponseHeader("Content-Type")) } if (e) { for (g in h) { if (h[g] && h[g].test(e)) { i.unshift(g); break } } } if (i[0] in c) { f = i[0] } else { for (g in c) { if (!i[0] || a.converters[g + " " + i[0]]) { f = g; break } d || (d = g) } f = f || d } return f ? (f !== i[0] && i.unshift(f), c[f]) : void 0 } function Qc(a, b, c, d) { var e, f, g, h, i, j = {}, k = a.dataTypes.slice(); if (k[1]) { for (g in a.converters) { j[g.toLowerCase()] = a.converters[g] } } f = k.shift(); while (f) { if (a.responseFields[f] && (c[a.responseFields[f]] = b), !i && d && a.dataFilter && (b = a.dataFilter(b, a.dataType)), i = f, f = k.shift()) { if ("*" === f) { f = i } else { if ("*" !== i && i !== f) { if (g = j[i + " " + f] || j["* " + f], !g) { for (e in j) { if (h = e.split(" "), h[1] === f && (g = j[i + " " + h[0]] || j["* " + h[0]])) { g === !0 ? g = j[e] : j[e] !== !0 && (f = h[0], k.unshift(h[1])); break } } } if (g !== !0) { if (g && a["throws"]) { b = g(b) } else { try { b = g(b) } catch (l) { return { state: "parsererror", error: g ? l : "No conversion from " + i + " to " + f } } } } } } } } return { state: "success", data: b } } n.extend({ active: 0, lastModified: {}, etag: {}, ajaxSettings: { url: Ac, type: "GET", isLocal: Ec.test(zc[1]), global: !0, processData: !0, async: !0, contentType: "application/x-www-form-urlencoded; charset=UTF-8", accepts: { "*": Kc, text: "text/plain", html: "text/html", xml: "application/xml, text/xml", json: "application/json, text/javascript" }, contents: { xml: /xml/, html: /html/, json: /json/ }, responseFields: { xml: "responseXML", text: "responseText", json: "responseJSON" }, converters: { "* text": String, "text html": !0, "text json": n.parseJSON, "text xml": n.parseXML }, flatOptions: { url: !0, context: !0 } }, ajaxSetup: function (a, b) { return b ? Oc(Oc(a, n.ajaxSettings), b) : Oc(n.ajaxSettings, a) }, ajaxPrefilter: Mc(Ic), ajaxTransport: Mc(Jc), ajax: function (a, b) { "object" == typeof a && (b = a, a = void 0), b = b || {}; var c, d, e, f, g, h, i, j, k = n.ajaxSetup({}, b), l = k.context || k, m = k.context && (l.nodeType || l.jquery) ? n(l) : n.event, o = n.Deferred(), p = n.Callbacks("once memory"), q = k.statusCode || {}, r = {}, s = {}, t = 0, u = "canceled", v = { readyState: 0, getResponseHeader: function (a) { var b; if (2 === t) { if (!j) { j = {}; while (b = Dc.exec(f)) { j[b[1].toLowerCase()] = b[2] } } b = j[a.toLowerCase()] } return null == b ? null : b }, getAllResponseHeaders: function () { return 2 === t ? f : null }, setRequestHeader: function (a, b) { var c = a.toLowerCase(); return t || (a = s[c] = s[c] || a, r[a] = b), this }, overrideMimeType: function (a) { return t || (k.mimeType = a), this }, statusCode: function (a) { var b; if (a) { if (2 > t) { for (b in a) { q[b] = [q[b], a[b]] } } else { v.always(a[v.status]) } } return this }, abort: function (a) { var b = a || u; return i && i.abort(b), x(0, b), this } }; if (o.promise(v).complete = p.add, v.success = v.done, v.error = v.fail, k.url = ((a || k.url || Ac) + "").replace(Bc, "").replace(Gc, zc[1] + "//"), k.type = b.method || b.type || k.method || k.type, k.dataTypes = n.trim(k.dataType || "*").toLowerCase().match(F) || [""], null == k.crossDomain && (c = Hc.exec(k.url.toLowerCase()), k.crossDomain = !(!c || c[1] === zc[1] && c[2] === zc[2] && (c[3] || ("http:" === c[1] ? "80" : "443")) === (zc[3] || ("http:" === zc[1] ? "80" : "443")))), k.data && k.processData && "string" != typeof k.data && (k.data = n.param(k.data, k.traditional)), Nc(Ic, k, b, v), 2 === t) { return v } h = k.global, h && 0 === n.active++ && n.event.trigger("ajaxStart"), k.type = k.type.toUpperCase(), k.hasContent = !Fc.test(k.type), e = k.url, k.hasContent || (k.data && (e = k.url += (xc.test(e) ? "&" : "?") + k.data, delete k.data), k.cache === !1 && (k.url = Cc.test(e) ? e.replace(Cc, "$1_=" + wc++) : e + (xc.test(e) ? "&" : "?") + "_=" + wc++)), k.ifModified && (n.lastModified[e] && v.setRequestHeader("If-Modified-Since", n.lastModified[e]), n.etag[e] && v.setRequestHeader("If-None-Match", n.etag[e])), (k.data && k.hasContent && k.contentType !== !1 || b.contentType) && v.setRequestHeader("Content-Type", k.contentType), v.setRequestHeader("Accept", k.dataTypes[0] && k.accepts[k.dataTypes[0]] ? k.accepts[k.dataTypes[0]] + ("*" !== k.dataTypes[0] ? ", " + Kc + "; q=0.01" : "") : k.accepts["*"]); for (d in k.headers) { v.setRequestHeader(d, k.headers[d]) } if (k.beforeSend && (k.beforeSend.call(l, v, k) === !1 || 2 === t)) { return v.abort() } u = "abort"; for (d in { success: 1, error: 1, complete: 1 }) { v[d](k[d]) } if (i = Nc(Jc, k, b, v)) { v.readyState = 1, h && m.trigger("ajaxSend", [v, k]), k.async && k.timeout > 0 && (g = setTimeout(function () { v.abort("timeout") }, k.timeout)); try { t = 1, i.send(r, x) } catch (w) { if (!(2 > t)) { throw w } x(-1, w) } } else { x(-1, "No Transport") } function x(a, b, c, d) { var j, r, s, u, w, x = b; 2 !== t && (t = 2, g && clearTimeout(g), i = void 0, f = d || "", v.readyState = a > 0 ? 4 : 0, j = a >= 200 && 300 > a || 304 === a, c && (u = Pc(k, v, c)), u = Qc(k, u, v, j), j ? (k.ifModified && (w = v.getResponseHeader("Last-Modified"), w && (n.lastModified[e] = w), w = v.getResponseHeader("etag"), w && (n.etag[e] = w)), 204 === a || "HEAD" === k.type ? x = "nocontent" : 304 === a ? x = "notmodified" : (x = u.state, r = u.data, s = u.error, j = !s)) : (s = x, (a || !x) && (x = "error", 0 > a && (a = 0))), v.status = a, v.statusText = (b || x) + "", j ? o.resolveWith(l, [r, x, v]) : o.rejectWith(l, [v, x, s]), v.statusCode(q), q = void 0, h && m.trigger(j ? "ajaxSuccess" : "ajaxError", [v, k, j ? r : s]), p.fireWith(l, [v, x]), h && (m.trigger("ajaxComplete", [v, k]), --n.active || n.event.trigger("ajaxStop"))) } return v }, getJSON: function (a, b, c) { return n.get(a, b, c, "json") }, getScript: function (a, b) { return n.get(a, void 0, b, "script") } }), n.each(["get", "post"], function (a, b) { n[b] = function (a, c, d, e) { return n.isFunction(c) && (e = e || d, d = c, c = void 0), n.ajax({ url: a, type: b, dataType: e, data: c, success: d }) } }), n.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function (a, b) { n.fn[b] = function (a) { return this.on(b, a) } }), n._evalUrl = function (a) { return n.ajax({ url: a, type: "GET", dataType: "script", async: !1, global: !1, "throws": !0 }) }, n.fn.extend({ wrapAll: function (a) { if (n.isFunction(a)) { return this.each(function (b) { n(this).wrapAll(a.call(this, b)) }) } if (this[0]) { var b = n(a, this[0].ownerDocument).eq(0).clone(!0); this[0].parentNode && b.insertBefore(this[0]), b.map(function () { var a = this; while (a.firstChild && 1 === a.firstChild.nodeType) { a = a.firstChild } return a }).append(this) } return this }, wrapInner: function (a) { return this.each(n.isFunction(a) ? function (b) { n(this).wrapInner(a.call(this, b)) } : function () { var b = n(this), c = b.contents(); c.length ? c.wrapAll(a) : b.append(a) }) }, wrap: function (a) { var b = n.isFunction(a); return this.each(function (c) { n(this).wrapAll(b ? a.call(this, c) : a) }) }, unwrap: function () { return this.parent().each(function () { n.nodeName(this, "body") || n(this).replaceWith(this.childNodes) }).end() } }), n.expr.filters.hidden = function (a) { return a.offsetWidth <= 0 && a.offsetHeight <= 0 || !l.reliableHiddenOffsets() && "none" === (a.style && a.style.display || n.css(a, "display")) }, n.expr.filters.visible = function (a) { return !n.expr.filters.hidden(a) }; var Rc = /%20/g, Sc = /\[\]$/, Tc = /\r?\n/g, Uc = /^(?:submit|button|image|reset|file)$/i, Vc = /^(?:input|select|textarea|keygen)/i; function Wc(a, b, c, d) { var e; if (n.isArray(b)) { n.each(b, function (b, e) { c || Sc.test(a) ? d(a, e) : Wc(a + "[" + ("object" == typeof e ? b : "") + "]", e, c, d) }) } else { if (c || "object" !== n.type(b)) { d(a, b) } else { for (e in b) { Wc(a + "[" + e + "]", b[e], c, d) } } } } n.param = function (a, b) { var c, d = [], e = function (a, b) { b = n.isFunction(b) ? b() : null == b ? "" : b, d[d.length] = encodeURIComponent(a) + "=" + encodeURIComponent(b) }; if (void 0 === b && (b = n.ajaxSettings && n.ajaxSettings.traditional), n.isArray(a) || a.jquery && !n.isPlainObject(a)) { n.each(a, function () { e(this.name, this.value) }) } else { for (c in a) { Wc(c, a[c], b, e) } } return d.join("&").replace(Rc, "+") }, n.fn.extend({ serialize: function () { return n.param(this.serializeArray()) }, serializeArray: function () { return this.map(function () { var a = n.prop(this, "elements"); return a ? n.makeArray(a) : this }).filter(function () { var a = this.type; return this.name && !n(this).is(":disabled") && Vc.test(this.nodeName) && !Uc.test(a) && (this.checked || !X.test(a)) }).map(function (a, b) { var c = n(this).val(); return null == c ? null : n.isArray(c) ? n.map(c, function (a) { return { name: b.name, value: a.replace(Tc, "\r\n") } }) : { name: b.name, value: c.replace(Tc, "\r\n") } }).get() } }), n.ajaxSettings.xhr = void 0 !== a.ActiveXObject ? function () { return !this.isLocal && /^(get|post|head|put|delete|options)$/i.test(this.type) && $c() || _c() } : $c; var Xc = 0, Yc = {}, Zc = n.ajaxSettings.xhr(); a.ActiveXObject && n(a).on("unload", function () { for (var a in Yc) { Yc[a](void 0, !0) } }), l.cors = !!Zc && "withCredentials" in Zc, Zc = l.ajax = !!Zc, Zc && n.ajaxTransport(function (a) { if (!a.crossDomain || l.cors) { var b; return { send: function (c, d) { var e, f = a.xhr(), g = ++Xc; if (f.open(a.type, a.url, a.async, a.username, a.password), a.xhrFields) { for (e in a.xhrFields) { f[e] = a.xhrFields[e] } } a.mimeType && f.overrideMimeType && f.overrideMimeType(a.mimeType), a.crossDomain || c["X-Requested-With"] || (c["X-Requested-With"] = "XMLHttpRequest"); for (e in c) { void 0 !== c[e] && f.setRequestHeader(e, c[e] + "") } f.send(a.hasContent && a.data || null), b = function (c, e) { var h, i, j; if (b && (e || 4 === f.readyState)) { if (delete Yc[g], b = void 0, f.onreadystatechange = n.noop, e) { 4 !== f.readyState && f.abort() } else { j = {}, h = f.status, "string" == typeof f.responseText && (j.text = f.responseText); try { i = f.statusText } catch (k) { i = "" } h || !a.isLocal || a.crossDomain ? 1223 === h && (h = 204) : h = j.text ? 200 : 404 } } j && d(h, i, j, f.getAllResponseHeaders()) }, a.async ? 4 === f.readyState ? setTimeout(b) : f.onreadystatechange = Yc[g] = b : b() }, abort: function () { b && b(void 0, !0) } } } }); function $c() { try { return new a.XMLHttpRequest } catch (b) { } } function _c() { try { return new a.ActiveXObject("Microsoft.XMLHTTP") } catch (b) { } } n.ajaxSetup({ accepts: { script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript" }, contents: { script: /(?:java|ecma)script/ }, converters: { "text script": function (a) { return n.globalEval(a), a } } }), n.ajaxPrefilter("script", function (a) { void 0 === a.cache && (a.cache = !1), a.crossDomain && (a.type = "GET", a.global = !1) }), n.ajaxTransport("script", function (a) { if (a.crossDomain) { var b, c = z.head || n("head")[0] || z.documentElement; return { send: function (d, e) { b = z.createElement("script"), b.async = !0, a.scriptCharset && (b.charset = a.scriptCharset), b.src = a.url, b.onload = b.onreadystatechange = function (a, c) { (c || !b.readyState || /loaded|complete/.test(b.readyState)) && (b.onload = b.onreadystatechange = null, b.parentNode && b.parentNode.removeChild(b), b = null, c || e(200, "success")) }, c.insertBefore(b, c.firstChild) }, abort: function () { b && b.onload(void 0, !0) } } } }); var ad = [], bd = /(=)\?(?=&|$)|\?\?/; n.ajaxSetup({ jsonp: "callback", jsonpCallback: function () { var a = ad.pop() || n.expando + "_" + wc++; return this[a] = !0, a } }), n.ajaxPrefilter("json jsonp", function (b, c, d) { var e, f, g, h = b.jsonp !== !1 && (bd.test(b.url) ? "url" : "string" == typeof b.data && !(b.contentType || "").indexOf("application/x-www-form-urlencoded") && bd.test(b.data) && "data"); return h || "jsonp" === b.dataTypes[0] ? (e = b.jsonpCallback = n.isFunction(b.jsonpCallback) ? b.jsonpCallback() : b.jsonpCallback, h ? b[h] = b[h].replace(bd, "$1" + e) : b.jsonp !== !1 && (b.url += (xc.test(b.url) ? "&" : "?") + b.jsonp + "=" + e), b.converters["script json"] = function () { return g || n.error(e + " was not called"), g[0] }, b.dataTypes[0] = "json", f = a[e], a[e] = function () { g = arguments }, d.always(function () { a[e] = f, b[e] && (b.jsonpCallback = c.jsonpCallback, ad.push(e)), g && n.isFunction(f) && f(g[0]), g = f = void 0 }), "script") : void 0 }), n.parseHTML = function (a, b, c) { if (!a || "string" != typeof a) { return null } "boolean" == typeof b && (c = b, b = !1), b = b || z; var d = v.exec(a), e = !c && []; return d ? [b.createElement(d[1])] : (d = n.buildFragment([a], b, e), e && e.length && n(e).remove(), n.merge([], d.childNodes)) }; var cd = n.fn.load; n.fn.load = function (a, b, c) { if ("string" != typeof a && cd) { return cd.apply(this, arguments) } var d, e, f, g = this, h = a.indexOf(" "); return h >= 0 && (d = a.slice(h, a.length), a = a.slice(0, h)), n.isFunction(b) ? (c = b, b = void 0) : b && "object" == typeof b && (f = "POST"), g.length > 0 && n.ajax({ url: a, type: f, dataType: "html", data: b }).done(function (a) { e = arguments, g.html(d ? n("<div>").append(n.parseHTML(a)).find(d) : a) }).complete(c && function (a, b) { g.each(c, e || [a.responseText, b, a]) }), this }, n.expr.filters.animated = function (a) { return n.grep(n.timers, function (b) { return a === b.elem }).length }; var dd = a.document.documentElement; function ed(a) { return n.isWindow(a) ? a : 9 === a.nodeType ? a.defaultView || a.parentWindow : !1 } n.offset = { setOffset: function (a, b, c) { var d, e, f, g, h, i, j, k = n.css(a, "position"), l = n(a), m = {}; "static" === k && (a.style.position = "relative"), h = l.offset(), f = n.css(a, "top"), i = n.css(a, "left"), j = ("absolute" === k || "fixed" === k) && n.inArray("auto", [f, i]) > -1, j ? (d = l.position(), g = d.top, e = d.left) : (g = parseFloat(f) || 0, e = parseFloat(i) || 0), n.isFunction(b) && (b = b.call(a, c, h)), null != b.top && (m.top = b.top - h.top + g), null != b.left && (m.left = b.left - h.left + e), "using" in b ? b.using.call(a, m) : l.css(m) } }, n.fn.extend({ offset: function (a) { if (arguments.length) { return void 0 === a ? this : this.each(function (b) { n.offset.setOffset(this, a, b) }) } var b, c, d = { top: 0, left: 0 }, e = this[0], f = e && e.ownerDocument; if (f) { return b = f.documentElement, n.contains(b, e) ? (typeof e.getBoundingClientRect !== L && (d = e.getBoundingClientRect()), c = ed(f), { top: d.top + (c.pageYOffset || b.scrollTop) - (b.clientTop || 0), left: d.left + (c.pageXOffset || b.scrollLeft) - (b.clientLeft || 0) }) : d } }, position: function () { if (this[0]) { var a, b, c = { top: 0, left: 0 }, d = this[0]; return "fixed" === n.css(d, "position") ? b = d.getBoundingClientRect() : (a = this.offsetParent(), b = this.offset(), n.nodeName(a[0], "html") || (c = a.offset()), c.top += n.css(a[0], "borderTopWidth", !0), c.left += n.css(a[0], "borderLeftWidth", !0)), { top: b.top - c.top - n.css(d, "marginTop", !0), left: b.left - c.left - n.css(d, "marginLeft", !0) } } }, offsetParent: function () { return this.map(function () { var a = this.offsetParent || dd; while (a && !n.nodeName(a, "html") && "static" === n.css(a, "position")) { a = a.offsetParent } return a || dd }) } }), n.each({ scrollLeft: "pageXOffset", scrollTop: "pageYOffset" }, function (a, b) { var c = /Y/.test(b); n.fn[a] = function (d) { return W(this, function (a, d, e) { var f = ed(a); return void 0 === e ? f ? b in f ? f[b] : f.document.documentElement[d] : a[d] : void (f ? f.scrollTo(c ? n(f).scrollLeft() : e, c ? e : n(f).scrollTop()) : a[d] = e) }, a, d, arguments.length, null) } }), n.each(["top", "left"], function (a, b) { n.cssHooks[b] = Mb(l.pixelPosition, function (a, c) { return c ? (c = Kb(a, b), Ib.test(c) ? n(a).position()[b] + "px" : c) : void 0 }) }), n.each({ Height: "height", Width: "width" }, function (a, b) { n.each({ padding: "inner" + a, content: b, "": "outer" + a }, function (c, d) { n.fn[d] = function (d, e) { var f = arguments.length && (c || "boolean" != typeof d), g = c || (d === !0 || e === !0 ? "margin" : "border"); return W(this, function (b, c, d) { var e; return n.isWindow(b) ? b.document.documentElement["client" + a] : 9 === b.nodeType ? (e = b.documentElement, Math.max(b.body["scroll" + a], e["scroll" + a], b.body["offset" + a], e["offset" + a], e["client" + a])) : void 0 === d ? n.css(b, c, g) : n.style(b, c, d, g) }, b, f ? d : void 0, f, null) } }) }), n.fn.size = function () { return this.length }, n.fn.andSelf = n.fn.addBack, "function" == typeof define && define.amd && define("jquery", [], function () { return n }); var fd = a.jQuery, gd = a.$; return n.noConflict = function (b) { return a.$ === n && (a.$ = gd), b && a.jQuery === n && (a.jQuery = fd), n }, typeof b === L && (a.jQuery = a.$ = n), n });
!function (t, f) { function g(w, m, j) { var q = w.children(), k = !1; w.empty(); for (var y = 0, x = q.length; x > y; y++) { var b = q.eq(y); if (w.append(b), j && w.append(j), a(w, m)) { b.remove(), k = !0; break } j && j.detach() } return k } function o(y, j, q, x, b) { var k = !1, m = "table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style", w = "script, .dotdotdot-keep"; return y.contents().detach().each(function () { var z = this, A = t(z); if ("undefined" == typeof z || 3 == z.nodeType && 0 == t.trim(z.data).length) { return !0 } if (A.is(w)) { y.append(A) } else { if (k) { return !0 } y.append(A), b && y[y.is(m) ? "after" : "append"](b), a(q, x) && (k = 3 == z.nodeType ? h(A, j, q, x, b) : o(A, j, q, x, b), k || (A.detach(), k = !0)), k || b && b.detach() } }), k } function h(A, H, D, b, z) { var y = A[0]; if (!y) { return !1 } var B = s(y), E = -1 !== B.indexOf(" ") ? " " : "　", m = "letter" == b.wrap ? "" : E, C = B.split(m), j = -1, k = -1, w = 0, x = C.length - 1; for (b.fallbackToLetter && 0 == w && 0 == x && (m = "", C = B.split(m), x = C.length - 1) ; x >= w && (0 != w || 0 != x) ;) { var G = Math.floor((w + x) / 2); if (G == k) { break } k = G, d(y, C.slice(0, k + 1).join(m) + b.ellipsis), a(D, b) ? (x = k, b.fallbackToLetter && 0 == w && 0 == x && (m = "", C = C[0].split(m), j = -1, k = -1, w = 0, x = C.length - 1)) : (j = k, w = k) } if (-1 == j || 1 == C.length && 0 == C[0].length) { var q = A.parent(); A.detach(); var F = z && z.closest(q).length ? z.length : 0; q.contents().length > F ? y = u(q.contents().eq(-1 - F), H) : (y = u(q, H, !0), F || q.detach()), y && (B = r(s(y), b), d(y, B), F && z && t(y).parent().append(z)) } else { B = r(C.slice(0, j + 1).join(m), b), d(y, B) } return !0 } function a(b, j) { return b.innerHeight() > j.maxHeight } function r(b, j) { for (; t.inArray(b.slice(-1), j.lastCharacter.remove) > -1;) { b = b.slice(0, -1) } return t.inArray(b.slice(-1), j.lastCharacter.noEllipsis) < 0 && (b += j.ellipsis), b } function e(b) { return { width: b.innerWidth(), height: b.innerHeight() } } function d(b, j) { b.innerText ? b.innerText = j : b.nodeValue ? b.nodeValue = j : b.textContent && (b.textContent = j) } function s(b) { return b.innerText ? b.innerText : b.nodeValue ? b.nodeValue : b.textContent ? b.textContent : "" } function c(b) { do { b = b.previousSibling } while (b && 1 !== b.nodeType && 3 !== b.nodeType); return b } function u(k, b, m) { var j, q = k && k[0]; if (q) { if (!m) { if (3 === q.nodeType) { return q } if (t.trim(k.text())) { return u(k.contents().last(), b) } } for (j = c(q) ; !j;) { if (k = k.parent(), k.is(b) || !k.length) { return !1 } j = c(k[0]) } if (j) { return u(t(j), b) } } return !1 } function l(b, j) { return b ? "string" == typeof b ? (b = t(b, j), b.length ? b : !1) : b.jquery ? b : !1 : !1 } function p(q) { for (var k = q.innerHeight(), b = ["paddingTop", "paddingBottom"], m = 0, j = b.length; j > m; m++) { var w = parseInt(q.css(b[m]), 10); isNaN(w) && (w = 0), k -= w } return k } if (!t.fn.dotdotdot) { t.fn.dotdotdot = function (w) { if (0 == this.length) { return t.fn.dotdotdot.debug('No element found for "' + this.selector + '".'), this } if (this.length > 1) { return this.each(function () { t(this).dotdotdot(w) }) } var m = this; m.data("dotdotdot") && m.trigger("destroy.dot"), m.data("dotdotdot-style", m.attr("style") || ""), m.css("word-wrap", "break-word"), "nowrap" === m.css("white-space") && m.css("white-space", "normal"), m.bind_events = function () { return m.bind("update.dot", function (A, z) { A.preventDefault(), A.stopPropagation(), b.maxHeight = "number" == typeof b.height ? b.height : p(m), b.maxHeight += b.tolerance, "undefined" != typeof z && (("string" == typeof z || z instanceof HTMLElement) && (z = t("<div />").append(z).contents()), z instanceof t && (q = z)), y = m.wrapInner('<div class="dotdotdot" />').children(), y.contents().detach().end().append(q.clone(!0)).find("br").replaceWith("  <br />  ").end().css({ height: "auto", width: "auto", border: "none", padding: 0, margin: 0 }); var C = !1, B = !1; return k.afterElement && (C = k.afterElement.clone(!0), C.show(), k.afterElement.detach()), a(y, b) && (B = "children" == b.wrap ? g(y, b, C) : o(y, m, y, b, C)), y.replaceWith(y.contents()), y = null, t.isFunction(b.callback) && b.callback.call(m[0], B, q), k.isTruncated = B, B }).bind("isTruncated.dot", function (A, z) { return A.preventDefault(), A.stopPropagation(), "function" == typeof z && z.call(m[0], k.isTruncated), k.isTruncated }).bind("originalContent.dot", function (A, z) { return A.preventDefault(), A.stopPropagation(), "function" == typeof z && z.call(m[0], q), q }).bind("destroy.dot", function (z) { z.preventDefault(), z.stopPropagation(), m.unwatch().unbind_events().contents().detach().end().append(q).attr("style", m.data("dotdotdot-style") || "").data("dotdotdot", !1) }), m }, m.unbind_events = function () { return m.unbind(".dot"), m }, m.watch = function () { if (m.unwatch(), "window" == b.watch) { var A = t(window), z = A.width(), B = A.height(); A.bind("resize.dot" + k.dotId, function () { z == A.width() && B == A.height() && b.windowResizeFix || (z = A.width(), B = A.height(), x && clearInterval(x), x = setTimeout(function () { m.trigger("update.dot") }, 100)) }) } else { j = e(m), x = setInterval(function () { if (m.is(":visible")) { var C = e(m); (j.width != C.width || j.height != C.height) && (m.trigger("update.dot"), j = C) } }, 500) } return m }, m.unwatch = function () { return t(window).unbind("resize.dot" + k.dotId), x && clearInterval(x), m }; var q = m.contents(), b = t.extend(!0, {}, t.fn.dotdotdot.defaults, w), k = {}, j = {}, x = null, y = null; return b.lastCharacter.remove instanceof Array || (b.lastCharacter.remove = t.fn.dotdotdot.defaultArrays.lastCharacter.remove), b.lastCharacter.noEllipsis instanceof Array || (b.lastCharacter.noEllipsis = t.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis), k.afterElement = l(b.after, m), k.isTruncated = !1, k.dotId = i++, m.data("dotdotdot", !0).bind_events().trigger("update.dot"), b.watch && m.watch(), m }, t.fn.dotdotdot.defaults = { ellipsis: "... ", wrap: "word", fallbackToLetter: !0, lastCharacter: {}, tolerance: 0, callback: null, after: null, height: null, watch: !1, windowResizeFix: !0 }, t.fn.dotdotdot.defaultArrays = { lastCharacter: { remove: [" ", "　", ",", ";", ".", "!", "?"], noEllipsis: [] } }, t.fn.dotdotdot.debug = function () { }; var i = 1, n = t.fn.html; t.fn.html = function (b) { return b != f && !t.isFunction(b) && this.data("dotdotdot") ? this.trigger("update", [b]) : n.apply(this, arguments) }; var v = t.fn.text; t.fn.text = function (b) { return b != f && !t.isFunction(b) && this.data("dotdotdot") ? (b = t("<div />").text(b).html(), this.trigger("update", [b])) : v.apply(this, arguments) } } }(jQuery);
(function (E) { function k() { } function c(j) { h = [j] } function g(j, q, z) { return j && j.apply && j.apply(q.context || q, z) } function S(j) { return /\?/.test(j) ? "&" : "?" } function m(K) { function ab(ad) { M++ || (Z(), j && (w[I] = { s: [ad] }), B && (ad = B.apply(K, [ad])), g(R, K, [ad, y, K]), g(H, K, [K, y])) } function ac(ad) { M++ || (Z(), j && ad != p && (w[I] = ad), g(Q, K, [K, ad]), g(H, K, [K, ad])) } K = E.extend({}, T, K); var R = K.success, Q = K.error, H = K.complete, B = K.dataFilter, U = K.callbackParameter, G = K.callback, z = K.cache, j = K.pageCache, D = K.charset, I = K.url, q = K.data, W = K.timeout, X, M = 0, Z = k, aa, Y, J, P, V, F; return v && v(function (ad) { ad.done(R).fail(Q), R = ad.resolve, Q = ad.reject }).promise(K), K.abort = function () { !(M++) && Z() }, g(K.beforeSend, K, [K]) === !1 || M ? K : (I = I || n, q = q ? typeof q == "string" ? q : E.param(q, K.traditional) : n, I += q ? S(I) + q : n, U && (I += S(I) + encodeURIComponent(U) + "=?"), !z && !j && (I += S(I) + "_" + (new Date).getTime() + "="), I = I.replace(/=\?(&|$)/, "=" + G + "$1"), j && (X = w[I]) ? X.s ? ab(X.s[0]) : ac(X) : (l[G] = c, P = E(s)[0], P.id = a + u++, D && (P[d] = D), t && t.version() < 11.6 ? (V = E(s)[0]).text = "document.getElementById('" + P.id + "')." + e + "()" : P[i] = i, f && (P.htmlFor = P.id, P.event = O), P[C] = P[e] = P[o] = function (ad) { if (!P[b] || !/i/.test(P[b])) { try { P[O] && P[O]() } catch (ae) { } ad = h, h = 0, ad ? ab(ad[0]) : ac(x) } }, P.src = I, Z = function (ad) { F && clearTimeout(F), P[o] = P[C] = P[e] = null, r[N](P), V && r[N](V) }, r[L](P, J = r.firstChild), V && r[L](V, J), F = W > 0 && setTimeout(function () { ac(p) }, W)), K) } var i = "async", d = "charset", n = "", x = "error", L = "insertBefore", a = "_jqjsp", A = "on", O = A + "click", e = A + x, C = A + "load", o = A + "readystatechange", b = "readyState", N = "removeChild", s = "<script>", y = "success", p = "timeout", l = window, v = E.Deferred, r = E("head")[0] || document.documentElement, w = {}, u = 0, h, T = { callback: a, url: location.href }, t = l.opera, f = !!E("<div>").html("<!--[if IE]><i><![endif]-->").find("i").length; m.setup = function (j) { E.extend(T, j) }, E.jsonp = m })(jQuery);
/*! nanoScrollerJS - v0.8.4 - (c) 2014 James Florentino; Licensed MIT */
!function (a) { return "function" == typeof define && define.amd ? define(["jquery"], function (b) { return a(b, window, document) }) : a(jQuery, window, document) }(function (s, t, u) { var v, w, x, y, z, A, B, C, D, E, F, G, H, b, d, f, h, j, l, n, p, q, r, a, c, e, g, i, k, m, o; r = { paneClass: "nano-pane", sliderClass: "nano-slider", contentClass: "nano-content", iOSNativeScrolling: !1, preventPageScrolling: !1, disableResize: !1, alwaysVisible: !1, flashDelay: 1500, sliderMinHeight: 20, sliderMaxHeight: null, documentContext: null, windowContext: null }, j = "scrollbar", h = "scroll", D = "mousedown", E = "mouseenter", F = "mousemove", H = "mousewheel", G = "mouseup", f = "resize", z = "drag", A = "enter", n = "up", d = "panedown", x = "DOMMouseScroll", y = "down", p = "wheel", B = "keydown", C = "keyup", l = "touchmove", v = "Microsoft Internet Explorer" === t.navigator.appName && /msie 7./i.test(t.navigator.appVersion) && t.ActiveXObject, w = null, g = t.requestAnimationFrame, q = t.cancelAnimationFrame, k = u.createElement("div").style, o = function () { var M, N, I, J, K, L; for (J = ["t", "webkitT", "MozT", "msT", "OT"], M = K = 0, L = J.length; L > K; M = ++K) { if (I = J[M], N = J[M] + "ransform", N in k) { return J[M].substr(0, J[M].length - 1) } } return !1 }(), m = function (I) { return o === !1 ? !1 : "" === o ? I : o + I.charAt(0).toUpperCase() + I.substr(1) }, i = m("transform"), c = i !== !1, a = function () { var J, K, I; return J = u.createElement("div"), K = J.style, K.position = "absolute", K.width = "100px", K.height = "100px", K.overflow = h, K.top = "-9999px", u.body.appendChild(J), I = J.offsetWidth - J.clientWidth, u.body.removeChild(J), I }, e = function () { var I, J, K; return J = t.navigator.userAgent, (I = /(?=.+Mac OS X)(?=.+Firefox)/.test(J)) ? (K = /Firefox\/\d{2}\./.exec(J), K && (K = K[0].replace(/\D+/g, "")), I && +K > 23) : !1 }, b = function () { function I(K, J) { this.el = K, this.options = J, w || (w = a()), this.$el = s(this.el), this.doc = s(this.options.documentContext || u), this.win = s(this.options.windowContext || t), this.body = this.doc.find("body"), this.$content = this.$el.children("." + J.contentClass), this.$content.attr("tabindex", this.options.tabIndex || 0), this.content = this.$content[0], this.previousPosition = 0, this.options.iOSNativeScrolling && null != this.el.style.WebkitOverflowScrolling ? this.nativeScrolling() : this.generate(), this.createEvents(), this.addEvents(), this.reset() } return I.prototype.preventScrolling = function (J, K) { if (this.isActive) { if (J.type === x) { (K === y && J.originalEvent.detail > 0 || K === n && J.originalEvent.detail < 0) && J.preventDefault() } else { if (J.type === H) { if (!J.originalEvent || !J.originalEvent.wheelDelta) { return } (K === y && J.originalEvent.wheelDelta < 0 || K === n && J.originalEvent.wheelDelta > 0) && J.preventDefault() } } } }, I.prototype.nativeScrolling = function () { this.$content.css({ WebkitOverflowScrolling: "touch" }), this.iOSNativeScrolling = !0, this.isActive = !0 }, I.prototype.updateScrollValues = function () { var J, K; J = this.content, this.maxScrollTop = J.scrollHeight - J.clientHeight, this.prevScrollTop = this.contentScrollTop || 0, this.contentScrollTop = J.scrollTop, K = this.contentScrollTop > this.previousPosition ? "down" : this.contentScrollTop < this.previousPosition ? "up" : "same", this.previousPosition = this.contentScrollTop, "same" !== K && this.$el.trigger("update", { position: this.contentScrollTop, maximum: this.maxScrollTop, direction: K }), this.iOSNativeScrolling || (this.maxSliderTop = this.paneHeight - this.sliderHeight, this.sliderTop = 0 === this.maxScrollTop ? 0 : this.contentScrollTop * this.maxSliderTop / this.maxScrollTop) }, I.prototype.setOnScrollStyles = function () { var J; c ? (J = {}, J[i] = "translate(0, " + this.sliderTop + "px)") : J = { top: this.sliderTop }, g ? (q && this.scrollRAF && q(this.scrollRAF), this.scrollRAF = g(function (K) { return function () { return K.scrollRAF = null, K.slider.css(J) } }(this))) : this.slider.css(J) }, I.prototype.createEvents = function () { this.events = { down: function (J) { return function (K) { return J.isBeingDragged = !0, J.offsetY = K.pageY - J.slider.offset().top, J.slider.is(K.target) || (J.offsetY = 0), J.pane.addClass("active"), J.doc.bind(F, J.events[z]).bind(G, J.events[n]), J.body.bind(E, J.events[A]), !1 } }(this), drag: function (J) { return function (K) { return J.sliderY = K.pageY - J.$el.offset().top - J.paneTop - (J.offsetY || 0.5 * J.sliderHeight), J.scroll(), J.contentScrollTop >= J.maxScrollTop && J.prevScrollTop !== J.maxScrollTop ? J.$el.trigger("scrollend") : 0 === J.contentScrollTop && 0 !== J.prevScrollTop && J.$el.trigger("scrolltop"), !1 } }(this), up: function (J) { return function () { return J.isBeingDragged = !1, J.pane.removeClass("active"), J.doc.unbind(F, J.events[z]).unbind(G, J.events[n]), J.body.unbind(E, J.events[A]), !1 } }(this), resize: function (J) { return function () { J.reset() } }(this), panedown: function (J) { return function (K) { return J.sliderY = (K.offsetY || K.originalEvent.layerY) - 0.5 * J.sliderHeight, J.scroll(), J.events.down(K), !1 } }(this), scroll: function (J) { return function (K) { J.updateScrollValues(), J.isBeingDragged || (J.iOSNativeScrolling || (J.sliderY = J.sliderTop, J.setOnScrollStyles()), null != K && (J.contentScrollTop >= J.maxScrollTop ? (J.options.preventPageScrolling && J.preventScrolling(K, y), J.prevScrollTop !== J.maxScrollTop && J.$el.trigger("scrollend")) : 0 === J.contentScrollTop && (J.options.preventPageScrolling && J.preventScrolling(K, n), 0 !== J.prevScrollTop && J.$el.trigger("scrolltop")))) } }(this), wheel: function (J) { return function (L) { var K; if (null != L) { return K = L.delta || L.wheelDelta || L.originalEvent && L.originalEvent.wheelDelta || -L.detail || L.originalEvent && -L.originalEvent.detail, K && (J.sliderY += -K / 3), J.scroll(), !1 } } }(this), enter: function (J) { return function (L) { var K; if (J.isBeingDragged) { return 1 !== (L.buttons || L.which) ? (K = J.events)[n].apply(K, arguments) : void 0 } } }(this) } }, I.prototype.addEvents = function () { var J; this.removeEvents(), J = this.events, this.options.disableResize || this.win.bind(f, J[f]), this.iOSNativeScrolling || (this.slider.bind(D, J[y]), this.pane.bind(D, J[d]).bind("" + H + " " + x, J[p])), this.$content.bind("" + h + " " + H + " " + x + " " + l, J[h]) }, I.prototype.removeEvents = function () { var J; J = this.events, this.win.unbind(f, J[f]), this.iOSNativeScrolling || (this.slider.unbind(), this.pane.unbind()), this.$content.unbind("" + h + " " + H + " " + x + " " + l, J[h]) }, I.prototype.generate = function () { var K, P, J, L, M, N, O; return L = this.options, N = L.paneClass, O = L.sliderClass, K = L.contentClass, (M = this.$el.children("." + N)).length || M.children("." + O).length || this.$el.append('<div class="' + N + '"><div class="' + O + '" /></div>'), this.pane = this.$el.children("." + N), this.slider = this.pane.find("." + O), 0 === w && e() ? (J = t.getComputedStyle(this.content, null).getPropertyValue("padding-right").replace(/[^0-9.]+/g, ""), P = { right: -14, paddingRight: +J + 14 }) : w && (P = { right: -w }, this.$el.addClass("has-scrollbar")), null != P && this.$content.css(P), this }, I.prototype.restore = function () { this.stopped = !1, this.iOSNativeScrolling || this.pane.show(), this.addEvents() }, I.prototype.reset = function () { var P, Q, R, S, T, U, J, K, L, M, N, O; return this.iOSNativeScrolling ? void (this.contentHeight = this.content.scrollHeight) : (this.$el.find("." + this.options.paneClass).length || this.generate().stop(), this.stopped && this.restore(), P = this.content, S = P.style, T = S.overflowY, v && this.$content.css({ height: this.$content.height() }), Q = P.scrollHeight + w, M = parseInt(this.$el.css("max-height"), 10), M > 0 && (this.$el.height(""), this.$el.height(P.scrollHeight > M ? M : P.scrollHeight)), J = this.pane.outerHeight(!1), L = parseInt(this.pane.css("top"), 10), U = parseInt(this.pane.css("bottom"), 10), K = J + L + U, O = Math.round(K / Q * K), O < this.options.sliderMinHeight ? O = this.options.sliderMinHeight : null != this.options.sliderMaxHeight && O > this.options.sliderMaxHeight && (O = this.options.sliderMaxHeight), T === h && S.overflowX !== h && (O += w), this.maxSliderTop = K - O, this.contentHeight = Q, this.paneHeight = J, this.paneOuterHeight = K, this.sliderHeight = O, this.paneTop = L, this.slider.height(O), this.events.scroll(), this.pane.show(), this.isActive = !0, P.scrollHeight === P.clientHeight || this.pane.outerHeight(!0) >= P.scrollHeight && T !== h ? (this.pane.hide(), this.isActive = !1) : this.el.clientHeight === P.scrollHeight && T === h ? this.slider.hide() : this.slider.show(), this.pane.css({ opacity: this.options.alwaysVisible ? 1 : "", visibility: this.options.alwaysVisible ? "visible" : "" }), R = this.$content.css("position"), ("static" === R || "relative" === R) && (N = parseInt(this.$content.css("right"), 10), N && this.$content.css({ right: "", marginRight: N })), this) }, I.prototype.scroll = function () { return this.isActive ? (this.sliderY = Math.max(0, this.sliderY), this.sliderY = Math.min(this.maxSliderTop, this.sliderY), this.$content.scrollTop(this.maxScrollTop * this.sliderY / this.maxSliderTop), this.iOSNativeScrolling || (this.updateScrollValues(), this.setOnScrollStyles()), this) : void 0 }, I.prototype.scrollBottom = function (J) { return this.isActive ? (this.$content.scrollTop(this.contentHeight - this.$content.height() - J).trigger(H), this.stop().restore(), this) : void 0 }, I.prototype.scrollTop = function (J) { return this.isActive ? (this.$content.scrollTop(+J).trigger(H), this.stop().restore(), this) : void 0 }, I.prototype.scrollTo = function (J) { return this.isActive ? (this.scrollTop(this.$el.find(J).get(0).offsetTop), this) : void 0 }, I.prototype.stop = function () { return q && this.scrollRAF && (q(this.scrollRAF), this.scrollRAF = null), this.stopped = !0, this.removeEvents(), this.iOSNativeScrolling || this.pane.hide(), this }, I.prototype.destroy = function () { return this.stopped || this.stop(), !this.iOSNativeScrolling && this.pane.length && this.pane.remove(), v && this.$content.height(""), this.$content.removeAttr("tabindex"), this.$el.hasClass("has-scrollbar") && (this.$el.removeClass("has-scrollbar"), this.$content.css({ right: "" })), this }, I.prototype.flash = function () { return !this.iOSNativeScrolling && this.isActive ? (this.reset(), this.pane.addClass("flashed"), setTimeout(function (J) { return function () { J.pane.removeClass("flashed") } }(this), this.options.flashDelay), this) : void 0 }, I }(), s.fn.nanoScroller = function (I) { return this.each(function () { var K, J; if ((J = this.nanoscroller) || (K = s.extend({}, r, I), this.nanoscroller = J = new b(this, K)), I && "object" == typeof I) { if (s.extend(J.options, I), null != I.scrollBottom) { return J.scrollBottom(I.scrollBottom) } if (null != I.scrollTop) { return J.scrollTop(I.scrollTop) } if (I.scrollTo) { return J.scrollTo(I.scrollTo) } if ("bottom" === I.scroll) { return J.scrollBottom(0) } if ("top" === I.scroll) { return J.scrollTop(0) } if (I.scroll && I.scroll instanceof s) { return J.scrollTo(I.scroll) } if (I.stop) { return J.stop() } if (I.destroy) { return J.destroy() } if (I.flash) { return J.flash() } } return J.reset() }) }, s.fn.nanoScroller.Constructor = b });
"undefined" === typeof jwplayer && (jwplayer = function () { if (jwplayer.api) { return jwplayer.api.selectPlayer.apply(this, arguments) } }, jwplayer.version = "6.12.4956", jwplayer.vid = document.createElement("video"), jwplayer.audio = document.createElement("audio"), jwplayer.source = document.createElement("source"), function () { var c = {}, a = Array.prototype, p = Object.prototype, u = a.slice, j = a.concat, w = p.toString, e = p.hasOwnProperty, k = a.map, q = a.forEach, b = a.filter, g = a.every, f = a.some, h = a.indexOf, p = Array.isArray, d = Object.keys, r = function (i) { if (i instanceof r) { return i } if (!(this instanceof r)) { return new r(i) } }, m = r.each = r.forEach = function (t, n, x) { if (null == t) { return t } if (q && t.forEach === q) { t.forEach(n, x) } else { if (t.length === +t.length) { for (var i = 0, v = t.length; i < v; i++) { if (n.call(x, t[i], i, t) === c) { return } } } else { for (var o = r.keys(t), i = 0, v = o.length; i < v; i++) { if (n.call(x, t[o[i]], o[i], t) === c) { return } } } } return t }; r.map = r.collect = function (o, i, t) { var n = []; if (null == o) { return n } if (k && o.map === k) { return o.map(i, t) } m(o, function (v, x, y) { n.push(i.call(t, v, x, y)) }); return n }; r.find = r.detect = function (o, i, t) { var n; l(o, function (v, x, y) { if (i.call(t, v, x, y)) { return n = v, !0 } }); return n }; r.filter = r.select = function (o, t, n) { var i = []; if (null == o) { return i } if (b && o.filter === b) { return o.filter(t, n) } m(o, function (v, x, y) { t.call(n, v, x, y) && i.push(v) }); return i }; r.every = r.all = function (o, i, t) { i || (i = r.identity); var n = !0; if (null == o) { return n } if (g && o.every === g) { return o.every(i, t) } m(o, function (v, x, y) { if (!(n = n && i.call(t, v, x, y))) { return c } }); return !!n }; var l = r.some = r.any = function (o, i, t) { i || (i = r.identity); var n = !1; if (null == o) { return n } if (f && o.some === f) { return o.some(i, t) } m(o, function (v, x, y) { if (n || (n = i.call(t, v, x, y))) { return c } }); return !!n }; r.size = function (i) { return null == i ? 0 : i.length === +i.length ? i.length : r.keys(i).length }; r.after = function (i, n) { return function () { if (1 > --i) { return n.apply(this, arguments) } } }; r.sortedIndex = function (v, n, t, y) { t = null == t ? r.identity : r.isFunction(t) ? t : r.property(t); n = t.call(y, n); for (var x = 0, o = v.length; x < o;) { var i = x + o >>> 1; t.call(y, v[i]) < n ? x = i + 1 : o = i } return x }; r.find = r.detect = function (o, i, n) { var t; l(o, function (v, x, y) { if (i.call(n, v, x, y)) { return t = v, !0 } }); return t }; l = r.some = r.any = function (o, i, n) { i || (i = r.identity); var t = !1; if (null == o) { return t } if (f && o.some === f) { return o.some(i, n) } m(o, function (v, x, y) { if (t || (t = i.call(n, v, x, y))) { return c } }); return !!t }; r.contains = r.include = function (i, n) { if (null == i) { return !1 } i.length !== +i.length && (i = r.values(i)); return 0 <= r.indexOf(i, n) }; r.where = function (i, n) { return r.filter(i, r.matches(n)) }; r.difference = function (i) { var n = j.apply(a, u.call(arguments, 1)); return r.filter(i, function (o) { return !r.contains(n, o) }) }; r.without = function (i) { return r.difference(i, u.call(arguments, 1)) }; r.indexOf = function (t, n, v) { if (null == t) { return -1 } var i = 0, o = t.length; if (v) { if ("number" == typeof v) { i = 0 > v ? Math.max(0, o + v) : v } else { return i = r.sortedIndex(t, n), t[i] === n ? i : -1 } } if (h && t.indexOf === h) { return t.indexOf(n, v) } for (; i < o; i++) { if (t[i] === n) { return i } } return -1 }; r.partial = function (i) { var n = u.call(arguments, 1); return function () { for (var o = 0, x = n.slice(), t = 0, v = x.length; t < v; t++) { x[t] === r && (x[t] = arguments[o++]) } for (; o < arguments.length;) { x.push(arguments[o++]) } return i.apply(this, x) } }; r.memoize = function (n, i) { var o = {}; i || (i = r.identity); return function () { var t = i.apply(this, arguments); return r.has(o, t) ? o[t] : o[t] = n.apply(this, arguments) } }; r.delay = function (i, n) { var o = u.call(arguments, 2); return setTimeout(function () { return i.apply(null, o) }, n) }; r.defer = function (i) { return r.delay.apply(r, [i, 1].concat(u.call(arguments, 1))) }; r.keys = function (n) { if (!r.isObject(n)) { return [] } if (d) { return d(n) } var i = [], o; for (o in n) { r.has(n, o) && i.push(o) } return i }; r.pick = function (i) { var n = {}, o = j.apply(a, u.call(arguments, 1)); m(o, function (t) { t in i && (n[t] = i[t]) }); return n }; r.isArray = p || function (i) { return "[object Array]" == w.call(i) }; r.isObject = function (i) { return i === Object(i) }; m("Arguments Function String Number Date RegExp".split(" "), function (i) { r["is" + i] = function (n) { return w.call(n) == "[object " + i + "]" } }); r.isArguments(arguments) || (r.isArguments = function (i) { return !(!i || !r.has(i, "callee")) }); "function" !== typeof /./ && (r.isFunction = function (i) { return "function" === typeof i }); r.isFinite = function (i) { return isFinite(i) && !isNaN(parseFloat(i)) }; r.isNaN = function (i) { return r.isNumber(i) && i != +i }; r.isBoolean = function (i) { return !0 === i || !1 === i || "[object Boolean]" == w.call(i) }; r.isNull = function (i) { return null === i }; r.isUndefined = function (i) { return void 0 === i }; r.has = function (i, n) { return e.call(i, n) }; r.identity = function (i) { return i }; r.constant = function (i) { return function () { return i } }; r.property = function (i) { return function (n) { return n[i] } }; r.matches = function (i) { return function (o) { if (o === i) { return !0 } for (var n in i) { if (i[n] !== o[n]) { return !1 } } return !0 } }; r.result = function (n, i) { if (null != n) { var o = n[i]; return r.isFunction(o) ? o.call(n) : o } }; this._ = r }.call(jwplayer), function (l) { function k(a) { return function () { return b(a) } } function j(a, i, e, h, m) { return function () { var n, o; if (m) { e(a) } else { try { if (n = a.responseXML) { if (o = n.firstChild, n.lastChild && "parsererror" === n.lastChild.nodeName) { h && h("Invalid XML", i, a); return } } } catch (p) { } if (n && o) { return e(a) } (n = c.parseXML(a.responseText)) && n.firstChild ? (a = c.extend({}, a, { responseXML: n }), e(a)) : h && h(a.responseText ? "Invalid XML" : i, i, a) } } } var c = l.utils = {}, d = l._; c.exists = function (a) { switch (typeof a) { case "string": return 0 < a.length; case "object": return null !== a; case "undefined": return !1 } return !0 }; c.styleDimension = function (a) { return a + (0 < a.toString().indexOf("%") ? "" : "px") }; c.getAbsolutePath = function (a, e) { c.exists(e) || (e = document.location.href); if (c.exists(a)) { var m; if (c.exists(a)) { m = a.indexOf("://"); var o = a.indexOf("?"); m = 0 < m && (0 > o || o > m) } else { m = void 0 } if (m) { return a } m = e.substring(0, e.indexOf("://") + 3); var o = e.substring(m.length, e.indexOf("/", m.length + 1)), n; 0 === a.indexOf("/") ? n = a.split("/") : (n = e.split("?")[0], n = n.substring(m.length + o.length + 1, n.lastIndexOf("/")), n = n.split("/").concat(a.split("/"))); for (var h = [], i = 0; i < n.length; i++) { n[i] && (c.exists(n[i]) && "." !== n[i]) && (".." === n[i] ? h.pop() : h.push(n[i])) } return m + o + "/" + h.join("/") } }; c.extend = function () { var a = Array.prototype.slice.call(arguments, 0); if (1 < a.length) { for (var i = a[0], e = function (m, n) { void 0 !== n && null !== n && (i[m] = n) }, h = 1; h < a.length; h++) { c.foreach(a[h], e) } return i } return null }; var g = window.console = window.console || { log: function () { } }; c.log = function () { var a = Array.prototype.slice.call(arguments, 0); "object" === typeof g.log ? g.log(a) : g.log.apply(g, a) }; var b = d.memoize(function (a) { return null !== navigator.userAgent.toLowerCase().match(a) }); c.isFF = k(/firefox/i); c.isChrome = k(/chrome/i); c.isIPod = k(/iP(hone|od)/i); c.isIPad = k(/iPad/i); c.isSafari602 = k(/Macintosh.*Mac OS X 10_8.*6\.0\.\d* Safari/i); c.isIETrident = function (a) { return a ? (a = parseFloat(a).toFixed(1), b(RegExp("trident/.+rv:\\s*" + a, "i"))) : b(/trident/i) }; c.isMSIE = function (a) { return a ? (a = parseFloat(a).toFixed(1), b(RegExp("msie\\s*" + a, "i"))) : b(/msie/i) }; c.isIE = function (a) { return a ? (a = parseFloat(a).toFixed(1), 11 <= a ? c.isIETrident(a) : c.isMSIE(a)) : c.isMSIE() || c.isIETrident() }; c.isSafari = function () { return b(/safari/i) && !b(/chrome/i) && !b(/chromium/i) && !b(/android/i) }; c.isIOS = function (a) { return a ? b(RegExp("iP(hone|ad|od).+\\sOS\\s" + a, "i")) : b(/iP(hone|ad|od)/i) }; c.isAndroidNative = function (a) { return c.isAndroid(a, !0) }; c.isAndroid = function (a, e) { return e && b(/chrome\/[123456789]/i) && !b(/chrome\/18/) ? !1 : a ? (c.isInt(a) && !/\./.test(a) && (a = "" + a + "."), b(RegExp("Android\\s*" + a, "i"))) : b(/Android/i) }; c.isMobile = function () { return c.isIOS() || c.isAndroid() }; c.isIframe = function () { return window.frameElement && "IFRAME" === window.frameElement.nodeName }; c.saveCookie = function (a, e) { document.cookie = "jwplayer." + a + "\x3d" + e + "; path\x3d/" }; c.getCookies = function () { for (var h = {}, e = document.cookie.split("; "), i = 0; i < e.length; i++) { var a = e[i].split("\x3d"); 0 === a[0].indexOf("jwplayer.") && (h[a[0].substring(9, a[0].length)] = a[1]) } return h }; c.isInt = function (a) { return 0 === parseFloat(a) % 1 }; c.typeOf = function (a) { if (null === a) { return "null" } var e = typeof a; return "object" === e && d.isArray(a) ? "array" : e }; c.translateEventResponse = function (a, i) { var e = c.extend({}, i); if (a === l.events.JWPLAYER_FULLSCREEN && !e.fullscreen) { e.fullscreen = "true" === e.message, delete e.message } else { if ("object" === typeof e.data) { var h = e.data; delete e.data; e = c.extend(e, h) } else { "object" === typeof e.metadata && c.deepReplaceKeyName(e.metadata, ["__dot__", "__spc__", "__dsh__", "__default__"], [".", " ", "-", "default"]) } } c.foreach(["position", "duration", "offset"], function (n, m) { e[m] && (e[m] = Math.round(1000 * e[m]) / 1000) }); return e }; c.flashVersion = function () { if (c.isAndroid()) { return 0 } var a = navigator.plugins, i; try { if ("undefined" !== a && (i = a["Shockwave Flash"])) { return parseInt(i.description.replace(/\D+(\d+)\..*/, "$1"), 10) } } catch (e) { } if ("undefined" !== typeof window.ActiveXObject) { try { if (i = new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")) { return parseInt(i.GetVariable("$version").split(" ")[1].split(",")[0], 10) } } catch (h) { } } return 0 }; c.getScriptPath = function (h) { for (var e = document.getElementsByTagName("script"), a = 0; a < e.length; a++) { var i = e[a].src; if (i && 0 <= i.indexOf(h)) { return i.substr(0, i.indexOf(h)) } } return "" }; c.deepReplaceKeyName = function (a, i, e) { switch (l.utils.typeOf(a)) { case "array": for (var h = 0; h < a.length; h++) { a[h] = l.utils.deepReplaceKeyName(a[h], i, e) } break; case "object": c.foreach(a, function (u, n) { var o; if (i instanceof Array && e instanceof Array) { if (i.length !== e.length) { return } o = i } else { o = [i] } for (var m = u, p = 0; p < o.length; p++) { m = m.replace(RegExp(i[p], "g"), e[p]) } a[m] = l.utils.deepReplaceKeyName(n, i, e); u !== m && delete a[u] }) } return a }; var f = c.pluginPathType = { ABSOLUTE: 0, RELATIVE: 1, CDN: 2 }; c.getPluginPathType = function (a) { if ("string" === typeof a) { a = a.split("?")[0]; var h = a.indexOf("://"); if (0 < h) { return f.ABSOLUTE } var e = a.indexOf("/"); a = c.extension(a); return 0 > h && 0 > e && (!a || !isNaN(a)) ? f.CDN : f.RELATIVE } }; c.getPluginName = function (a) { return a.replace(/^(.*\/)?([^-]*)-?.*\.(swf|js)$/, "$2") }; c.getPluginVersion = function (a) { return a.replace(/[^-]*-?([^\.]*).*$/, "$1") }; c.isYouTube = function (a, e) { return "youtube" === e || /^(http|\/\/).*(youtube\.com|youtu\.be)\/.+/.test(a) }; c.youTubeID = function (a) { try { return /v[=\/]([^?&]*)|youtu\.be\/([^?]*)|^([\w-]*)$/i.exec(a).slice(1).join("").replace("?", "") } catch (e) { return "" } }; c.isRtmp = function (a, e) { return 0 === a.indexOf("rtmp") || "rtmp" === e }; c.foreach = function (a, i) { var e, h; for (e in a) { "function" === c.typeOf(a.hasOwnProperty) ? a.hasOwnProperty(e) && (h = a[e], i(e, h)) : (h = a[e], i(e, h)) } }; c.isHTTPS = function () { return 0 === window.location.href.indexOf("https") }; c.repo = function () { var a = "http://p.jwpcdn.com/" + l.version.split(/\W/).splice(0, 2).join("/") + "/"; try { c.isHTTPS() && (a = a.replace("http://", "https://ssl.")) } catch (e) { } return a }; c.versionCheck = function (h) { h = ("0" + h).split(/\W/); var a = l.version.split(/\W/), i = parseFloat(h[0]), e = parseFloat(a[0]); return i > e || i === e && parseFloat("0" + h[1]) > parseFloat(a[1]) ? !1 : !0 }; c.ajax = function (m, n, p, B) { var C, o = !1; 0 < m.indexOf("#") && (m = m.replace(/#.*$/, "")); if (m && 0 <= m.indexOf("://") && m.split("/")[2] !== window.location.href.split("/")[2] && c.exists(window.XDomainRequest)) { C = new window.XDomainRequest, C.onload = j(C, m, n, p, B), C.ontimeout = C.onprogress = function () { }, C.timeout = 5000 } else { if (c.exists(window.XMLHttpRequest)) { var e = C = new window.XMLHttpRequest, a = m; C.onreadystatechange = function () { if (4 === e.readyState) { switch (e.status) { case 200: j(e, a, n, p, B)(); break; case 404: p("File not found", a, e) } } } } else { return p && p("", m, C), C } } C.overrideMimeType && C.overrideMimeType("text/xml"); var t = m, h = C; C.onerror = function () { p("Error loading file", t, h) }; try { C.open("GET", m, !0) } catch (i) { o = !0 } setTimeout(function () { if (o) { p && p(m, m, C) } else { try { C.send() } catch (q) { p && p(m, m, C) } } }, 0); return C }; c.parseXML = function (e) { var a; try { if (window.DOMParser) { if (a = (new window.DOMParser).parseFromString(e, "text/xml"), a.childNodes && a.childNodes.length && "parsererror" === a.childNodes[0].firstChild.nodeName) { return } } else { a = new window.ActiveXObject("Microsoft.XMLDOM"), a.async = "false", a.loadXML(e) } } catch (h) { return } return a }; c.between = function (e, a, h) { return Math.max(Math.min(e, h), a) }; c.seconds = function (e) { if (d.isNumber(e)) { return e } e = e.replace(",", "."); var a = e.split(":"), h = 0; "s" === e.slice(-1) ? h = parseFloat(e) : "m" === e.slice(-1) ? h = 60 * parseFloat(e) : "h" === e.slice(-1) ? h = 3600 * parseFloat(e) : 1 < a.length ? (h = parseFloat(a[a.length - 1]), h += 60 * parseFloat(a[a.length - 2]), 3 === a.length && (h += 3600 * parseFloat(a[a.length - 3]))) : h = parseFloat(e); return h }; c.serialize = function (a) { return null === a ? null : "true" === a.toString().toLowerCase() ? !0 : "false" === a.toString().toLowerCase() ? !1 : isNaN(Number(a)) || 5 < a.length || 0 === a.length ? a : Number(a) }; c.addClass = function (a, e) { var h = d.isString(a.className) ? a.className.split(" ") : [], i = d.isArray(e) ? e : e.split(" "); d.each(i, function (m) { d.contains(h, m) || h.push(m) }); a.className = c.trim(h.join(" ")) }; c.removeClass = function (a, e) { var h = d.isString(a.className) ? a.className.split(" ") : [], i = d.isArray(e) ? e : e.split(" "); a.className = c.trim(d.difference(h, i).join(" ")) }; c.emptyElement = function (a) { for (; a.firstChild;) { a.removeChild(a.firstChild) } }; c.indexOf = d.indexOf; c.noop = function () { }; c.canCast = function () { var a = l.cast; return !(!a || !d.isFunction(a.available) || !a.available()) } }(jwplayer), function (r) { function l(h) { var i = document.createElement("style"); h && i.appendChild(document.createTextNode(h)); i.type = "text/css"; document.getElementsByTagName("head")[0].appendChild(i); return i } function d(i, m, h) { if (!k.exists(m)) { return "" } h = h ? " !important" : ""; return "string" === typeof m && isNaN(m) ? /png|gif|jpe?g/i.test(m) && 0 > m.indexOf("url") ? "url(" + m + ")" : m + h : 0 === m || "z-index" === i || "opacity" === i ? "" + m + h : /color/i.test(i) ? "#" + k.pad(m.toString(16).replace(/^0x/i, ""), 6) + h : Math.ceil(m) + "px" + h } function j(m, h) { for (var p = 0; p < m.length; p++) { var n = m[p], t, o; if (void 0 !== n && null !== n) { for (t in h) { o = t; o = o.split("-"); for (var i = 1; i < o.length; i++) { o[i] = o[i].charAt(0).toUpperCase() + o[i].slice(1) } o = o.join(""); n.style[o] !== h[t] && (n.style[o] = h[t]) } } } } function b(t) { var i = a[t].sheet, h, u, o; if (i) { h = i.cssRules; u = f[t]; o = t; var n = g[o]; o += " { "; for (var p in n) { o += p + ": " + n[p] + "; " } o += "}"; if (void 0 !== u && u < h.length && h[u].selectorText === t) { if (o === h[u].cssText) { return } i.deleteRule(u) } else { u = h.length, f[t] = u } try { i.insertRule(o, u) } catch (m) { } } } var k = r.utils, a = {}, c, g = {}, q = null, f = {}; k.cssKeyframes = function (o, m) { var p = a.keyframes; p || (p = l(), a.keyframes = p); var p = p.sheet, n = "@keyframes " + o + " { " + m + " }"; try { p.insertRule(n, p.cssRules.length) } catch (i) { } n = n.replace(/(keyframes|transform)/g, "-webkit-$1"); try { p.insertRule(n, p.cssRules.length) } catch (h) { } }; var e = k.css = function (i, h, n) { g[i] || (g[i] = {}); var p = g[i]; n = n || !1; var t = !1, o, m; for (o in h) { m = d(o, h[o], n), "" !== m ? m !== p[o] && (p[o] = m, t = !0) : void 0 !== p[o] && (delete p[o], t = !0) } if (t) { if (!a[i]) { h = c && c.sheet && c.sheet.cssRules && c.sheet.cssRules.length || 0; if (!c || 50000 < h) { c = l() } a[i] = c } null !== q ? q.styleSheets[i] = g[i] : b(i) } }; e.style = function (h, m, o) { if (!(void 0 === h || null === h)) { void 0 === h.length && (h = [h]); var i = {}, p; for (p in m) { i[p] = d(p, m[p]) } if (null !== q && !o) { m = (m = h.__cssRules) || {}; for (var n in i) { m[n] = i[n] } h.__cssRules = m; 0 > r._.indexOf(q.elements, h) && q.elements.push(h) } else { j(h, i) } } }; e.block = function (h) { null === q && (q = { id: h, styleSheets: {}, elements: [] }) }; e.unblock = function (h) { if (q && (!h || q.id === h)) { for (var i in q.styleSheets) { b(i) } for (h = 0; h < q.elements.length; h++) { i = q.elements[h], j(i, i.__cssRules) } q = null } }; k.clearCss = function (i) { for (var h in g) { 0 <= h.indexOf(i) && delete g[h] } for (var m in a) { 0 <= m.indexOf(i) && b(m) } }; k.transform = function (i, h) { var m = {}; h = h || ""; m.transform = h; m["-webkit-transform"] = h; m["-ms-transform"] = h; m["-moz-transform"] = h; m["-o-transform"] = h; "string" === typeof i ? e(i, m) : e.style(i, m) }; k.dragStyle = function (h, i) { e(h, { "-webkit-user-select": i, "-moz-user-select": i, "-ms-user-select": i, "-webkit-user-drag": i, "user-select": i, "user-drag": i }) }; k.transitionStyle = function (h, i) { navigator.userAgent.match(/5\.\d(\.\d)? safari/i) || e(h, { "-webkit-transition": i, "-moz-transition": i, "-o-transition": i, transition: i }) }; k.rotate = function (h, i) { k.transform(h, "rotate(" + i + "deg)") }; k.rgbHex = function (h) { h = String(h).replace("#", ""); 3 === h.length && (h = h[0] + h[0] + h[1] + h[1] + h[2] + h[2]); return "#" + h.substr(-6) }; k.hexToRgba = function (m, h) { var n = "rgb", i = [parseInt(m.substr(1, 2), 16), parseInt(m.substr(3, 2), 16), parseInt(m.substr(5, 2), 16)]; void 0 !== h && 100 !== h && (n += "a", i.push(h / 100)); return n + "(" + i.join(",") + ")" } }(jwplayer), function (f) { var d = jwplayer._, l = f.foreach, b = { mp4: "video/mp4", ogg: "video/ogg", oga: "audio/ogg", vorbis: "audio/ogg", webm: "video/webm", aac: "audio/mp4", mp3: "audio/mpeg", hls: "application/vnd.apple.mpegurl" }, j = { mp4: b.mp4, f4v: b.mp4, m4v: b.mp4, mov: b.mp4, m4a: b.aac, f4a: b.aac, aac: b.aac, mp3: b.mp3, ogv: b.ogg, ogg: b.ogg, oga: b.vorbis, vorbis: b.vorbis, webm: b.webm, m3u8: b.hls, m3u: b.hls, hls: b.hls }, c = f.extensionmap = {}; l(j, function (e, a) { c[e] = { html5: a } }); l({ flv: "video", f4v: "video", mov: "video", m4a: "video", m4v: "video", mp4: "video", aac: "video", f4a: "video", mp3: "sound", smil: "rtmp", m3u8: "hls", hls: "hls" }, function (e, a) { c[e] || (c[e] = {}); c[e].flash = a }); c.types = b; c.mimeType = function (e) { var a; d.find(b, function (g, h) { if (g === e) { return a = h, !0 } }); return a }; c.extType = function (a) { return c.mimeType(j[a]) } }(jwplayer.utils), function (d) { var c = d.loaderstatus = { NEW: 0, LOADING: 1, ERROR: 2, COMPLETE: 3 }; d.scriptloader = function (k) { function l(e) { j = c.ERROR; b.sendEvent(a.ERROR, e) } function g(e) { j = c.COMPLETE; b.sendEvent(a.COMPLETE, e) } var a = jwplayer.events, b = d.extend(this, new a.eventdispatcher), j = c.NEW; this.load = function () { if (j === c.NEW) { var i = d.scriptloader.loaders[k]; if (i && (j = i.getStatus(), 2 > j)) { i.addEventListener(a.ERROR, l); i.addEventListener(a.COMPLETE, g); return } var e = document.getElementsByTagName("head")[0] || document.documentElement, h = document.createElement("script"), f = !1; h.onload = h.onreadystatechange = function (m) { if (!f && (!this.readyState || "loaded" === this.readyState || "complete" === this.readyState)) { f = !0, g(m), h.onload = h.onreadystatechange = null, e && h.parentNode && e.removeChild(h) } }; h.onerror = l; h.src = k; e.insertBefore(h, e.firstChild); j = c.LOADING; d.scriptloader.loaders[k] = this } }; this.getStatus = function () { return j } }; d.scriptloader.loaders = {} }(jwplayer.utils), function (b) { b.trim = function (a) { return a.replace(/^\s+|\s+$/g, "") }; b.pad = function (a, d, f) { for (f || (f = "0") ; a.length < d;) { a = f + a } return a }; b.xmlAttribute = function (a, d) { for (var f = 0; f < a.attributes.length; f++) { if (a.attributes[f].name && a.attributes[f].name.toLowerCase() === d.toLowerCase()) { return a.attributes[f].value.toString() } } return "" }; b.extension = function (d) { if (!d || "rtmp" === d.substr(0, 4)) { return "" } var a; a = -1 < d.indexOf("(format\x3dm3u8-") ? "m3u8" : !1; if (a) { return a } d = d.substring(d.lastIndexOf("/") + 1, d.length).split("?")[0].split("#")[0]; if (-1 < d.lastIndexOf(".")) { return d.substr(d.lastIndexOf(".") + 1, d.length).toLowerCase() } }; b.stringToColor = function (a) { a = a.replace(/(#|0x)?([0-9A-F]{3,6})$/gi, "$2"); 3 === a.length && (a = a.charAt(0) + a.charAt(0) + a.charAt(1) + a.charAt(1) + a.charAt(2) + a.charAt(2)); return parseInt(a, 16) } }(jwplayer.utils), function (d) { var f = "touchmove", e = "touchstart"; d.touch = function (v) { function h(i) { i.type === e ? (r = !0, q = c(g.DRAG_START, i)) : i.type === f ? r && (k || (a(g.DRAG_START, i, q), k = !0), a(g.DRAG, i)) : (r && (k ? a(g.DRAG_END, i) : (i.cancelBubble = !0, a(g.TAP, i))), r = k = !1, q = null) } function a(l, i, m) { if (b[l] && (i.preventManipulation && i.preventManipulation(), i.preventDefault && i.preventDefault(), i = m ? m : c(l, i))) { b[l](i) } } function c(m, i) { var n = null; i.touches && i.touches.length ? n = i.touches[0] : i.changedTouches && i.changedTouches.length && (n = i.changedTouches[0]); if (!n) { return null } var l = j.getBoundingClientRect(), n = { type: m, target: j, x: n.pageX - window.pageXOffset - l.left, y: n.pageY, deltaX: 0, deltaY: 0 }; m !== g.TAP && q && (n.deltaX = n.x - q.x, n.deltaY = n.y - q.y); return n } var j = v, r = !1, b = {}, q = null, k = !1, g = d.touchEvents; document.addEventListener(f, h); document.addEventListener("touchend", function (i) { r && k && a(g.DRAG_END, i); r = k = !1; q = null }); document.addEventListener("touchcancel", h); v.addEventListener(e, h); v.addEventListener("touchend", h); this.addEventListener = function (l, i) { b[l] = i }; this.removeEventListener = function (i) { delete b[i] }; return this } }(jwplayer.utils), function (b) { b.touchEvents = { DRAG: "jwplayerDrag", DRAG_START: "jwplayerDragStart", DRAG_END: "jwplayerDragEnd", TAP: "jwplayerTap" } }(jwplayer.utils), function (b) { b.key = function (c) { var j, l, g; this.edition = function () { return g && g.getTime() < (new Date).getTime() ? "invalid" : j }; this.token = function () { return l }; b.exists(c) || (c = ""); try { c = b.tea.decrypt(c, "36QXq4W@GSBV^teR"); var a = c.split("/"); (j = a[0]) ? /^(free|pro|premium|enterprise|ads)$/i.test(j) ? (l = a[1], a[2] && 0 < parseInt(a[2]) && (g = new Date, g.setTime(String(a[2])))) : j = "invalid" : j = "free" } catch (d) { j = "invalid" } } }(jwplayer.utils), function (f) { var d = f.tea = {}; d.encrypt = function (e, q) { if (0 == e.length) { return "" } var a = d.strToLongs(b.encode(e)); 1 >= a.length && (a[1] = 0); for (var g = d.strToLongs(b.encode(q).slice(0, 16)), p = a.length, x = a[p - 1], y = a[0], m, c = Math.floor(6 + 52 / p), k = 0; 0 < c--;) { k += 2654435769; m = k >>> 2 & 3; for (var j = 0; j < p; j++) { y = a[(j + 1) % p], x = (x >>> 5 ^ y << 2) + (y >>> 3 ^ x << 4) ^ (k ^ y) + (g[j & 3 ^ m] ^ x), x = a[j] += x } } a = d.longsToStr(a); return h.encode(a) }; d.decrypt = function (j, w) { if (0 == j.length) { return "" } for (var e = d.strToLongs(h.decode(j)), k = d.strToLongs(b.encode(w).slice(0, 16)), v = e.length, a = e[v - 1], c = e[0], q, g = 2654435769 * Math.floor(6 + 52 / v) ; 0 != g;) { q = g >>> 2 & 3; for (var p = v - 1; 0 <= p; p--) { a = e[0 < p ? p - 1 : v - 1], a = (a >>> 5 ^ c << 2) + (c >>> 3 ^ a << 4) ^ (g ^ c) + (k[p & 3 ^ q] ^ a), c = e[p] -= a } g -= 2654435769 } e = d.longsToStr(e); e = e.replace(/\0+$/, ""); return b.decode(e) }; d.strToLongs = function (e) { for (var a = Array(Math.ceil(e.length / 4)), c = 0; c < a.length; c++) { a[c] = e.charCodeAt(4 * c) + (e.charCodeAt(4 * c + 1) << 8) + (e.charCodeAt(4 * c + 2) << 16) + (e.charCodeAt(4 * c + 3) << 24) } return a }; d.longsToStr = function (e) { for (var a = Array(e.length), c = 0; c < e.length; c++) { a[c] = String.fromCharCode(e[c] & 255, e[c] >>> 8 & 255, e[c] >>> 16 & 255, e[c] >>> 24 & 255) } return a.join("") }; var h = { code: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d", encode: function (y, x) { var c, g, q, z, a = [], p = "", e, m, k = h.code; m = ("undefined" == typeof x ? 0 : x) ? b.encode(y) : y; e = m.length % 3; if (0 < e) { for (; 3 > e++;) { p += "\x3d", m += "\x00" } } for (e = 0; e < m.length; e += 3) { c = m.charCodeAt(e), g = m.charCodeAt(e + 1), q = m.charCodeAt(e + 2), z = c << 16 | g << 8 | q, c = z >> 18 & 63, g = z >> 12 & 63, q = z >> 6 & 63, z &= 63, a[e / 3] = k.charAt(c) + k.charAt(g) + k.charAt(q) + k.charAt(z) } a = a.join(""); return a = a.slice(0, a.length - p.length) + p }, decode: function (y, x) { x = "undefined" == typeof x ? !1 : x; var c, g, q, z, a, p = [], e, m = h.code; e = x ? b.decode(y) : y; for (var k = 0; k < e.length; k += 4) { c = m.indexOf(e.charAt(k)), g = m.indexOf(e.charAt(k + 1)), z = m.indexOf(e.charAt(k + 2)), a = m.indexOf(e.charAt(k + 3)), q = c << 18 | g << 12 | z << 6 | a, c = q >>> 16 & 255, g = q >>> 8 & 255, q &= 255, p[k / 4] = String.fromCharCode(c, g, q), 64 == a && (p[k / 4] = String.fromCharCode(c, g)), 64 == z && (p[k / 4] = String.fromCharCode(c)) } z = p.join(""); return x ? b.decode(z) : z } }, b = { encode: function (a) { a = a.replace(/[\u0080-\u07ff]/g, function (c) { c = c.charCodeAt(0); return String.fromCharCode(192 | c >> 6, 128 | c & 63) }); return a = a.replace(/[\u0800-\uffff]/g, function (c) { c = c.charCodeAt(0); return String.fromCharCode(224 | c >> 12, 128 | c >> 6 & 63, 128 | c & 63) }) }, decode: function (a) { a = a.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g, function (c) { c = (c.charCodeAt(0) & 15) << 12 | (c.charCodeAt(1) & 63) << 6 | c.charCodeAt(2) & 63; return String.fromCharCode(c) }); return a = a.replace(/[\u00c0-\u00df][\u0080-\u00bf]/g, function (c) { c = (c.charCodeAt(0) & 31) << 6 | c.charCodeAt(1) & 63; return String.fromCharCode(c) }) } } }(jwplayer.utils), function (b) { b.events = { COMPLETE: "COMPLETE", ERROR: "ERROR", API_READY: "jwplayerAPIReady", JWPLAYER_READY: "jwplayerReady", JWPLAYER_FULLSCREEN: "jwplayerFullscreen", JWPLAYER_RESIZE: "jwplayerResize", JWPLAYER_ERROR: "jwplayerError", JWPLAYER_SETUP_ERROR: "jwplayerSetupError", JWPLAYER_MEDIA_BEFOREPLAY: "jwplayerMediaBeforePlay", JWPLAYER_MEDIA_BEFORECOMPLETE: "jwplayerMediaBeforeComplete", JWPLAYER_MEDIA_BUFFER: "jwplayerMediaBuffer", JWPLAYER_MEDIA_BUFFER_FULL: "jwplayerMediaBufferFull", JWPLAYER_MEDIA_ERROR: "jwplayerMediaError", JWPLAYER_MEDIA_LOADED: "jwplayerMediaLoaded", JWPLAYER_MEDIA_COMPLETE: "jwplayerMediaComplete", JWPLAYER_MEDIA_SEEK: "jwplayerMediaSeek", JWPLAYER_MEDIA_TIME: "jwplayerMediaTime", JWPLAYER_MEDIA_VOLUME: "jwplayerMediaVolume", JWPLAYER_MEDIA_META: "jwplayerMediaMeta", JWPLAYER_MEDIA_MUTE: "jwplayerMediaMute", JWPLAYER_AUDIO_TRACKS: "jwplayerAudioTracks", JWPLAYER_AUDIO_TRACK_CHANGED: "jwplayerAudioTrackChanged", JWPLAYER_MEDIA_LEVELS: "jwplayerMediaLevels", JWPLAYER_MEDIA_LEVEL_CHANGED: "jwplayerMediaLevelChanged", JWPLAYER_CAPTIONS_CHANGED: "jwplayerCaptionsChanged", JWPLAYER_CAPTIONS_LIST: "jwplayerCaptionsList", JWPLAYER_CAPTIONS_LOADED: "jwplayerCaptionsLoaded", JWPLAYER_PLAYER_STATE: "jwplayerPlayerState", state: { BUFFERING: "BUFFERING", IDLE: "IDLE", PAUSED: "PAUSED", PLAYING: "PLAYING" }, JWPLAYER_PLAYLIST_LOADED: "jwplayerPlaylistLoaded", JWPLAYER_PLAYLIST_ITEM: "jwplayerPlaylistItem", JWPLAYER_PLAYLIST_COMPLETE: "jwplayerPlaylistComplete", JWPLAYER_DISPLAY_CLICK: "jwplayerViewClick", JWPLAYER_PROVIDER_CLICK: "jwplayerProviderClick", JWPLAYER_VIEW_TAB_FOCUS: "jwplayerViewTabFocus", JWPLAYER_CONTROLS: "jwplayerViewControls", JWPLAYER_USER_ACTION: "jwplayerUserAction", JWPLAYER_INSTREAM_CLICK: "jwplayerInstreamClicked", JWPLAYER_INSTREAM_DESTROYED: "jwplayerInstreamDestroyed", JWPLAYER_AD_TIME: "jwplayerAdTime", JWPLAYER_AD_ERROR: "jwplayerAdError", JWPLAYER_AD_CLICK: "jwplayerAdClicked", JWPLAYER_AD_COMPLETE: "jwplayerAdComplete", JWPLAYER_AD_IMPRESSION: "jwplayerAdImpression", JWPLAYER_AD_COMPANIONS: "jwplayerAdCompanions", JWPLAYER_AD_SKIPPED: "jwplayerAdSkipped", JWPLAYER_AD_PLAY: "jwplayerAdPlay", JWPLAYER_AD_PAUSE: "jwplayerAdPause", JWPLAYER_AD_META: "jwplayerAdMeta", JWPLAYER_CAST_AVAILABLE: "jwplayerCastAvailable", JWPLAYER_CAST_SESSION: "jwplayerCastSession", JWPLAYER_CAST_AD_CHANGED: "jwplayerCastAdChanged" } }(jwplayer), function (d) { var c = d.utils; d.events.eventdispatcher = function (j, k) { function g(p, h, i) { if (p) { for (var e = 0; e < p.length; e++) { var q = p[e]; if (q) { null !== q.count && 0 === --q.count && delete p[e]; try { q.listener(h) } catch (f) { c.log('Error handling "' + i + '" event listener [' + e + "]: " + f.toString(), q.listener, h) } } } } } var a, b; this.resetEventListeners = function () { a = {}; b = [] }; this.resetEventListeners(); this.addEventListener = function (i, h, e) { try { c.exists(a[i]) || (a[i] = []), "string" === c.typeOf(h) && (h = (new Function("return " + h))()), a[i].push({ listener: h, count: e || null }) } catch (f) { c.log("error", f) } return !1 }; this.removeEventListener = function (i, h) { var e; if (a[i]) { try { if (void 0 === h) { a[i] = []; return } for (e = 0; e < a[i].length; e++) { if (a[i][e].listener.toString() === h.toString()) { a[i].splice(e, 1); break } } } catch (f) { c.log("error", f) } return !1 } }; this.addGlobalListener = function (h, f) { try { "string" === c.typeOf(h) && (h = (new Function("return " + h))()), b.push({ listener: h, count: f || null }) } catch (e) { c.log("error", e) } return !1 }; this.removeGlobalListener = function (h) { if (h) { try { for (var f = b.length; f--;) { b[f].listener.toString() === h.toString() && b.splice(f, 1) } } catch (e) { c.log("error", e) } return !1 } }; this.sendEvent = function (e, f) { c.exists(f) || (f = {}); c.extend(f, { id: j, version: d.version, type: e }); k && c.log(e, f); g(a[e], f, e); g(b, f, e) } } }(window.jwplayer), function (d) { var f = {}, e = {}; d.plugins = function () { }; d.plugins.loadPlugins = function (b, a) { e[b] = new d.plugins.pluginloader(new d.plugins.model(f), a); return e[b] }; d.plugins.registerPlugin = function (j, c, a, b) { var g = d.utils.getPluginName(j); f[g] || (f[g] = new d.plugins.plugin(j)); f[g].registerPlugin(j, c, a, b) } }(jwplayer), function (b) { b.plugins.model = function (a) { this.addPlugin = function (e) { var f = b.utils.getPluginName(e); a[f] || (a[f] = new b.plugins.plugin(e)); return a[f] }; this.getPlugins = function () { return a } } }(jwplayer), function (d) { var f = jwplayer.utils, e = jwplayer.events; d.pluginmodes = { FLASH: 0, JAVASCRIPT: 1, HYBRID: 2 }; d.plugin = function (v) { function h() { switch (f.getPluginPathType(v)) { case f.pluginPathType.ABSOLUTE: return v; case f.pluginPathType.RELATIVE: return f.getAbsolutePath(v, window.location.href) } } function a() { k = setTimeout(function () { j = f.loaderstatus.COMPLETE; g.sendEvent(e.COMPLETE) }, 1000) } function c() { j = f.loaderstatus.ERROR; g.sendEvent(e.ERROR, { url: v }) } var j = f.loaderstatus.NEW, r, b, q, k, g = new e.eventdispatcher; f.extend(this, g); this.load = function () { if (j === f.loaderstatus.NEW) { if (0 < v.lastIndexOf(".swf")) { r = v, j = f.loaderstatus.COMPLETE, g.sendEvent(e.COMPLETE) } else { if (f.getPluginPathType(v) === f.pluginPathType.CDN) { j = f.loaderstatus.COMPLETE, g.sendEvent(e.COMPLETE) } else { j = f.loaderstatus.LOADING; var i = new f.scriptloader(h()); i.addEventListener(e.COMPLETE, a); i.addEventListener(e.ERROR, c); i.load() } } } }; this.registerPlugin = function (n, i, m, l) { k && (clearTimeout(k), k = void 0); q = i; m && l ? (r = l, b = m) : "string" === typeof m ? r = m : "function" === typeof m ? b = m : !m && !l && (r = n); j = f.loaderstatus.COMPLETE; g.sendEvent(e.COMPLETE) }; this.getStatus = function () { return j }; this.getPluginName = function () { return f.getPluginName(v) }; this.getFlashPath = function () { if (r) { switch (f.getPluginPathType(r)) { case f.pluginPathType.ABSOLUTE: return r; case f.pluginPathType.RELATIVE: return 0 < v.lastIndexOf(".swf") ? f.getAbsolutePath(r, window.location.href) : f.getAbsolutePath(r, h()) } } return null }; this.getJS = function () { return b }; this.getTarget = function () { return q }; this.getPluginmode = function () { if ("undefined" !== typeof r && "undefined" !== typeof b) { return d.pluginmodes.HYBRID } if ("undefined" !== typeof r) { return d.pluginmodes.FLASH } if ("undefined" !== typeof b) { return d.pluginmodes.JAVASCRIPT } }; this.getNewInstance = function (l, m, i) { return new b(l, m, i) }; this.getURL = function () { return v } } }(jwplayer.plugins), function (f) { var d = f.utils, j = f.events, b = f._, i = d.foreach; f.plugins.pluginloader = function (z, e) { function c() { p || (p = !0, r = d.loaderstatus.COMPLETE, q.sendEvent(j.COMPLETE)) } function w() { if (!u && ((!g || 0 === b.keys(g).length) && c(), !p)) { var k = z.getPlugins(); h = b.after(m, c); d.foreach(g, function (l) { l = d.getPluginName(l); var n = k[l]; l = n.getJS(); var o = n.getTarget(), n = n.getStatus(); n === d.loaderstatus.LOADING || n === d.loaderstatus.NEW || (l && !d.versionCheck(o) && q.sendEvent(j.ERROR, { message: "Incompatible player version" }), h()) }) } } function a(k) { u || (q.sendEvent(j.ERROR, { message: "File not found" }), k.url && d.log("File not found", k.url), w()) } var r = d.loaderstatus.NEW, p = !1, g = e, m = b.size(g), h, u = !1, q = new j.eventdispatcher; d.extend(this, q); this.setupPlugins = function (v, k, x) { var n = { length: 0, plugins: {} }, l = 0, o = {}, t = z.getPlugins(); i(k.plugins, function (O, P) { var J = d.getPluginName(O), y = t[J], L = y.getFlashPath(), I = y.getJS(), M = y.getURL(); L && (n.plugins[L] = d.extend({}, P), n.plugins[L].pluginmode = y.getPluginmode(), n.length++); try { if (I && k.plugins && k.plugins[M]) { var K = document.createElement("div"); K.id = v.id + "_" + J; K.style.position = "absolute"; K.style.top = 0; K.style.zIndex = l + 10; o[J] = y.getNewInstance(v, d.extend({}, k.plugins[M]), K); l++; v.onReady(x(o[J], K, !0)); v.onResize(x(o[J], K)) } } catch (N) { d.log("ERROR: Failed to load " + J + ".") } }); v.plugins = o; return n }; this.load = function () { if (!(d.exists(e) && "object" !== d.typeOf(e))) { r = d.loaderstatus.LOADING; i(e, function (l) { d.exists(l) && (l = z.addPlugin(l), l.addEventListener(j.COMPLETE, w), l.addEventListener(j.ERROR, a)) }); var k = z.getPlugins(); i(k, function (n, l) { l.load() }) } w() }; this.destroy = function () { u = !0; q && (q.resetEventListeners(), q = null) }; this.pluginFailed = a; this.getStatus = function () { return r } } }(jwplayer), function (b) { b.parsers = { localName: function (a) { return a ? a.localName ? a.localName : a.baseName ? a.baseName : "" : "" }, textContent: function (a) { return a ? a.textContent ? b.utils.trim(a.textContent) : a.text ? b.utils.trim(a.text) : "" : "" }, getChildNode: function (d, a) { return d.childNodes[a] }, numChildren: function (a) { return a.childNodes ? a.childNodes.length : 0 } } }(jwplayer), function (d) { var c = d.parsers; (c.jwparser = function () { }).parseEntry = function (e, l) { for (var a = [], j = [], q = d.utils.xmlAttribute, b = 0; b < e.childNodes.length; b++) { var g = e.childNodes[b]; if ("jwplayer" === g.prefix) { var k = c.localName(g); "source" === k ? (delete l.sources, a.push({ file: q(g, "file"), "default": q(g, "default"), label: q(g, "label"), type: q(g, "type") })) : "track" === k ? (delete l.tracks, j.push({ file: q(g, "file"), "default": q(g, "default"), kind: q(g, "kind"), label: q(g, "label") })) : (l[k] = d.utils.serialize(c.textContent(g)), "file" === k && l.sources && delete l.sources) } l.file || (l.file = l.link) } if (a.length) { l.sources = []; for (b = 0; b < a.length; b++) { 0 < a[b].file.length && (a[b]["default"] = "true" === a[b]["default"] ? !0 : !1, a[b].label.length || delete a[b].label, l.sources.push(a[b])) } } if (j.length) { l.tracks = []; for (b = 0; b < j.length; b++) { 0 < j[b].file.length && (j[b]["default"] = "true" === j[b]["default"] ? !0 : !1, j[b].kind = !j[b].kind.length ? "captions" : j[b].kind, j[b].label.length || delete j[b].label, l.tracks.push(j[b])) } } return l } }(jwplayer), function (d) { var b = jwplayer.utils, j = b.xmlAttribute, c = d.localName, g = d.textContent, l = d.numChildren, f = d.mediaparser = function () { }; f.parseGroup = function (e, p) { var i, k, h = []; for (k = 0; k < l(e) ; k++) { if (i = e.childNodes[k], "media" === i.prefix && c(i)) { switch (c(i).toLowerCase()) { case "content": j(i, "duration") && (p.duration = b.seconds(j(i, "duration"))); 0 < l(i) && (p = f.parseGroup(i, p)); j(i, "url") && (p.sources || (p.sources = []), p.sources.push({ file: j(i, "url"), type: j(i, "type"), width: j(i, "width"), label: j(i, "label") })); break; case "title": p.title = g(i); break; case "description": p.description = g(i); break; case "guid": p.mediaid = g(i); break; case "thumbnail": p.image || (p.image = j(i, "url")); break; case "group": f.parseGroup(i, p); break; case "subtitle": var n = {}; n.file = j(i, "url"); n.kind = "captions"; if (0 < j(i, "lang").length) { var m = n; i = j(i, "lang"); var a = { zh: "Chinese", nl: "Dutch", en: "English", fr: "French", de: "German", it: "Italian", ja: "Japanese", pt: "Portuguese", ru: "Russian", es: "Spanish" }; i = a[i] ? a[i] : i; m.label = i } h.push(n) } } } p.hasOwnProperty("tracks") || (p.tracks = []); for (k = 0; k < h.length; k++) { p.tracks.push(h[k]) } return p } }(jwplayer.parsers), function (d) { function b(k) { for (var a = {}, h = 0; h < k.childNodes.length; h++) { var e = k.childNodes[h], i = f(e); if (i) { switch (i.toLowerCase()) { case "enclosure": a.file = j.xmlAttribute(e, "url"); break; case "title": a.title = c(e); break; case "guid": a.mediaid = c(e); break; case "pubdate": a.date = c(e); break; case "description": a.description = c(e); break; case "link": a.link = c(e); break; case "category": a.tags = a.tags ? a.tags + c(e) : c(e) } } } a = d.mediaparser.parseGroup(k, a); a = d.jwparser.parseEntry(k, a); return new jwplayer.playlist.item(a) } var j = jwplayer.utils, c = d.textContent, g = d.getChildNode, l = d.numChildren, f = d.localName; d.rssparser = {}; d.rssparser.parse = function (m) { for (var e = [], h = 0; h < l(m) ; h++) { var k = g(m, h); if ("channel" === f(k).toLowerCase()) { for (var i = 0; i < l(k) ; i++) { var a = g(k, i); "item" === f(a).toLowerCase() && e.push(b(a)) } } } return e } }(jwplayer.parsers), function (f) { var d = f.utils, h = f._; f.playlist = function (c) { var a = []; c = h.isArray(c) ? c : [c]; h.each(c, function (e) { a.push(new f.playlist.item(e)) }); return a }; f.playlist.filterPlaylist = function (e, c) { var a = []; h.each(e, function (g) { g = d.extend({}, g); g.sources = b(g.sources, !1, c); if (g.sources.length) { for (var k = 0; k < g.sources.length; k++) { g.sources[k].label = g.sources[k].label || k.toString() } a.push(g) } }); return a }; var b = f.playlist.filterSources = function (m, a, e) { var g, k = [], c = a ? f.embed.flashCanPlay : f.embed.html5CanPlay; if (m) { return h.each(m, function (j) { if (!j || !j.file) { j = void 0 } else { var l = d.trim("" + j.file), i = j.type; i || (i = d.extension(l), i = d.extensionmap.extType(i)); j = d.extend({}, j, { file: l, type: i }) } j && c(j.file, j.type, e) && (g = g || j.type, j.type === g && k.push(j)) }), k } } }(jwplayer), function (d) { var c = d.item = function (j) { var k = jwplayer.utils, g = k.extend({}, c.defaults, j), a, b; g.tracks = j && k.exists(j.tracks) ? j.tracks : []; 0 === g.sources.length && (g.sources = [new d.source(g)]); for (a = 0; a < g.sources.length; a++) { b = g.sources[a]["default"], g.sources[a]["default"] = b ? "true" === b.toString() : !1, g.sources[a] = new d.source(g.sources[a]) } if (g.captions && !k.exists(j.tracks)) { for (j = 0; j < g.captions.length; j++) { g.tracks.push(g.captions[j]) } delete g.captions } for (a = 0; a < g.tracks.length; a++) { g.tracks[a] = new d.track(g.tracks[a]) } return g }; c.defaults = { description: void 0, image: void 0, mediaid: void 0, title: void 0, sources: [], tracks: [] } }(jwplayer.playlist), function (f) { var d = f.utils, h = f.events, b = f.parsers; f.playlist.loader = function () { function g(q) { try { var r = q.responseXML.childNodes; q = ""; for (var j = 0; j < r.length && !(q = r[j], 8 !== q.nodeType) ; j++) { } "xml" === b.localName(q) && (q = q.nextSibling); if ("rss" !== b.localName(q)) { e("Not a valid RSS feed") } else { var p = new f.playlist(b.rssparser.parse(q)); a.sendEvent(h.JWPLAYER_PLAYLIST_LOADED, { playlist: p }) } } catch (o) { e() } } function c(j) { e(j.match(/invalid/i) ? "Not a valid RSS feed" : "") } function e(j) { a.sendEvent(h.JWPLAYER_ERROR, { message: j ? j : "Error loading file" }) } var a = new h.eventdispatcher; d.extend(this, a); this.load = function (j) { d.ajax(j, g, c) } } }(jwplayer), function (d) { var f = jwplayer.utils, e = { file: void 0, label: void 0, type: void 0, "default": void 0 }; d.source = function (b) { var a = f.extend({}, e); f.foreach(e, function (c) { f.exists(b[c]) && (a[c] = b[c], delete b[c]) }); a.type && 0 < a.type.indexOf("/") && (a.type = f.extensionmap.mimeType(a.type)); "m3u8" === a.type && (a.type = "hls"); "smil" === a.type && (a.type = "rtmp"); return a } }(jwplayer.playlist), function (d) { var f = jwplayer.utils, e = { file: void 0, label: void 0, kind: "captions", "default": !1 }; d.track = function (b) { var a = f.extend({}, e); b || (b = {}); f.foreach(e, function (c) { f.exists(b[c]) && (a[c] = b[c], delete b[c]) }); return a } }(jwplayer.playlist), function (f) { function d(h, a, g) { var e = h.style; e.backgroundColor = "#000"; e.color = "#FFF"; e.width = l.styleDimension(g.width); e.height = l.styleDimension(g.height); e.display = "table"; e.opacity = 1; g = document.createElement("p"); e = g.style; e.verticalAlign = "middle"; e.textAlign = "center"; e.display = "table-cell"; e.font = "15px/20px Arial, Helvetica, sans-serif"; g.innerHTML = a.replace(":", ":\x3cbr\x3e"); h.innerHTML = ""; h.appendChild(g) } var l = f.utils, b = f.events, j = f._, c = f.embed = function (g) { function i() { if (!E) { var A = n.playlist; if (j.isArray(A)) { if (0 === A.length) { r(); return } if (1 === A.length && (!A[0].sources || 0 === A[0].sources.length || !A[0].sources[0].file)) { r(); return } } if (!z) { if (j.isString(A)) { x = new f.playlist.loader, x.addEventListener(b.JWPLAYER_PLAYLIST_LOADED, function (F) { n.playlist = F.playlist; z = !1; i() }), x.addEventListener(b.JWPLAYER_ERROR, function (F) { z = !1; r(F) }), z = !0, x.load(n.playlist) } else { if (m.getStatus() === l.loaderstatus.COMPLETE) { for (A = 0; A < n.modes.length; A++) { var o = n.modes[A], C = o.type; if (C && c[C]) { var D = l.extend({}, n); q = new c[C](w, o, D, m, g); if (q.supportsConfig()) { return q.addEventListener(b.ERROR, a), q.embed(), l.css("object.jwswf, .jwplayer:focus", { outline: "none" }), l.css(".jw-tab-focus:focus", { outline: "solid 2px #0B7EF4" }), g } } } n.fallback ? (A = "No suitable players found and fallback enabled", p(A, !0), l.log(A), new c.download(w, n, r)) : (A = "No suitable players found and fallback disabled", p(A, !1), l.log(A)) } } } } } function a(o) { h(v + o.message) } function e(o) { g.dispatchEvent(b.JWPLAYER_ERROR, { message: "Could not load plugin: " + o.message }) } function r(o) { o && o.message ? h("Error loading playlist: " + o.message) : h(v + "No playable sources found") } function p(o, A) { clearTimeout(B); B = setTimeout(function () { g.dispatchEvent(b.JWPLAYER_SETUP_ERROR, { message: o, fallback: A }) }, 0) } function h(o) { E || (t.parentNode.replaceChild(w, t), n.fallback ? (E = !0, d(w, o, n), p(o, !0)) : p(o, !1)) } var n = new c.config(g.config), k = n.width, y = n.height, v = "Error loading player: ", t = document.getElementById(g.id), m = f.plugins.loadPlugins(g.id, n.plugins), x, z = !1, E = !1, q = null, B = -1; n.id = g.id; n.aspectratio ? g.config.aspectratio = n.aspectratio : delete g.config.aspectratio; var u = g; l.foreach(n.events, function (C, o) { var A = u[C]; "function" === typeof A && A.call(u, o) }); var w = document.createElement("div"); w.id = t.id; w.style.width = 0 < k.toString().indexOf("%") ? k : k + "px"; w.style.height = 0 < y.toString().indexOf("%") ? y : y + "px"; this.embed = function () { E || (m.addEventListener(b.COMPLETE, i), m.addEventListener(b.ERROR, e), m.load()) }; this.destroy = function () { q && (q.destroy(), q = null); m && (m.destroy(), m = null); x && (x.resetEventListeners(), x = null) }; this.errorScreen = h; return this }; f.embed.errorScreen = d }(jwplayer), function (f) { function d(c) { if (c.playlist) { for (var e = 0; e < c.playlist.length; e++) { c.playlist[e] = new i(c.playlist[e]) } } else { var a = {}; b.foreach(i.defaults, function (g) { j(c, a, g) }); a.sources || (c.levels ? (a.sources = c.levels, delete c.levels) : (e = {}, j(c, e, "file"), j(c, e, "type"), a.sources = e.file ? [e] : [])); c.playlist = [new i(a)] } } function j(c, e, a) { b.exists(c[a]) && (e[a] = c[a], delete c[a]) } var b = f.utils, i = f.playlist.item; (f.embed.config = function (c) { var e = { fallback: !0, height: 270, primary: "html5", width: 480, base: c.base ? c.base : b.getScriptPath("jwplayer.js"), aspectratio: "" }; c = b.extend({}, e, f.defaults, c); var e = { type: "html5", src: c.base + "jwplayer.html5.js" }, g = { type: "flash", src: c.base + "jwplayer.flash.swf" }; c.modes = "flash" === c.primary ? [g, e] : [e, g]; c.listbar && (c.playlistsize = c.listbar.size, c.playlistposition = c.listbar.position, c.playlistlayout = c.listbar.layout); c.flashplayer && (g.src = c.flashplayer); c.html5player && (e.src = c.html5player); d(c); g = c.aspectratio; if ("string" !== typeof g || !b.exists(g)) { e = 0 } else { var a = g.indexOf(":"); -1 === a ? e = 0 : (e = parseFloat(g.substr(0, a)), g = parseFloat(g.substr(a + 1)), e = 0 >= e || 0 >= g ? 0 : 100 * (g / e) + "%") } -1 === c.width.toString().indexOf("%") ? delete c.aspectratio : e ? c.aspectratio = e : delete c.aspectratio; return c }).addConfig = function (c, a) { d(a); return b.extend(c, a) } }(jwplayer), function (d) { function f(l, b) { function a(g, h) { c[k].style[g] = h } for (var c = document.querySelectorAll(l), k = 0; k < c.length; k++) { e.foreach(b, a) } } var e = d.utils; d.embed.download = function (h, w, t) { function F(j, l, i) { j = document.createElement(j); l && (j.className = "jwdownload" + l); i && i.appendChild(j); return j } var k = e.extend({}, w), c, u = k.width ? k.width : 480, r = k.height ? k.height : 320, q; w = w.logo ? w.logo : { prefix: e.repo(), file: "logo.png", margin: 10 }; var g, p, m, b, a, G; p = k.playlist; k = ["mp4", "aac", "mp3"]; if (p && p.length) { m = p[0]; b = m.sources; for (p = 0; p < b.length; p++) { a = b[p], a.file && (G = a.type || e.extensionmap.extType(e.extension(a.file)), 0 <= e.indexOf(k, G) ? (c = a.file, q = m.image) : e.isYouTube(a.file, G) && (g = a.file)) } c ? (t = c, h && (c = F("a", "display", h), F("div", "icon", c), F("div", "logo", c), t && c.setAttribute("href", e.getAbsolutePath(t))), t = "#" + h.id + " .jwdownload", h.style.width = "", h.style.height = "", f(t + "display", { width: e.styleDimension(Math.max(320, u)), height: e.styleDimension(Math.max(180, r)), background: "black center no-repeat " + (q ? "url(" + q + ")" : ""), backgroundSize: "contain", position: "relative", border: "none", display: "block" }), f(t + "display div", { position: "absolute", width: "100%", height: "100%" }), f(t + "logo", { top: w.margin + "px", right: w.margin + "px", background: "top right no-repeat url(" + w.prefix + w.file + ")" }), f(t + "icon", { background: "center no-repeat url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAgNJREFUeNrs28lqwkAYB/CZqNVDDj2r6FN41QeIy8Fe+gj6BL275Q08u9FbT8ZdwVfotSBYEPUkxFOoks4EKiJdaDuTjMn3wWBO0V/+sySR8SNSqVRKIR8qaXHkzlqS9jCfzzWcTCYp9hF5o+59sVjsiRzcegSckFzcjT+ruN80TeSlAjCAAXzdJSGPFXRpAAMYwACGZQkSdhG4WCzehMNhqV6vG6vVSrirKVEw66YoSqDb7cqlUilE8JjHd/y1MQefVzqdDmiaJpfLZWHgXMHn8F6vJ1cqlVAkEsGuAn83J4gAd2RZymQygX6/L1erVQt+9ZPWb+CDwcCC2zXGJaewl/DhcHhK3DVj+KfKZrMWvFarcYNLomAv4aPRSFZVlTlcSPA5fDweW/BoNIqFnKV53JvncjkLns/n/cLdS+92O7RYLLgsKfv9/t8XlDn4eDyiw+HA9Jyz2eyt0+kY2+3WFC5hluej0Ha7zQQq9PPwdDq1Et1sNsx/nFBgCqWJ8oAK1aUptNVqcYWewE4nahfU0YQnk4ntUEfGMIU2m01HoLaCKbTRaDgKtaVLk9tBYaBcE/6Artdr4RZ5TB6/dC+9iIe/WgAMYADDpAUJAxjAAAYwgGFZgoS/AtNNTF7Z2bL0BYPBV3Jw5xFwwWcYxgtBP5OkE8i9G7aWGOOCruvauwADALMLMEbKf4SdAAAAAElFTkSuQmCC)" })) : g ? (w = g, h = F("iframe", "", h), h.src = "http://www.youtube.com/embed/" + e.youTubeID(w), h.width = u, h.height = r, h.style.border = "none") : t() } } }(jwplayer), function (f) { var d = f.utils, j = f.events, b = {}; (f.embed.flash = function (r, c, g, q, a) { function p(l, n, o) { var t = document.createElement("param"); t.setAttribute("name", n); t.setAttribute("value", o); l.appendChild(t) } function m(l, n, o) { return function () { try { o && document.getElementById(a.id + "_wrapper").appendChild(n); var t = document.getElementById(a.id).getPluginConfig("display"); "function" === typeof l.resize && l.resize(t.width, t.height); n.style.left = t.x; n.style.top = t.h } catch (u) { } } } function e(l) { if (!l) { return {} } var n = {}, o = []; d.foreach(l, function (w, t) { var u = d.getPluginName(w); o.push(w); d.foreach(t, function (y, v) { n[u + "." + y] = v }) }); n.plugins = o.join(","); return n } var k = new f.events.eventdispatcher, h = d.flashVersion(); d.extend(this, k); this.embed = function () { g.id = a.id; if (10 > h) { return k.sendEvent(j.ERROR, { message: "Flash version must be 10.0 or greater" }), !1 } var t, v, u = r.id, n = a.config.listbar, l = d.extend({}, g); t = document.getElementById(a.id); t.parentNode.replaceChild(r, t); if (u + "_wrapper" === r.parentNode.id) { t = document.getElementById(u + "_wrapper") } else { t = document.createElement("div"); v = document.createElement("div"); v.style.display = "none"; v.id = u + "_aspect"; t.id = u + "_wrapper"; t.style.position = "relative"; t.style.display = "block"; t.style.width = d.styleDimension(l.width); t.style.height = d.styleDimension(l.height); if (a.config.aspectratio) { var o = parseFloat(a.config.aspectratio); v.style.display = "block"; v.style.marginTop = a.config.aspectratio; t.style.height = "auto"; t.style.display = "inline-block"; n && ("bottom" === n.position ? v.style.paddingBottom = n.size + "px" : "right" === n.position && (v.style.marginBottom = -1 * n.size * (o / 100) + "px")) } r.parentNode.replaceChild(t, r); t.appendChild(r); t.appendChild(v) } n = q.setupPlugins(a, l, m); 0 < n.length ? d.extend(l, e(n.plugins)) : delete l.plugins; "undefined" !== typeof l["dock.position"] && "false" === l["dock.position"].toString().toLowerCase() && (l.dock = l["dock.position"], delete l["dock.position"]); n = l.wmode || (l.height && 40 >= l.height ? "transparent" : "opaque"); v = "height width modes events primary base fallback volume".split(" "); for (o = 0; o < v.length; o++) { delete l[v[o]] } v = d.getCookies(); d.foreach(v, function (w, y) { "undefined" === typeof l[w] && (l[w] = y) }); v = window.location.href.split("/"); v.splice(v.length - 1, 1); v = v.join("/"); l.base = v + "/"; b[u] = l; d.isMSIE() ? (r.outerHTML = '\x3cobject classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width\x3d"100%" height\x3d"100%" id\x3d"' + u + '" name\x3d"' + u + '" tabindex\x3d"0"\x3e\x3cparam name\x3d"movie" value\x3d"' + c.src + '"\x3e\x3cparam name\x3d"allowfullscreen" value\x3d"true"\x3e\x3cparam name\x3d"allowscriptaccess" value\x3d"always"\x3e\x3cparam name\x3d"seamlesstabbing" value\x3d"true"\x3e\x3cparam name\x3d"wmode" value\x3d"' + n + '"\x3e\x3cparam name\x3d"bgcolor" value\x3d"#000000"\x3e\x3c/object\x3e', t = t.getElementsByTagName("object")[0], t.style.outline = "none") : (t = document.createElement("object"), t.setAttribute("type", "application/x-shockwave-flash"), t.setAttribute("data", c.src), t.setAttribute("width", "100%"), t.setAttribute("height", "100%"), t.setAttribute("bgcolor", "#000000"), t.setAttribute("id", u), t.setAttribute("name", u), t.className = "jwswf", p(t, "allowfullscreen", "true"), p(t, "allowscriptaccess", "always"), p(t, "seamlesstabbing", "true"), p(t, "wmode", n), r.parentNode.replaceChild(t, r)); a.config.aspectratio && (t.style.position = "absolute", t.style.left = "0"); a.container = t; a.setPlayer(t, "flash") }; this.supportsConfig = function () { if (h) { if (g) { if ("string" === d.typeOf(g.playlist)) { return !0 } try { var l = g.playlist[0].sources; if ("undefined" === typeof l) { return !0 } for (var n = 0; n < l.length; n++) { if (l[n].file && i(l[n].file, l[n].type)) { return !0 } } } catch (o) { } } else { return !0 } } return !1 }; this.destroy = function () { } }).getVars = function (a) { return b[a] }; var i = f.embed.flashCanPlay = function (e, a) { if (d.isYouTube(e, a) || d.isRtmp(e, a) || "hls" === a) { return !0 } var c = d.extensionmap[a ? a : d.extension(e)]; return !c ? !1 : !!c.flash } }(jwplayer), function (f) { var d = f.utils, j = d.extensionmap, b = f.events, i; f.embed.html5 = function (l, g, h, k, c) { function a(m, n, p) { return function () { try { var o = document.querySelector("#" + l.id + " .jwmain"); p && o.appendChild(n); "function" === typeof m.resize && (m.resize(o.clientWidth, o.clientHeight), setTimeout(function () { m.resize(o.clientWidth, o.clientHeight) }, 400)); n.left = o.style.left; n.top = o.style.top } catch (r) { } } } var e = new b.eventdispatcher; d.extend(this, e); this.embed = function () { if (f.html5) { k.setupPlugins(c, h, a); d.emptyElement(l); var m = f.utils.extend({}, h); delete m.volume; m = new f.html5.player(m); c.setPlayer(m, "html5") } else { this.loadEmbedder() } }; this.loadEmbedder = function () { i = i || new d.scriptloader(g.src); i.addEventListener(b.ERROR, this.loadError); i.addEventListener(b.COMPLETE, this.embed); i.load() }; this.loadError = function (m) { this.sendEvent(m.type, { message: "HTML5 player not found" }) }; this.supportsConfig = function () { if (f.vid.canPlayType) { try { if ("string" === d.typeOf(h.playlist)) { return !0 } for (var m = h.playlist[0].sources, n = 0; n < m.length; n++) { if (f.embed.html5CanPlay(m[n].file, m[n].type, h.androidhls)) { return !0 } } } catch (p) { } } return !1 }; this.destroy = function () { i && (i.resetEventListeners(), i = null) } }; f.embed.html5CanPlay = function (h, a, e) { if (null !== navigator.userAgent.match(/BlackBerry/i) || d.isIE(9)) { return !1 } if (d.isYouTube(h, a)) { return !0 } var g = d.extension(h); a = a || j.extType(g); if ("hls" === a) { if (e) { e = d.isAndroidNative; if (e(2) || e(3) || e("4.0")) { return !1 } if (d.isAndroid()) { return !0 } } else { if (d.isAndroid()) { return !1 } } } if (d.isRtmp(h, a)) { return !1 } h = j[a] || j[g]; if (!h || h.flash && !h.html5) { return !1 } var k; g: if (h = h.html5) { try { k = !!f.vid.canPlayType(h); break g } catch (c) { } k = !1 } else { k = !0 } return k } }(jwplayer), function (f) { var d = f.embed, l = f.embed.html5CanPlay, b = f.utils, j = f._, c = /\.(js|swf)$/; f.cast = f.cast || {}; f.embed = b.extend(function (v) { function m() { a = "Adobe SiteCatalyst Error: Could not find Media Module" } var i = b.repo(), u = b.extend({}, f.defaults), h = b.extend({}, u, v.config), n = v.config, e = h.plugins, w = h.analytics, p = i + "jwpsrv.js", g = i + "sharing.js", G = i + "related.js", x = i + "gapro.js", u = f.key ? f.key : u.key, t = (new f.utils.key(u)).edition(), a, e = e ? e : {}; "ads" == t && h.advertising && (c.test(h.advertising.client) ? e[h.advertising.client] = h.advertising : e[i + h.advertising.client + ".js"] = h.advertising); delete n.advertising; n.key = u; h.analytics && c.test(h.analytics.client) && (p = h.analytics.client); delete n.analytics; w && !("ads" === t || "enterprise" === t) && delete w.enabled; if ("free" == t || !w || !1 !== w.enabled) { e[p] = w ? w : {} } delete e.sharing; delete e.related; switch (t) { case "ads": case "enterprise": if (n.sitecatalyst) { try { window.s && window.s.hasOwnProperty("Media") ? new f.embed.sitecatalyst(v) : m() } catch (k) { m() } } case "premium": h.related && (c.test(h.related.client) && (G = h.related.client), e[G] = h.related), h.ga && (c.test(h.ga.client) && (x = h.ga.client), e[x] = h.ga); case "pro": h.sharing && (c.test(h.sharing.client) && (g = h.sharing.client), e[g] = h.sharing), h.skin && (n.skin = h.skin.replace(/^(beelden|bekle|five|glow|modieus|roundster|stormtrooper|vapor)$/i, b.repo() + "skins/$1.xml")) } n.plugins = e; v.config = n; v = new d(v); a && v.errorScreen(a); return v }, f.embed); f.embed.html5CanPlay = function (h, a) { var g; var e = { file: h, type: a }; g = f.html5 && f.html5.chooseProvider ? f.html5.chooseProvider(e) !== f.html5.VideoProvider : j.any(f.unregisteredProviders, function (i) { return i.supports(e) }); return g ? !0 : l.apply(this, arguments) } }(jwplayer), function (d) { var c = jwplayer.utils; d.sitecatalyst = function (q) { function f(i) { b.debug && c.log(i) } function D(i) { i = i.split("/"); i = i[i.length - 1]; i = i.split("?"); return i[0] } function m() { if (!h) { h = !0; var i = e.getPosition(); f("stop: " + k + " : " + i); s.Media.stop(k, i) } } function r() { g || (m(), g = !0, f("close: " + k), s.Media.close(k), a = !0, w = 0) } var e = q, b = c.extend({}, e.config.sitecatalyst), p = { onPlay: function () { if (!a) { var i = e.getPosition(); h = !1; f("play: " + k + " : " + i); s.Media.play(k, i) } }, onPause: m, onBuffer: m, onIdle: r, onPlaylistItem: function (o) { try { a = !0; r(); w = 0; var i; if (b.mediaName) { i = b.mediaName } else { var l = e.getPlaylistItem(o.index); i = l.title ? l.title : l.file ? D(l.file) : l.sources && l.sources.length ? D(l.sources[0].file) : "" } k = i; j = b.playerName ? b.playerName : e.id } catch (n) { c.log(n) } }, onTime: function () { if (a) { var l = e.getDuration(); if (-1 == l) { return } g = h = a = !1; f("open: " + k + " : " + l + " : " + j); s.Media.open(k, l, j); f("play: " + k + " : 0"); s.Media.play(k, 0) } l = e.getPosition(); if (3 <= Math.abs(l - w)) { var i = w; f("seek: " + i + " to " + l); f("stop: " + k + " : " + i); s.Media.stop(k, i); f("play: " + k + " : " + l); s.Media.play(k, l) } w = l }, onComplete: r }, k, j, w, h = !0, g = !0, a; c.foreach(p, function (i) { e[i](p[i]) }) } }(jwplayer.embed), function (f) { function d(c, a) { c[a] && (c[a] = j.getAbsolutePath(c[a])) } var j = f.utils, b = f._, i = window.location.href; f.cast.setupCastConfig = function (p, a) { var g = j.extend({}, p.config); g.cast = j.extend({ pageUrl: i }, a); for (var h = "base autostart controls fallback fullscreen width height mobilecontrols modes playlistlayout playlistposition playlistsize primary stretching sharing related ga skin logo listbar events".split(" "), k = h.length; k--;) { delete g[h[k]] } h = g.plugins; delete g.plugins; for (var c in h) { if (h.hasOwnProperty(c)) { var q = h[c]; if (q.client && (/[\.\/]/.test(q.client) && d(q, "client"), -1 < q.client.indexOf("vast"))) { k = g; q = j.extend({}, q); q.client = "vast"; delete q.companiondiv; if (q.schedule) { var e = void 0; for (e in q.schedule) { q.schedule.hasOwnProperty(e) && d(q.schedule[e].ad || q.schedule[e], "tag") } } d(q, "tag"); k.advertising = q } } } p.position && (g.position = p.position); 0 < p.item && (g.item = p.item); g.captionLabel = j.getCookies().captionLabel; g.playerVersion = f.version; return g }; f.cast.setupFlashCastConfig = function (c) { var e = c.config; e.playlist = c.getPlaylist(); var a; (a = b.find(e.plugins, function (g, h) { return 0 < h.indexOf("vast.js") })) ? (a.client = "vast", a = { advertising: a }) : a = {}; e = b.pick(e, "id captionLabel cast key playlist repeat".split(" ")); e.cast.pageUrl = window.location.href; j.extend(e, { playerVersion: f.version, captionLabel: j.getCookies().captionLabel, volume: c.getVolume(), mute: c.getMute(), id: c.id, position: c.getPosition(), item: c.getPlaylistIndex() }, a); return e } }(window.jwplayer), function (l, k) { function j(a, e) { a[e] && (a[e] = d.getAbsolutePath(a[e])) } var c = k.cast, d = k.utils, g = k.events, b = g.state, f = {}; c.NS = "urn:x-cast:com.longtailvideo.jwplayer"; c.debug = !1; c.availability = null; c.available = function (a) { a = a || c.availability; var e = l.chrome, h = "available"; e.cast && e.cast.ReceiverAvailability && (h = e.cast.ReceiverAvailability.AVAILABLE); return a === h }; c.controller = function (i, n) { var v, u; function p(V, T) { c.log("send command", V, T); var U = { command: V }; void 0 !== T && (U.args = T); D.sendMessage(c.NS, U, L, function (W) { c.log("error message", W); "Invalid namespace" === W.description && A() }) } function t(T) { T = !!c.available(T.availability); o.available !== T && (o.available = T, w(g.JWPLAYER_CAST_AVAILABLE)) } function q(T) { c.log("existing session", T); !D && !K && (K = T.session, K.addMessageListener(c.NS, z)) } function z(T, U) { var V = JSON.parse(U); if (!V) { throw "Message not proper JSON" } if (V.reconcile) { K.removeMessageListener(c.NS, z); var W = V.diff, X = K; if (!W.id || !V.appid || !V.pageUrl) { W.id = k().id, V.appid = J.appid, V.pageUrl = R, K = D = null } W.id === i.id && (V.appid === J.appid && V.pageUrl === R) && (D || (i.jwInstreamState() && i.jwInstreamDestroy(!0), E(X), n.sendEvent(g.JWPLAYER_PLAYER_STATE, { oldstate: W.oldstate, newstate: W.newstate })), N(V)); K = null } } function x(T) { o.active = !!T; T = o; var U; U = D && D.receiver ? D.receiver.friendlyName : ""; T.deviceName = U; w(g.JWPLAYER_CAST_SESSION, {}) } function w(T) { var U = d.extend({}, o); n.sendEvent(T, U) } function r(U) { var T = l.chrome; U.code !== T.cast.ErrorCode.CANCEL && (c.log("Cast Session Error:", U, D), U.code === T.cast.ErrorCode.SESSION_ERROR && A()) } function y(U) { var T = l.chrome; U.code !== T.cast.ErrorCode.CANCEL && (c.log("Cast Session Error:", U, D), U.code === T.cast.ErrorCode.SESSION_ERROR && A()) } function A() { D ? (I(), D.stop(H, C), O({ item: 0 }), N({ type: "state", diff: { buffer: 0, position: 0, duration: 0 } })) : H() } function C(T) { c.error("Cast Session Stop error:", T, D); H() } function E(U) { c.log("Session started:", U); if (D) { A(), M = U } else { D = U; D.addMessageListener(c.NS, e); D.addUpdateListener(B); i.jwPause(!0); i.jwSetFullscreen(!1); m = n.getVideo(); v = n.volume; u = n.mute; G = new c.provider(p); G.init(); n.setVideoProvider(G); i.jwPlay = function (W) { !1 === W ? G.pause() : G.play() }; i.jwPause = function (W) { i.jwPlay(!!W) }; i.jwLoad = function (W) { "number" === d.typeOf(W) && n.setItem(W); G.load(W) }; i.jwPlaylistItem = function (W) { "number" === d.typeOf(W) && n.setItem(W); G.playlistItem(W) }; i.jwPlaylistNext = function () { i.jwPlaylistItem(n.item + 1) }; i.jwPlaylistPrev = function () { i.jwPlaylistItem(n.item - 1) }; i.jwSetVolume = function (W) { d.exists(W) && (W = Math.min(Math.max(0, W), 100) | 0, P(W) && (W = Math.max(0, Math.min(W / 100, 1)), D.setReceiverVolumeLevel(W, h, function (X) { c.error("set volume error", X); h() }))) }; i.jwSetMute = function (W) { d.exists(W) || (W = !a.mute); Q(W) && D.setReceiverMuted(!!W, h, function (X) { c.error("set muted error", X); h() }) }; i.jwGetVolume = function () { return a.volume | 0 }; i.jwGetMute = function () { return !!a.mute }; i.jwIsBeforePlay = function () { return !1 }; var T = i.jwSetCurrentCaptions; i.jwSetCurrentCaptions = function (W) { T(W); G.sendCommand("caption", W) }; i.jwSkipAd = function (W) { F && (F.skipAd(W), W = F.getAdModel(), W.complete = !0, n.sendEvent(g.JWPLAYER_CAST_AD_CHANGED, W)) }; i.jwClickAd = function (X) { if (F && 300 < F.timeSinceClick() && (F.clickAd(X), n.state !== b.PAUSED)) { var W = { tag: X.tag }; X.sequence && (W.sequence = X.sequence); X.podcount && (W.podcount = X.podcount); k(i.id).dispatchEvent(g.JWPLAYER_AD_CLICK, W); l.open(X.clickthrough) } }; i.jwPlayAd = i.jwPauseAd = i.jwSetControls = i.jwForceState = i.jwReleaseState = i.jwSetFullscreen = i.jwDetachMedia = i.jwAttachMedia = L; var V = k(i.id).plugins; V.vast && V.vast.jwPauseAd !== L && (S = { jwPlayAd: V.vast.jwPlayAd, jwPauseAd: V.vast.jwPauseAd }, V.vast.jwPlayAd = V.vast.jwPauseAd = L); h(); x(!0); U !== K && (G.setup(k.cast.setupCastConfig(n, J), n), k.cast.loader.sendDummyMedia(U)) } } function B(T) { c.log("Cast Session status", T); T ? h() : (G.sendEvent(g.JWPLAYER_PLAYER_STATE, { oldstate: n.state, newstate: b.BUFFERING }), H()) } function H() { c.log("_sessionStopped"); D && (I(), D = null); if (m) { delete i.jwSkipAd; delete i.jwClickAd; i.initializeAPI(); var T = k(i.id).plugins; T.vast && d.extend(T.vast, S); n.volume = v; n.mute = u; n.setVideoProvider(m); n.duration = 0; G && (G.destroy(), G = null); F && (F.destroy(), F = null); n.state !== b.IDLE ? d.isIPad() || d.isIPod() ? (i.jwStop(!0), m.sendEvent(g.JWPLAYER_PLAYER_STATE, { oldstate: b.BUFFERING, newstate: b.IDLE })) : (n.state = b.IDLE, i.jwPlay(!0), i.jwSeek(n.position)) : m.sendEvent(g.JWPLAYER_PLAYER_STATE, { oldstate: b.BUFFERING, newstate: b.IDLE }); m = null } x(!1); null !== M && (E(M), M = null) } function I() { D.removeUpdateListener(B); D.removeMessageListener(c.NS, e) } function e(U, V) { var T = JSON.parse(V); if (!T) { throw "Message not proper JSON" } N(T) } function N(T) { if ("state" === T.type) { if (F && (T.diff.newstate || T.diff.position)) { F.destroy(), F = null, n.setVideoProvider(G), n.sendEvent(g.JWPLAYER_CAST_AD_CHANGED, { done: !0 }) } G.updateModel(T.diff, T.type); O(T.diff) } else { if ("ad" === T.type) { null === F && (F = new c.adprovider(c.NS, D), F.init(), n.setVideoProvider(F)); F.updateModel(T.diff, T.type); var U = F.getAdModel(); T.diff.clickthrough && (U.onClick = i.jwClickAd); T.diff.skipoffset && (U.onSkipAd = i.jwSkipAd); n.sendEvent(g.JWPLAYER_CAST_AD_CHANGED, U); T.diff.complete && F.resetAdModel() } else { "connection" === T.type ? !0 === T.closed && A() : c.error("received unhandled message", T.type, T) } } } function O(T) { void 0 !== T.item && n.item !== T.item && (n.item = T.item, n.sendEvent(g.JWPLAYER_PLAYLIST_ITEM, { index: n.item })) } function h() { if (D && D.receiver) { var T = D.receiver.volume; if (T) { var U = 100 * T.level | 0; Q(!!T.muted); P(U) } } } function P(T) { var U = a.volume !== T; U && (a.volume = T, G.sendEvent(g.JWPLAYER_MEDIA_VOLUME, { volume: T })); return U } function Q(T) { var U = a.mute !== T; U && (a.mute = T, G.sendEvent(g.JWPLAYER_MEDIA_MUTE, { mute: T })); return U } function L() { } var D = null, o = { available: !1, active: !1, deviceName: "" }, a = { volume: null, mute: null }, R = d.getAbsolutePath(l.location.href), J, G = null, F = null, m = null; v = n.volume; u = n.mute; var K = null, M = null, S = null; J = d.extend({}, f, n.cast); j(J, "loadscreen"); j(J, "endscreen"); j(J, "logo"); if (J.appid && (!l.cast || !l.cast.receiver)) { c.loader.addEventListener("availability", t), c.loader.addEventListener("session", q), c.loader.initialize(J.appid) } this.startCasting = function () { D || i.jwInstreamState() || l.chrome.cast.requestSession(E, r) }; this.stopCasting = A; this.openExtension = function () { i.jwInstreamState() || l.chrome.cast.requestSession(E, y) } }; c.log = function () { if (c.debug) { var a = Array.prototype.slice.call(arguments, 0); console.log.apply(console, a) } }; c.error = function () { var a = Array.prototype.slice.call(arguments, 0); console.error.apply(console, a) } }(window, jwplayer), function (f) { function d(i) { h.log("existing session", i); !z && !y && (y = i.session, y.addMessageListener(h.NS, l)) } function l(A, C) { var i = JSON.parse(C), o = y; if (!i) { throw "Message not proper JSON" } if (i.reconcile) { y.removeMessageListener(h.NS, l); i.receiverFriendlyName = y.receiver.friendlyName; if (!i.pageUrl || !i.diff.id || !i.appid) { i.pageUrl = r, i.diff.id = f().id, i.appid = w, y = z = null } u[i.diff.id] && (w === i.appid && i.pageUrl === r) && (v = i.diff.id, w = i.appid, t(v, "jwInstreamDestroy"), g(o), t(v, n.message, i), y = null) } } function b() { z && (z.removeUpdateListener(e), z.removeMessageListener(h.NS, k), z.stop(j.bind(this), a.bind(this)), z = null); t(v, n.cleanup) } function j() { "undefined" !== typeof B && null !== B && (g(B), B = null) } function c(i, o) { z.sendMessage(h.NS, { command: i, args: o }, p.noop, function (A) { h.error("message send error", A) }) } function g(i) { var o = f(v); z ? (b(), B = i) : (z = i, z.addMessageListener(h.NS, k), z.addUpdateListener(e), o = f.cast.setupFlashCastConfig(o), y !== z && (c("setup", o), f.cast.loader.sendDummyMedia(z)), t(v, n.connected, { receiverFriendlyName: i.receiver.friendlyName })) } function k(o, A) { if (A) { var i = JSON.parse(A); if (!i) { throw "Message not proper JSON" } t(v, n.message, i) } } function a(i) { t(v, n.error, i || {}) } function e(i) { i ? q() : b() } function t(o, A, i) { i ? f(o).callInternal(A, i) : f(o).callInternal(A) } function q() { if (z && z.receiver) { var i = z.receiver.volume; if (i) { var o = 100 * i.level | 0, i = !!i.muted; f(v).setVolume(o).setMute(i) } } } var h = f.cast, p = f.utils, m = f._, x = window.chrome || {}, v, u = {}, n = {}, w, y, B, r = p.getAbsolutePath(window.location.href), z; h.NS = "urn:x-cast:com.longtailvideo.jwplayer"; h.flash = { checkAvailability: function (o, A, i) { n = i; w = A; u[o] = !0; h.loader.addEventListener("availability", function (C) { "available" === C.availability && t(o, n.available, C) }); h.loader.addEventListener("session", d); h.loader.initialize(A) }, startCasting: function (i) { v = i; x.cast.requestSession(g.bind(this), a.bind(this)) }, stopCasting: b, openExtension: function (i) { v = i; x.cast.requestSession(g.bind(this), a.bind(this)) }, mute: function (i) { z.setReceiverMuted(i, q, function (o) { h.error("set muted error", o) }) }, volume: function (i) { i = Math.max(0, Math.min(i / 100, 1)); z.setReceiverVolumeLevel(i, q, function (o) { h.error("set volume error", o) }) }, messageReceiver: c, canCastItem: function (i) { return m.any(i.levels, function (o) { return f.embed.html5CanPlay(o.file, o.type) || "hls" === o.type }) } } }(window.jwplayer), function (e, b) { function p(i) { var n = new b.cast.media.MediaInfo(""); n.contentType = "video/mp4"; n = new b.cast.media.LoadRequest(n); n.autoplay = !1; i.loadMedia(n) } function w() { b && b.cast && b.cast.isAvailable && !c.apiConfig ? (c.apiConfig = new b.cast.ApiConfig(new b.cast.SessionRequest(q), l, r, b.cast.AutoJoinPolicy.ORIGIN_SCOPED), b.cast.initialize(c.apiConfig, h, a)) : 15 > d++ && setTimeout(w, 1000) } function k() { j && (j.resetEventListeners(), j = null) } function a() { c.apiConfig = null } function h() { } function l(i) { m.sendEvent("session", { session: i }); i.sendMessage(c.NS, { whoami: 1 }); 0 === i.media.length && p(i) } function r(i) { c.availability = i; m.sendEvent("availability", { availability: i }) } window.chrome = b; var c = e.cast, g = e.utils, f = e.events, j, d = 0, q = null, m = g.extend({ initialize: function (i) { q = i; null !== c.availability ? m.sendEvent("availability", { availability: c.availability }) : b && b.cast ? w() : j || (j = new g.scriptloader("https://www.gstatic.com/cv/js/sender/v1/cast_sender.js"), j.addEventListener(f.ERROR, k), j.addEventListener(f.COMPLETE, w), j.load()) } }, new f.eventdispatcher("cast.loader")); e.cast.loader = m; e.cast.loader.sendDummyMedia = p }(window.jwplayer, window.chrome || {}), function (r, l) { var d = [], j = r.utils, b = r.events, k = r._, a = 0, c = b.state, g = "getBuffer getCaptionsList getControls getCurrentCaptions getCurrentQuality getCurrentAudioTrack getDuration getFullscreen getHeight getLockState getMute getPlaylistIndex getSafeRegion getPosition getQualityLevels getState getVolume getWidth isBeforeComplete isBeforePlay releaseState".split(" "), q = "playlistNext stop forceState playlistPrev seek setCurrentCaptions setControls setCurrentQuality setVolume setCurrentAudioTrack".split(" "), f = { onBufferChange: b.JWPLAYER_MEDIA_BUFFER, onBufferFull: b.JWPLAYER_MEDIA_BUFFER_FULL, onError: b.JWPLAYER_ERROR, onSetupError: b.JWPLAYER_SETUP_ERROR, onFullscreen: b.JWPLAYER_FULLSCREEN, onMeta: b.JWPLAYER_MEDIA_META, onMute: b.JWPLAYER_MEDIA_MUTE, onPlaylist: b.JWPLAYER_PLAYLIST_LOADED, onPlaylistItem: b.JWPLAYER_PLAYLIST_ITEM, onPlaylistComplete: b.JWPLAYER_PLAYLIST_COMPLETE, onReady: b.API_READY, onResize: b.JWPLAYER_RESIZE, onComplete: b.JWPLAYER_MEDIA_COMPLETE, onSeek: b.JWPLAYER_MEDIA_SEEK, onTime: b.JWPLAYER_MEDIA_TIME, onVolume: b.JWPLAYER_MEDIA_VOLUME, onBeforePlay: b.JWPLAYER_MEDIA_BEFOREPLAY, onBeforeComplete: b.JWPLAYER_MEDIA_BEFORECOMPLETE, onDisplayClick: b.JWPLAYER_DISPLAY_CLICK, onControls: b.JWPLAYER_CONTROLS, onQualityLevels: b.JWPLAYER_MEDIA_LEVELS, onQualityChange: b.JWPLAYER_MEDIA_LEVEL_CHANGED, onCaptionsList: b.JWPLAYER_CAPTIONS_LIST, onCaptionsChange: b.JWPLAYER_CAPTIONS_CHANGED, onAdError: b.JWPLAYER_AD_ERROR, onAdClick: b.JWPLAYER_AD_CLICK, onAdImpression: b.JWPLAYER_AD_IMPRESSION, onAdTime: b.JWPLAYER_AD_TIME, onAdComplete: b.JWPLAYER_AD_COMPLETE, onAdCompanions: b.JWPLAYER_AD_COMPANIONS, onAdSkipped: b.JWPLAYER_AD_SKIPPED, onAdPlay: b.JWPLAYER_AD_PLAY, onAdPause: b.JWPLAYER_AD_PAUSE, onAdMeta: b.JWPLAYER_AD_META, onCast: b.JWPLAYER_CAST_SESSION, onAudioTrackChange: b.JWPLAYER_AUDIO_TRACK_CHANGED, onAudioTracks: b.JWPLAYER_AUDIO_TRACKS }, e = { onBuffer: c.BUFFERING, onPause: c.PAUSED, onPlay: c.PLAYING, onIdle: c.IDLE }; r.api = function (x) { function w(A, C) { j.foreach(A, function (D, F) { z[D] = function (G) { return C(F, G) } }) } function y(C, A) { var D = "jw" + A.charAt(0).toUpperCase() + A.slice(1); z[A] = function () { var F = h.apply(this, [D].concat(Array.prototype.slice.call(arguments, 0))); return C ? z : F } } function n(A, C) { try { A.jwAddEventListener(C, 'function(dat) { jwplayer("' + z.id + '").dispatchEvent("' + C + '", dat); }') } catch (F) { if ("flash" === z.renderingMode) { var D = document.createElement("a"); D.href = v.data; D.protocol !== location.protocol && j.log("Warning: Your site [" + location.protocol + "] and JWPlayer [" + D.protocol + "] are hosted using different protocols") } j.log("Could not add internal listener") } } function o(C, A) { i[C] || (i[C] = [], v && B && n(v, C)); i[C].push(A); return z } function h() { if (B) { if (v) { var C = Array.prototype.slice.call(arguments, 0), A = C.shift(); if ("function" === typeof v[A]) { switch (C.length) { case 6: return v[A](C[0], C[1], C[2], C[3], C[4], C[5]); case 5: return v[A](C[0], C[1], C[2], C[3], C[4]); case 4: return v[A](C[0], C[1], C[2], C[3]); case 3: return v[A](C[0], C[1], C[2]); case 2: return v[A](C[0], C[1]); case 1: return v[A](C[0]) } return v[A]() } } return null } u.push(arguments) } var z = this, i = {}, p = {}, v, B = !1, u = [], E, m = {}, t = {}; z.container = x; z.id = x.id; z.setup = function (C) { if (r.embed) { r.api.destroyPlayer(z.id); var A = new r.api(z.container); r.api.addPlayer(A); A.config = C; A._embedder = new r.embed(A); A._embedder.embed(); return A } return z }; z.getContainer = function () { return z.container }; z.addButton = function (C, A, D, H) { try { t[H] = D, h("jwDockAddButton", C, A, 'jwplayer("' + z.id + '").callback("' + H + '")', H) } catch (G) { j.log("Could not add dock button" + G.message) } }; z.removeButton = function (A) { h("jwDockRemoveButton", A) }; z.callback = function (A) { if (t[A]) { t[A]() } }; z.getMeta = function () { return z.getItemMeta() }; z.getPlaylist = function () { var A = h("jwGetPlaylist"); "flash" === z.renderingMode && j.deepReplaceKeyName(A, ["__dot__", "__spc__", "__dsh__", "__default__"], [".", " ", "-", "default"]); return A }; z.getPlaylistItem = function (A) { j.exists(A) || (A = z.getPlaylistIndex()); return z.getPlaylist()[A] }; z.getRenderingMode = function () { return z.renderingMode }; z.setFullscreen = function (A) { j.exists(A) ? h("jwSetFullscreen", A) : h("jwSetFullscreen", !h("jwGetFullscreen")); return z }; z.setMute = function (A) { j.exists(A) ? h("jwSetMute", A) : h("jwSetMute", !h("jwGetMute")); return z }; z.lock = function () { return z }; z.unlock = function () { return z }; z.load = function (A) { h("jwInstreamDestroy"); r(z.id).plugins.googima && h("jwDestroyGoogima"); h("jwLoad", A); return z }; z.playlistItem = function (A) { h("jwPlaylistItem", parseInt(A, 10)); return z }; z.resize = function (A, C) { if ("flash" !== z.renderingMode) { h("jwResize", A, C) } else { var F = document.getElementById(z.id + "_wrapper"), D = document.getElementById(z.id + "_aspect"); D && (D.style.display = "none"); F && (F.style.display = "block", F.style.width = j.styleDimension(A), F.style.height = j.styleDimension(C)) } return z }; z.play = function (C) { if (C !== l) { return h("jwPlay", C), z } C = z.getState(); var A = E && E.getState(); A && (A === c.IDLE || A === c.PLAYING || A === c.BUFFERING ? h("jwInstreamPause") : h("jwInstreamPlay")); C === c.PLAYING || C === c.BUFFERING ? h("jwPause") : h("jwPlay"); return z }; z.pause = function (A) { A === l ? (A = z.getState(), A === c.PLAYING || A === c.BUFFERING ? h("jwPause") : h("jwPlay")) : h("jwPause", A); return z }; z.createInstream = function () { return new r.api.instream(this, v) }; z.setInstream = function (A) { return E = A }; z.loadInstream = function (C, A) { E = z.setInstream(z.createInstream()).init(A); E.loadItem(C); return E }; z.destroyPlayer = function () { B = !0; h("jwPlayerDestroy") }; z.playAd = function (C) { var A = r(z.id).plugins; A.vast ? A.vast.jwPlayAd(C) : h("jwPlayAd", C) }; z.pauseAd = function () { var A = r(z.id).plugins; A.vast ? A.vast.jwPauseAd() : h("jwPauseAd") }; w(e, function (C, A) { p[C] || (p[C] = [], o(b.JWPLAYER_PLAYER_STATE, function (L) { var D = L.newstate; L = L.oldstate; if (D === C) { var G = p[D]; if (G) { for (var J = 0; J < G.length; J++) { var K = G[J]; "function" === typeof K && K.call(this, { oldstate: L, newstate: D }) } } } })); p[C].push(A); return z }); w(f, o); j.foreach(g, function (C, A) { y(!1, A) }); j.foreach(q, function (C, A) { y(!0, A) }); z.remove = function () { this._embedder && this._embedder.destroy && this._embedder.destroy(); u = []; var A = 1 < k.size(k.where(d, { id: z.id })); A || j.clearCss("#" + z.id); var C = document.getElementById(z.id + ("flash" === z.renderingMode ? "_wrapper" : "")); if (C) { if ("html5" === z.renderingMode) { z.destroyPlayer() } else { if (j.isMSIE(8)) { var F = document.getElementById(z.id); if (F && F.parentNode) { F.style.display = "none"; for (var D in F) { "function" === typeof F[D] && (F[D] = null) } F.parentNode.removeChild(F) } } } A || (A = document.createElement("div"), A.id = z.id, C.parentNode.replaceChild(A, C)) } d = k.filter(d, function (G) { return G.uniqueId !== z.uniqueId }) }; z.registerPlugin = function (D, A, C, F) { r.plugins.registerPlugin(D, A, C, F) }; z.setPlayer = function (C, A) { v = C; z.renderingMode = A }; z.detachMedia = function () { if ("html5" === z.renderingMode) { return h("jwDetachMedia") } }; z.attachMedia = function (A) { if ("html5" === z.renderingMode) { return h("jwAttachMedia", A) } }; z.getAudioTracks = function () { return h("jwGetAudioTracks") }; z.removeEventListener = function (D, A) { var C = i[D]; if (C) { for (var F = C.length; F--;) { C[F] === A && C.splice(F, 1) } } }; z.dispatchEvent = function (L, A) { var C = i[L]; if (C) { for (var C = C.slice(0), D = j.translateEventResponse(L, A), G = 0; G < C.length; G++) { var M = C[G]; if ("function" === typeof M) { try { L === b.JWPLAYER_PLAYLIST_LOADED && j.deepReplaceKeyName(D.playlist, ["__dot__", "__spc__", "__dsh__", "__default__"], [".", " ", "-", "default"]), M.call(this, D) } catch (K) { j.log("There was an error calling back an event handler", K) } } } } }; z.dispatchInstreamEvent = function (A) { E && E.dispatchEvent(A, arguments) }; z.callInternal = h; z.playerReady = function (A) { B = !0; v || z.setPlayer(document.getElementById(A.id)); z.container = document.getElementById(z.id); j.foreach(i, function (C) { n(v, C) }); o(b.JWPLAYER_PLAYLIST_ITEM, function () { m = {} }); o(b.JWPLAYER_MEDIA_META, function (C) { j.extend(m, C.metadata) }); o(b.JWPLAYER_VIEW_TAB_FOCUS, function (C) { var D = z.getContainer(); !0 === C.hasFocus ? j.addClass(D, "jw-tab-focus") : j.removeClass(D, "jw-tab-focus") }); for (z.dispatchEvent(b.API_READY) ; 0 < u.length;) { h.apply(z, u.shift()) } }; z.getItemMeta = function () { return m }; return z }; r.playerReady = function (h) { var i = r.api.playerById(h.id); i || (i = r.api.selectPlayer(h.id)); i.playerReady(h) }; r.api.selectPlayer = function (h) { var i; j.exists(h) || (h = 0); h.nodeType ? i = h : "string" === typeof h && (i = document.getElementById(h)); return i ? (h = r.api.playerById(i.id)) ? h : new r.api(i) : "number" === typeof h ? d[h] : null }; r.api.playerById = function (h) { for (var i = 0; i < d.length; i++) { if (d[i].id === h) { return d[i] } } return null }; r.api.addPlayer = function (h) { for (var i = 0; i < d.length; i++) { if (d[i] === h) { return h } } a++; h.uniqueId = a; d.push(h); return h }; r.api.destroyPlayer = function (h) { h = k.where(d, { id: h }); k.each(h, k.partial(k.result, k, "remove")) } }(window.jwplayer), function (f) { var d = f.events, h = f.utils, b = d.state; f.api.instream = function (g, c) { function k(i, j) { u[i] || (u[i] = [], c.jwInstreamAddEventListener(i, 'function(dat) { jwplayer("' + g.id + '").dispatchInstreamEvent("' + i + '", dat); }')); u[i].push(j); return this } function r(i, j) { t[i] || (t[i] = [], k(d.JWPLAYER_PLAYER_STATE, function (m) { var l = m.newstate, n = m.oldstate; if (l === i) { var o = t[l]; if (o) { for (var p = 0; p < o.length; p++) { var w = o[p]; "function" === typeof w && w.call(this, { oldstate: n, newstate: l, type: m.type }) } } } })); t[i].push(j); return this } var a, e, u = {}, t = {}, q = this; q.type = "instream"; q.init = function () { g.callInternal("jwInitInstream"); return q }; q.loadItem = function (j, i) { a = j; e = i || {}; "array" === h.typeOf(j) ? g.callInternal("jwLoadArrayInstream", a, e) : g.callInternal("jwLoadItemInstream", a, e) }; q.removeEvents = function () { u = t = {} }; q.removeEventListener = function (j, m) { var l = u[j]; if (l) { for (var i = l.length; i--;) { l[i] === m && l.splice(i, 1) } } }; q.dispatchEvent = function (i, m) { var j = u[i]; if (j) { for (var j = j.slice(0), l = h.translateEventResponse(i, m[1]), n = 0; n < j.length; n++) { var o = j[n]; "function" === typeof o && o.call(this, l) } } }; q.onError = function (i) { return k(d.JWPLAYER_ERROR, i) }; q.onMediaError = function (i) { return k(d.JWPLAYER_MEDIA_ERROR, i) }; q.onFullscreen = function (i) { return k(d.JWPLAYER_FULLSCREEN, i) }; q.onMeta = function (i) { return k(d.JWPLAYER_MEDIA_META, i) }; q.onMute = function (i) { return k(d.JWPLAYER_MEDIA_MUTE, i) }; q.onComplete = function (i) { return k(d.JWPLAYER_MEDIA_COMPLETE, i) }; q.onPlaylistComplete = function (i) { return k(d.JWPLAYER_PLAYLIST_COMPLETE, i) }; q.onPlaylistItem = function (i) { return k(d.JWPLAYER_PLAYLIST_ITEM, i) }; q.onTime = function (i) { return k(d.JWPLAYER_MEDIA_TIME, i) }; q.onBuffer = function (i) { return r(b.BUFFERING, i) }; q.onPause = function (i) { return r(b.PAUSED, i) }; q.onPlay = function (i) { return r(b.PLAYING, i) }; q.onIdle = function (i) { return r(b.IDLE, i) }; q.onClick = function (i) { return k(d.JWPLAYER_INSTREAM_CLICK, i) }; q.onInstreamDestroyed = function (i) { return k(d.JWPLAYER_INSTREAM_DESTROYED, i) }; q.onAdSkipped = function (i) { return k(d.JWPLAYER_AD_SKIPPED, i) }; q.play = function (i) { c.jwInstreamPlay(i) }; q.pause = function (i) { c.jwInstreamPause(i) }; q.hide = function () { g.callInternal("jwInstreamHide") }; q.destroy = function () { q.removeEvents(); g.callInternal("jwInstreamDestroy") }; q.setText = function (i) { c.jwInstreamSetText(i ? i : "") }; q.getState = function () { return c.jwInstreamState() }; q.setClick = function (i) { c.jwInstreamClick && c.jwInstreamClick(i) } } }(jwplayer), function (f) { var d = f.api, h = d.selectPlayer, b = f._; d.selectPlayer = function (c) { var a = h.apply(this, arguments); return a ? a : { registerPlugin: function (k, e, g) { "jwpsrv" !== k && f.plugins.registerPlugin(k, e, g) } } }; f.unregisteredProviders = []; d.registerProvider = function (a) { f && f.html5 && b.isFunction(f.html5.registerProvider) ? f.html5.registerProvider(a) : f.unregisteredProviders.push(a) } }(jwplayer));
var ns_ = ns_ || {}; ns_.PlatformAPIs = ns_.PlatformAPIs || { Standard: 0, Trilithium: 1, AppleTV: 2, Chromecast: 3 }, ns_.Utils = ns_.Utils || function () { return { uid: function () { var b = 1; return function () { return +(new Date) + "_" + b++ } }(), filter: function (h, f) { var g = {}; for (var e in f) { f.hasOwnProperty(e) && h(f[e]) && (g[e] = f[e]) } return g }, extend: function (i) { var e = arguments.length, h; i = i || {}; for (var j = 1; j < e; j++) { h = arguments[j]; if (!h) { continue } for (var g in h) { h.hasOwnProperty(g) && (i[g] = h[g]) } } return i }, getString: function (d, e) { var f = String(d); return d == null ? e || "na" : f }, getLong: function (d, e) { var f = Number(d); return d == null || isNaN(f) ? e || 0 : f }, getInteger: function (d, e) { var f = Number(d); return d == null || isNaN(f) ? e || 0 : f }, getBoolean: function (d, e) { var f = String(d).toLowerCase() == "true"; return d == null ? e || !1 : f }, isNotEmpty: function (b) { return typeof b != "undefined" && b != null && typeof b.length != "undefined" && b.length > 0 }, indexOf: function (d, e) { var f = -1; return this.forEach(e, function (a, b) { a == d && (f = b) }), f }, forEach: function (m, p, k) { try { if (typeof p == "function") { k = typeof k != "undefined" ? k : null; if (typeof m.length != "number" || typeof m[0] == "undefined") { var n = typeof m.__proto__ != "undefined"; for (var e in m) { m.hasOwnProperty(e) && (!n || n && typeof m.__proto__[e] == "undefined") && typeof m[e] != "function" && p.call(k, m[e], e) } } else { for (var o = 0, l = m.length; o < l; o++) { p.call(k, m[o], o) } } } } catch (i) { } }, regionMatches: function (l, e, j, m, i) { if (e < 0 || m < 0 || e + i > l.length || m + i > j.length) { return !1 } while (--i >= 0) { var n = l.charAt(e++), k = j.charAt(m++); if (n != k) { return !1 } } return !0 }, size: function (d) { var e = 0; for (var f in d) { d.hasOwnProperty(f) && e++ } return e }, log: function (h, f) { if (typeof f != "undefined" && f && typeof console != "undefined" && console) { var g = new Date, e = g.getHours() + ":" + g.getMinutes() + ":" + g.getSeconds(); console.log(e, h) } }, isTrue: function (b) { return typeof b == "undefined" ? !1 : typeof b == "string" ? (b = b.toLowerCase(), b === "true" || b === "1" || b === "on") : !!b }, toString: function (d) { if (typeof d == "undefined") { return "undefined" } if (typeof d == "string") { return d } if (Object.prototype.toString.call(d) === "[object Array]") { return d.join(",") } if (this.size(d) > 0) { var e = ""; for (var f in d) { d.hasOwnProperty(f) && (e += f + ":" + d[f] + ";") } return e } return d.toString() }, exists: function (b) { return typeof b != "undefined" && b != null }, firstGreaterThan0: function () { for (var d = 0, e = arguments.length; d < e; d++) { var f = arguments[d]; if (f > 0) { return f } } return 0 }, cloneObject: function (c) { if (null == c || "object" != typeof c) { return c } var d = function () { function e() { } function m(f) { return typeof f == "object" ? (e.prototype = f, new e) : f } function i(f) { for (var g in f) { f.hasOwnProperty(g) && (this[g] = f[g]) } } function n() { this.copiedObjects = []; var f = this; this.recursiveDeepCopy = function (g) { return f.deepCopy(g) }, this.depth = 0 } function l(g, h) { var f = new n; return h && (f.maxDepth = h), f.deepCopy(g) } function b(f) { return typeof window != "undefined" && window && window.Node ? f instanceof Node : f === document ? !0 : typeof f.nodeType == "number" && f.attributes && f.childNodes && f.cloneNode } var a = []; return i.prototype = { constructor: i, canCopy: function () { return !1 }, create: function (f) { }, populate: function (g, h, f) { } }, n.prototype = { constructor: n, maxDepth: 256, cacheResult: function (f, g) { this.copiedObjects.push([f, g]) }, getCachedResult: function (f) { var h = this.copiedObjects, j = h.length; for (var g = 0; g < j; g++) { if (h[g][0] === f) { return h[g][1] } } return undefined }, deepCopy: function (h) { if (h === null) { return null } if (typeof h != "object") { return h } var f = this.getCachedResult(h); if (f) { return f } for (var j = 0; j < a.length; j++) { var g = a[j]; if (g.canCopy(h)) { return this.applyDeepCopier(g, h) } } throw new Error("Unable to clone the following object " + h) }, applyDeepCopier: function (g, h) { var f = g.create(h); this.cacheResult(h, f), this.depth++; if (this.depth > this.maxDepth) { throw new Error("Maximum recursion depth exceeded.") } return g.populate(this.recursiveDeepCopy, h, f), this.depth--, f } }, l.DeepCopier = i, l.deepCopiers = a, l.register = function (f) { f instanceof i || (f = new i(f)), a.unshift(f) }, l.register({ canCopy: function () { return !0 }, create: function (f) { return f instanceof f.constructor ? m(f.constructor.prototype) : {} }, populate: function (f, h, j) { for (var g in h) { h.hasOwnProperty(g) && (j[g] = f(h[g])) } return j } }), l.register({ canCopy: function (f) { return f instanceof Array }, create: function (f) { return new f.constructor }, populate: function (f, h, j) { for (var g = 0; g < h.length; g++) { j.push(f(h[g])) } return j } }), l.register({ canCopy: function (f) { return f instanceof Date }, create: function (f) { return new Date(f) } }), l.register({ canCopy: function (f) { return b(f) }, create: function (f) { return f === document ? document : f.cloneNode(!1) }, populate: function (j, f, h) { if (f === document) { return document } if (f.childNodes && f.childNodes.length) { for (var k = 0; k < f.childNodes.length; k++) { var g = j(f.childNodes[k]); h.appendChild(g) } } } }), { deepCopy: l } }(); return d.deepCopy(c) }, safeGet: function (c, d) { return d = this.exists(d) ? d : "", this.exists(c) ? c : d }, getBrowserName: function () { if (typeof navigator == "undefined" || !navigator.hasOwnProperty("userAgent") || !navigator.hasOwnProperty("appName")) { return "" } var h = navigator.userAgent, f = navigator.appName, g, e; return (e = h.indexOf("Opera")) != -1 || (e = h.indexOf("OPR/")) != -1 ? f = "Opera" : (e = h.indexOf("Android")) != -1 ? f = "Android" : (e = h.indexOf("Chrome")) != -1 ? f = "Chrome" : (e = h.indexOf("Safari")) != -1 ? f = "Safari" : (e = h.indexOf("Firefox")) != -1 ? f = "Firefox" : (e = h.indexOf("IEMobile")) != -1 ? f = "Internet Explorer Mobile" : f == "Microsoft Internet Explorer" || f == "Netscape" ? f = "Internet Explorer" : (g = h.lastIndexOf(" ") + 1) < (e = h.lastIndexOf("/")) && (f = h.substring(g, e), f.toLowerCase() == f.toUpperCase() && (f = navigator.appName)), f }, getBrowserFullVersion: function () { if (typeof navigator == "undefined" || !navigator.hasOwnProperty("userAgent") || !navigator.hasOwnProperty("appName") || !navigator.hasOwnProperty("appVersion")) { return "" } var l = navigator.userAgent, e = navigator.appName, j = "" + parseFloat(navigator.appVersion), m, i, n, k; return (i = l.indexOf("Opera")) != -1 ? (j = l.substring(i + 6), (i = l.indexOf("Version")) != -1 && (j = l.substring(i + 8))) : (i = l.indexOf("OPR/")) != -1 ? j = l.substring(i + 4) : (i = l.indexOf("Android")) != -1 ? j = l.substring(i + 11) : (i = l.indexOf("Chrome")) != -1 ? j = l.substring(i + 7) : (i = l.indexOf("Safari")) != -1 ? (j = l.substring(i + 7), (i = l.indexOf("Version")) != -1 && (j = l.substring(i + 8))) : (i = l.indexOf("Firefox")) != -1 ? j = l.substring(i + 8) : e == "Microsoft Internet Explorer" ? (k = new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"), k.exec(l) != null && (j = parseFloat(RegExp.$1))) : e == "Netscape" ? (k = new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"), k.exec(l) != null && (j = parseFloat(RegExp.$1))) : l.lastIndexOf(" ") + 1 < (i = l.lastIndexOf("/")) && (j = l.substring(i + 1)), j = j.toString(), (n = j.indexOf(";")) != -1 && (j = j.substring(0, n)), (n = j.indexOf(" ")) != -1 && (j = j.substring(0, n)), (n = j.indexOf(")")) != -1 && (j = j.substring(0, n)), m = parseInt("" + j, 10), isNaN(m) && (j = "" + parseFloat(navigator.appVersion)), j }, browserAcceptsLargeURLs: function () { return typeof window != "undefined" ? window.ActiveXObject === null || !0 : !0 } } }(), ns_.StreamSense = ns_.StreamSense || function () { function t(D, q) { var A = D || "", F = "undefined", B = w.comScore || w.sitestat || function (P) { var Z = "comScore=", M = E.cookie, O = "", I = "indexOf", R = "substring", Y = "length", Q = S.browserAcceptsLargeURLs() ? m.URL_LENGTH_LIMIT : m.RESTRICTED_URL_LENGTH_LIMIT, H, J = "&ns_", aa = "&", K, V, X, U, W = w.encodeURIComponent || escape; if (M[I](Z) + 1) { for (X = 0, V = M.split(";"), U = V[Y]; X < U; X++) { K = V[X][I](Z), K + 1 && (O = aa + unescape(V[X][R](K + Z[Y]))) } } P += J + "_t=" + +(new Date) + J + "c=" + (E.characterSet || E.defaultCharset || "") + O, P.length > Q && P.indexOf(aa) > 0 && (H = P.substr(0, Q - 8).lastIndexOf(aa), P = (P.substring(0, H) + J + "cut=" + W(P.substring(H + 1))).substr(0, Q)), i.httpGet(P), typeof ns_p === F && (ns_p = { src: P }), ns_p.lastMeasurement = P }; if (typeof q !== F) { var z = [], G = w.encodeURIComponent || escape; for (var j in q) { q.hasOwnProperty(j) && z.push(G(j) + "=" + G(q[j])) } /[\?\&]$/.test(A) || (A += "&"), A += z.join("&") } return B(A) } function p(W, O) { var R, I = w.encodeURIComponent || escape, V = [], P = m.LABELS_ORDER, Y = W.split("?"), A = Y[0], F = Y[1], K = F.split("&"); for (var B = 0, H = K.length; B < H; B++) { var Q = K[B].split("="), D = unescape(Q[0]), j = unescape(Q[1]); D && (O[D] = j) } var M = {}; for (var G = 0, q = P.length; G < q; G++) { var X = P[G]; if (O.hasOwnProperty(X)) { var Z = O[X]; typeof Z != "undefined" && Z != null && (M[X] = !0, V.push(I(X) + "=" + I(O[X]))) } } for (var z in O) { if (O.hasOwnProperty(z)) { if (M[z]) { continue } var aa = O[z]; typeof aa != "undefined" && aa != null && V.push(I(z) + "=" + I(O[z])) } } R = A + "?" + V.join("&"), R = R + (R.indexOf("&c8=") < 0 ? "&c8=" + I(E.title) : "") + (R.indexOf("&c7=") < 0 ? "&c7=" + I(E.URL) : "") + (R.indexOf("&c9=") < 0 ? "&c9=" + I(E.referrer) : ""); var U = S.browserAcceptsLargeURLs() ? m.URL_LENGTH_LIMIT : m.RESTRICTED_URL_LENGTH_LIMIT; if (R.length > U && R.indexOf("&") > 0) { var J = R.substr(0, U - 8).lastIndexOf("&"); R = (R.substring(0, J) + "&ns_cut=" + I(R.substring(J + 1))).substr(0, U) } return R } var S = ns_.Utils, o = function () { var j = "cs_"; return function () { var q = typeof localStorage != "undefined" ? localStorage : {}; S.extend(this, { get: function (z) { return q[j + z] }, set: function (z, A) { q[j + z] = A }, has: function (z) { return j + z in q }, remove: function (z) { delete q[j + z] }, clear: function () { for (var z in q) { q.hasOwnProperty(z) && delete q[z] } } }) } }(), g = function () { var q = "cs_", j = function () { var z = this, A = typeof atv != "undefined" && typeof atv.localStorage != "undefined" && atv.localStorage || null; S.extend(this, { get: function (B) { return A && B && A.getItem(q + B) || null }, set: function (D, B) { A && D && (A[q + D] = B) }, has: function (B) { return A && B && A.getItem(q + B) != null || !1 }, remove: function (B) { A && B && A.removeItem(q + B) }, clear: function () { } }) }; return j }(), k = function (j, q) { if (typeof Image != "undefined") { var z = new Image; z.onload = function () { q && q(200), z = null }, z.onerror = function () { q && q(), z = null }, z.src = j } }, c = function (j, q) { typeof XMLHttpRequest != "undefined" && q && typeof setTimeout != "undefined" && setTimeout(q, 0); var z = new XMLHttpRequest; z.open("GET", j, !0), z.onreadystatechange = function () { z.readyState === 4 && (q && q(z.status), z = null) }, z.send() }, n = function (A, q, z) { typeof XMLHttpRequest != "undefined" && z && typeof setTimeout != "undefined" && setTimeout(z, 0); var j = new XMLHttpRequest; j.open("POST", A, !0), j.onreadystatechange = function () { j.readyState === 4 && (z && z(j.status), j = null) }, j.send(q) }, h = function (j, q) { q && typeof setTimeout != "undefined" && setTimeout(q, 0) }, r = function (j, q, z) { z && typeof setTimeout != "undefined" && setTimeout(z, 0) }, C = function () { function K(M) { var O = I + M; j[O] = "", D[O] = [] } function A(O, M) { var P = I + O; j[P] += H + F(M), D[P].push(M) } function J(U, V) { var Q = I + U, P = D[Q]; P.splice(S.indexOf(V, P), 1); var M = []; for (var R = 0, O = P.length; R < O; R++) { M.push(F(P[R])) } j[Q] = M.join(H), delete j[z + U + V] } function q(O, P, M) { j[z + O + P] = M } function G(M, O) { return j[z + M + O] } var F = typeof encodeURIComponent != "undefined" ? encodeURIComponent : escape, B = typeof decodeURIComponent != "undefined" ? decodeURIComponent : unescape, I = "cs_dir_", z = "cs_file_", j = typeof localStorage != "undefined" ? localStorage : {}, D = {}, H = "|"; return { dir: function (O) { var Q = I + O, U = D[Q]; if (U) { return U.slice() } var M = j[Q]; if (M) { M = M.split(H), U = []; for (var P = 0, R = M.length; P < R; P++) { M[P].length > 0 && U.push(B(M[P])) } return D[Q] = U, U.slice() } return null }, append: function (O, Q, M) { var P = C.read(O, Q); P ? P += M : P = M, C.write(O, Q, P) }, write: function (P, M, O) { var Q = C.dir(P); Q || (K(P), Q = []), S.indexOf(M, Q) == -1 && A(P, M), q(P, M, O) }, deleteFile: function (P, M) { var O = C.dir(P); return O ? S.indexOf(M, O) == -1 ? !1 : (J(P, M), !0) : !1 }, read: function (P, M) { var O = C.dir(P); return O ? S.indexOf(M, O) == -1 ? null : G(P, M) : null } } }(), T = function () { return { dir: function () { return null }, append: function (j, q, z) { }, write: function (j, q, z) { }, deleteFile: function () { return !1 }, read: function () { return null } } }(), e = function (A, q) { typeof engine != "undefined" && q && typeof setTimeout != "undefined" && setTimeout(q, 0); var z = engine.createHttpClient(), j = z.createRequest("GET", A, null); j.start(), q && setTimeout(q, 0) }, L = function (j, q) { if (typeof atv != "undefined" && typeof atv.setTimeout == "function") { typeof XMLHttpRequest != "undefined" && q && atv.setTimeout(q, 0); var z = new XMLHttpRequest; z.open("GET", j, !0), z.onreadystatechange = function () { z.readyState === 4 && (q && q(z.status), z = null) }, z.send() } }, b = function (A, q, z) { if (typeof atv != "undefined" && typeof atv.setTimeout == "function") { typeof XMLHttpRequest != "undefined" && z && atv.setTimeout(z, 0); var j = new XMLHttpRequest; j.open("POST", A, !0), j.onreadystatechange = function () { j.readyState === 4 && (z && z(j.status), j = null) }, j.send(q) } }, i = function () { return { PLATFORM: "generic", httpGet: k, httpPost: r, Storage: o, IO: T, getCrossPublisherId: function () { return null }, getAppName: function () { return Constants.UNKNOWN_VALUE }, getAppVersion: function () { return Constants.UNKNOWN_VALUE }, getVisitorId: function () { return this.getDeviceName() + +(new Date) + ~~(Math.random() * 1000) }, getVisitorIdSuffix: function () { return "72" }, getDeviceName: function () { return "" }, getPlatformVersion: function () { return "" }, getPlatformName: function () { return "js" }, getRuntimeName: function () { return "" }, getRuntimeVersion: function () { return "" }, getResolution: function () { return "" }, getLanguage: function () { return "" }, getPackageName: function () { return "" }, isConnectionAvailable: function () { return !0 }, isCompatible: function () { return !0 }, autoSelect: function () { }, setPlatformAPI: function () { }, isCrossPublisherIdChanged: function () { return !1 }, setTimeout: function (j, q, z) { return setTimeout(j, q, z) }, clearTimeout: function (j) { return clearTimeout(j) }, getDeviceArchitecture: function () { return Constants.UNKNOWN_VALUE }, getConnectionType: function () { return Constants.UNKNOWN_VALUE }, getDeviceJailBrokenFlag: function () { return Constants.UNKNOWN_VALUE } } }(), N = function () { function B() { return typeof engine != "undefined" && typeof engine.stats != "undefined" } function z() { return S.isNotEmpty(engine.stats.device.id) ? engine.stats.device.id : S.isNotEmpty(engine.stats.network.mac) ? engine.stats.network.mac : null } function j() { if (q == null) { var F = z(); F != null ? (q = F, A = "31", D = F) : (q = +(new Date) + ~~(Math.random() * 1000), A = "72", D = null) } } var q = null, A = null, D = null; return { PLATFORM: "trilithium", httpGet: e, httpPost: r, Storage: o, IO: T, getCrossPublisherId: function () { return j(), D }, getAppName: function () { return S.isNotEmpty(engine.stats.application.name) ? engine.stats.application.name : Constants.UNKNOWN_VALUE }, getAppVersion: function () { return S.isNotEmpty(engine.stats.application.version) ? engine.stats.application.version : Constants.UNKNOWN_VALUE }, getVisitorId: function () { return j(), q }, getVisitorIdSuffix: function () { return A }, getDeviceName: function () { return S.safeGet(engine.stats.device.platform, "") }, getPlatformVersion: function () { return S.safeGet(engine.stats.device.version, "") }, getPlatformName: function () { return "js" }, getRuntimeName: function () { return "trilithium" }, getRuntimeVersion: function () { return "" }, getResolution: function () { return typeof screen != "undefined" && typeof screen.height != "undefined" && typeof screen.width != "undefined" ? screen.height + "x" + screen.width : "" }, getLanguage: function () { return "" }, getPackageName: function () { return "" }, isConnectionAvailable: function () { return !0 }, isCompatible: B } }(), s = function () { function B() { return typeof window == "undefined" && typeof atv != "undefined" } function z() { j == null && (typeof atv != "undefined" && typeof atv.device != "undefined" && atv.device.idForVendor ? (j = S.safeGet(atv.device.idForVendor, ""), A = "62") : (j = +(new Date) + ~~(Math.random() * 1000), A = "72"), q = null) } var j = null, A = null, q = null; return { PLATFORM: "atv", httpGet: L, httpPost: b, Storage: g, IO: T, getCrossPublisherId: function () { return z(), q }, getAppName: function () { return Constants.UNKNOWN_VALUE }, getAppVersion: function () { return Constants.UNKNOWN_VALUE }, getVisitorId: function () { return z(), j }, getVisitorIdSuffix: function () { return A }, getDeviceName: function () { return "Apple TV" }, getPlatformVersion: function () { return typeof atv != "undefined" && typeof atv.device != "undefined" && S.safeGet(atv.device.softwareVersion, "") }, getPlatformName: function () { return "js" }, getRuntimeName: function () { return "atv" }, getRuntimeVersion: function () { return typeof atv != "undefined" && typeof atv.device != "undefined" && S.safeGet(atv.device.softwareVersion, "") }, getResolution: function () { return typeof atv.device != "undefined" && typeof atv.device.screenFrame != "undefined" && typeof atv.device.screenFrame.height != "undefined" && typeof atv.device.screenFrame.width != "undefined" ? atv.device.screenFrame.height + "x" + atv.device.screenFrame.width : "" }, getLanguage: function () { return typeof atv != "undefined" && typeof atv.device != "undefined" && S.safeGet(atv.device.language, "") }, getPackageName: function () { return "" }, isConnectionAvailable: function () { return !0 }, setTimeout: function (F, G, D) { return typeof atv != "undefined" && typeof atv.setTimeout != "undefined" && atv.setTimeout(F, G, D) }, clearTimeout: function (D) { return typeof atv != "undefined" && typeof atv.clearTimeout != "undefined" && atv.clearTimeout(D) }, isCompatible: B } }(), f = function () { function j() { return typeof window != "undefined" && typeof document != "undefined" } return { PLATFORM: "chromecast", httpGet: k, httpPost: n, Storage: o, IO: C, getCrossPublisherId: function () { return null }, getAppName: function () { return typeof document != "undefined" && document.title || Constants.UNKNOWN_VALUE }, getAppVersion: function () { return Constants.UNKNOWN_VALUE }, getVisitorId: function () { return +(new Date) + ~~(Math.random() * 1000) }, getVisitorIdSuffix: function () { return "72" }, getDeviceName: function () { return "chromecast" }, getPlatformVersion: function () { return "5" }, getPlatformName: function () { return "js" }, getRuntimeName: function () { return "html" }, getRuntimeVersion: function () { return S.safeGet(S.getBrowserName() + " " + S.getBrowserFullVersion(), Constants.UNKNOWN_VALUE) }, getResolution: function () { var q = typeof window != "undefined" && S.exists(window.screen) && S.exists(window.screen.availWidth) ? window.screen.availWidth : 0, z = typeof window != "undefined" && S.exists(window.screen) && S.exists(window.screen.availHeight) ? window.screen.availHeight : 0; return q > 0 && z > 0 ? q + "x" + z : "" }, getLanguage: function () { return typeof window != "undefined" && S.exists(window.navigator) && S.safeGet(window.navigator.language, "") || "" }, getPackageName: function () { return typeof castReceiverManager != "undefined" && castReceiverManager.getApplicationData && typeof castReceiverManager.getApplicationData == "function" && castReceiverManager.getApplicationData().namespaces && castReceiverManager.getApplicationData().namespaces[0] || "" }, isConnectionAvailable: function () { return typeof window != "undefined" && S.exists(window.navigator) && S.safeGet(window.navigator.onLine, !0) || !0 }, isCompatible: j, getConnectionType: function () { return Constants.UNKNOWN_VALUE } } }(); i.autoSelect = function () { N.isCompatible() ? ns_.Utils.extend(i, N) : s.isCompatible() && ns_.Utils.extend(i, s) }, i.setPlatformAPI = function (q) { var j = !1; switch (q) { case ns_.PlatformAPIs.Trilithium: ns_.Utils.extend(i, N), j = !0; break; case ns_.PlatformAPIs.AppleTV: ns_.Utils.extend(i, s), j = !0; break; case ns_.PlatformAPIs.Chromecast: S.extend(i, f), j = !0 } j && (i.autoSelect = function () { }) }; var a = typeof window != "undefined" && typeof document != "undefined", w, E; a ? (w = window, E = document) : (w = {}, E = { location: { href: "" }, title: "", URL: "", referrer: "", cookie: "" }); var S = S || {}; S.filterMap = function (q, z) { for (var j in q) { q.hasOwnProperty(j) && S.indexOf(j, z) == -1 && delete q[j] } }, S.getKeys = function (A, q) { var z, j = []; for (z in A) { (!q || q.test(z)) && A.hasOwnProperty(z) && (j[j.length] = z) } return j }; var v = function () { var j = ["play", "pause", "end", "buffer", "keep-alive", "hb", "custom", "ad_play", "ad_pause", "ad_end", "ad_click"]; return { PLAY: 0, PAUSE: 1, END: 2, BUFFER: 3, KEEP_ALIVE: 4, HEART_BEAT: 5, CUSTOM: 6, AD_PLAY: 7, AD_PAUSE: 8, AD_END: 9, AD_CLICK: 10, toString: function (q) { return j[q] } } }(), u = function () { var j = [v.END, v.PLAY, v.PAUSE, v.BUFFER]; return { IDLE: 0, PLAYING: 1, PAUSED: 2, BUFFERING: 3, toEventType: function (q) { return j[q] } } }(), y = { ADPLAY: v.AD_PLAY, ADPAUSE: v.AD_PAUSE, ADEND: v.AD_END, ADCLICK: v.AD_CLICK }, m = { STREAMSENSE_VERSION: "4.1505.18", DEFAULT_PLAYERNAME: "streamsense", DEFAULT_HEARTBEAT_INTERVAL: [{ playingtime: 60000, interval: 10000 }, { playingtime: null, interval: 60000 }], DEFAULT_KEEP_ALIVE_INTERVAL: 1200000, DEFAULT_PAUSED_ON_BUFFERING_INTERVAL: 500, C1_VALUE: "19", C10_VALUE: "js", NS_AP_C12M_VALUE: "1", NS_NC_VALUE: "1", PAGE_NAME_LABEL: "name", RESTRICTED_URL_LENGTH_LIMIT: 2048, URL_LENGTH_LIMIT: 4096, LABELS_ORDER: ["c1", "c2", "ca2", "cb2", "cc2", "cd2", "ns_site", "ca_ns_site", "cb_ns_site", "cc_ns_site", "cd_ns_site", "ns_vsite", "ca_ns_vsite", "cb_ns_vsite", "cc_ns_vsite", "cd_ns_vsite", "ns_ap_an", "ca_ns_ap_an", "cb_ns_ap_an", "cc_ns_ap_an", "cd_ns_ap_an", "ns_ap_pn", "ns_ap_pv", "c12", "ca12", "cb12", "cc12", "cd12", "ns_ak", "ns_ap_hw", "name", "ns_ap_ni", "ns_ap_ec", "ns_ap_ev", "ns_ap_device", "ns_ap_id", "ns_ap_csf", "ns_ap_bi", "ns_ap_pfm", "ns_ap_pfv", "ns_ap_ver", "ca_ns_ap_ver", "cb_ns_ap_ver", "cc_ns_ap_ver", "cd_ns_ap_ver", "ns_ap_sv", "ns_ap_cv", "ns_type", "ca_ns_type", "cb_ns_type", "cc_ns_type", "cd_ns_type", "ns_radio", "ns_nc", "ns_ap_ui", "ca_ns_ap_ui", "cb_ns_ap_ui", "cc_ns_ap_ui", "cd_ns_ap_ui", "ns_ap_gs", "ns_st_sv", "ns_st_pv", "ns_st_it", "ns_st_id", "ns_st_ec", "ns_st_sp", "ns_st_sq", "ns_st_cn", "ns_st_ev", "ns_st_po", "ns_st_cl", "ns_st_el", "ns_st_pb", "ns_st_hc", "ns_st_mp", "ca_ns_st_mp", "cb_ns_st_mp", "cc_ns_st_mp", "cd_ns_st_mp", "ns_st_mv", "ca_ns_st_mv", "cb_ns_st_mv", "cc_ns_st_mv", "cd_ns_st_mv", "ns_st_pn", "ns_st_tp", "ns_st_pt", "ns_st_pa", "ns_st_ad", "ns_st_li", "ns_st_ci", "ns_ap_jb", "ns_ap_res", "ns_ap_sd", "ns_ap_po", "ns_ap_ot", "ns_ap_c12m", "cs_c12u", "ns_ap_install", "ns_ap_updated", "ns_ap_lastrun", "ns_ap_cs", "ns_ap_runs", "ns_ap_usage", "ns_ap_fg", "ns_ap_ft", "ns_ap_dft", "ns_ap_bt", "ns_ap_dbt", "ns_ap_dit", "ns_ap_as", "ns_ap_das", "ns_ap_it", "ns_ap_uc", "ns_ap_aus", "ns_ap_daus", "ns_ap_us", "ns_ap_dus", "ns_ap_ut", "ns_ap_oc", "ns_ap_uxc", "ns_ap_uxs", "ns_ap_lang", "ns_ap_ar", "ns_ap_miss", "ns_ts", "ns_st_ca", "ns_st_cp", "ns_st_er", "ca_ns_st_er", "cb_ns_st_er", "cc_ns_st_er", "cd_ns_st_er", "ns_st_pe", "ns_st_ui", "ca_ns_st_ui", "cb_ns_st_ui", "cc_ns_st_ui", "cd_ns_st_ui", "ns_st_bc", "ns_st_bt", "ns_st_bp", "ns_st_pc", "ns_st_pp", "ns_st_br", "ns_st_ub", "ns_st_vo", "ns_st_ws", "ns_st_pl", "ns_st_pr", "ns_st_ep", "ns_st_ty", "ns_st_ct", "ns_st_cs", "ns_st_ge", "ns_st_st", "ns_st_dt", "ns_st_de", "ns_st_pu", "ns_st_cu", "ns_st_fee", "ns_ap_i1", "ns_ap_i2", "ns_ap_i3", "ns_ap_i4", "ns_ap_i5", "ns_ap_i6", "ns_ap_referrer", "ns_clid", "ns_campaign", "ns_source", "ns_mchannel", "ns_linkname", "ns_fee", "gclid", "utm_campaign", "utm_source", "utm_medium", "utm_term", "utm_content", "c3", "ca3", "cb3", "cc3", "cd3", "c4", "ca4", "cb4", "cc4", "cd4", "c5", "ca5", "cb5", "cc5", "cd5", "c6", "ca6", "cb6", "cc6", "cd6", "c10", "c11", "c13", "c14", "c15", "c16", "c7", "c8", "c9", "ns_ap_er"] }, l = function () { return function () { function D(M, J) { var K = J[M]; K != null && (A[M] = K) } var j = this, F = 0, H = 0, B = 0, I = 0, G = 0, q = 0, z, A; S.extend(this, { reset: function (J) { J != null && J.length > 0 ? S.filterMap(A, J) : A = {}, A.hasOwnProperty("ns_st_cl") || (A.ns_st_cl = "0"), A.hasOwnProperty("ns_st_pn") || (A.ns_st_pn = "1"), A.hasOwnProperty("ns_st_tp") || (A.ns_st_tp = "1"), j.setPauses(0), j.setStarts(0), j.setBufferingTime(0), j.setBufferingTimestamp(-1), j.setPlaybackTime(0), j.setPlaybackTimestamp(-1) }, setLabels: function (K, J) { K != null && S.extend(A, K), j.setRegisters(A, J) }, getLabels: function () { return A }, setLabel: function (M, K) { var J = {}; J[M] = K, j.setLabels(J, null) }, getLabel: function (J) { return A[J] }, getClipId: function () { return (typeof z == "undefined" || z == null) && j.setClipId("1"), z }, setClipId: function (J) { z = J }, setRegisters: function (K, M) { var J = K.ns_st_cn; J != null && (j.setClipId(J), delete K.ns_st_cn), J = K.ns_st_bt, J != null && (B = Number(J), delete K.ns_st_bt), D("ns_st_cl", K), D("ns_st_pn", K), D("ns_st_tp", K), D("ns_st_ub", K), D("ns_st_br", K); if (M == u.PLAYING || M == null) { J = K.ns_st_sq, J != null && (H = Number(J), delete K.ns_st_sq) } M != u.BUFFERING && (J = K.ns_st_pt, J != null && (G = Number(J), delete K.ns_st_pt)); if (M == u.PAUSED || M == u.IDLE || M == null) { J = K.ns_st_pc, J != null && (F = Number(J), delete K.ns_st_pc) } }, createLabels: function (K, M) { var J = M || {}; J.ns_st_cn = j.getClipId(), J.ns_st_bt = String(j.getBufferingTime()); if (K == v.PLAY || K == null) { J.ns_st_sq = String(H) } if (K == v.PAUSE || K == v.END || K == v.KEEP_ALIVE || K == v.HEART_BEAT || K == null) { J.ns_st_pt = String(j.getPlaybackTime()), J.ns_st_pc = String(F) } return S.extend(J, j.getLabels()), J }, incrementPauses: function () { F++ }, incrementStarts: function () { H++ }, getBufferingTime: function () { var J = B; return I >= 0 && (J += +(new Date) - I), J }, setBufferingTime: function (J) { B = J }, getPlaybackTime: function () { var J = G; return q >= 0 && (J += +(new Date) - q), J }, setPlaybackTime: function (J) { G = J }, getPlaybackTimestamp: function () { return q }, setPlaybackTimestamp: function (J) { q = J }, getBufferingTimestamp: function () { return I }, setBufferingTimestamp: function (J) { I = J }, getPauses: function () { return F }, setPauses: function (J) { F = J }, getStarts: function () { return H }, setStarts: function (J) { H = J } }), A = {}, j.reset() } }(), d = function () { return function () { var I = this, D = null, G, A = 0, H = 0, F = 0, J = 0, j = 0, z, B = 0, q = !1; S.extend(this, { reset: function (K) { K != null && K.length > 0 ? S.filterMap(z, K) : z = {}, I.setPlaylistId(+(new Date) + "_" + B), I.setBufferingTime(0), I.setPlaybackTime(0), I.setPauses(0), I.setStarts(0), I.setRebufferCount(0), q = !1 }, setLabels: function (M, K) { M != null && S.extend(z, M), I.setRegisters(z, K) }, getLabels: function () { return z }, setLabel: function (O, M) { var K = {}; K[O] = M, I.setLabels(K, null) }, getLabel: function (K) { return z[K] }, getClip: function () { return D }, getPlaylistId: function () { return G }, setPlaylistId: function (K) { G = K }, setRegisters: function (O, K) { var M = O.ns_st_sp; M != null && (A = Number(M), delete O.ns_st_sp), M = O.ns_st_bc, M != null && (F = Number(M), delete O.ns_st_bc), M = O.ns_st_bp, M != null && (J = Number(M), delete O.ns_st_bp), M = O.ns_st_id, M != null && (G = M, delete O.ns_st_id), K != u.BUFFERING && (M = O.ns_st_pa, M != null && (j = Number(M), delete O.ns_st_pa)); if (K == u.PAUSED || K == u.IDLE || K == null) { M = O.ns_st_pp, M != null && (H = Number(M), delete O.ns_st_pp) } }, createLabels: function (K, M) { var O = M || {}; O.ns_st_bp = String(I.getBufferingTime()), O.ns_st_sp = String(A), O.ns_st_id = String(G), F > 0 && (O.ns_st_bc = String(F)); if (K == v.PAUSE || K == v.END || K == v.KEEP_ALIVE || K == v.HEART_BEAT || K == null) { O.ns_st_pa = String(I.getPlaybackTime()), O.ns_st_pp = String(H) } if (K == v.PLAY || K == null) { I.didFirstPlayOccurred() || (O.ns_st_pb = "1", I.setFirstPlayOccurred(!0)) } return S.extend(O, I.getLabels()), O }, incrementStarts: function () { A++ }, incrementPauses: function () { H++, D.incrementPauses() }, setPlaylistCounter: function (K) { B = K }, incrementPlaylistCounter: function () { B++ }, addPlaybackTime: function (M) { if (D.getPlaybackTimestamp() >= 0) { var K = M - D.getPlaybackTimestamp(); D.setPlaybackTimestamp(-1), D.setPlaybackTime(D.getPlaybackTime() + K), I.setPlaybackTime(I.getPlaybackTime() + K) } }, addBufferingTime: function (M) { if (D.getBufferingTimestamp() >= 0) { var K = M - D.getBufferingTimestamp(); D.setBufferingTimestamp(-1), D.setBufferingTime(D.getBufferingTime() + K), I.setBufferingTime(I.getBufferingTime() + K) } }, getBufferingTime: function () { var K = J; return D.getBufferingTimestamp() >= 0 && (K += +(new Date) - D.getBufferingTimestamp()), K }, setBufferingTime: function (K) { J = K }, getPlaybackTime: function () { var K = j; return D.getPlaybackTimestamp() >= 0 && (K += +(new Date) - D.getPlaybackTimestamp()), K }, setPlaybackTime: function (K) { j = K }, getStarts: function () { return A }, setStarts: function (K) { A = K }, getPauses: function () { return H }, setPauses: function (K) { H = K }, getRebufferCount: function () { return F }, incrementRebufferCount: function () { F++ }, setRebufferCount: function (K) { F = K }, didFirstPlayOccurred: function () { return q }, setFirstPlayOccurred: function (K) { q = K } }), D = new l, z = {}, I.reset() } }(), x = function () { var j = function (aj, ab, ag) { function af(aC) { var aE = 0; if (be != null) { for (var aB = 0; aB < be.length; aB++) { var aD = be[aB], aA = aD.playingtime; if (!aA || aC < aA) { aE = aD.interval; break } } } return aE } function Y() { bp(); var aB = af(al.getClip().getPlaybackTime()); if (aB > 0) { var aA = U > 0 ? U : aB; M = i.setTimeout(bh, aA) } U = 0 } function Z() { bp(); var aA = af(al.getClip().getPlaybackTime()); U = aA - al.getClip().getPlaybackTime() % aA, M != null && bp() } function an() { U = 0, bu = 0, Q = 0 } function bh() { Q++; var aA = O(v.HEART_BEAT, null); aq(aA), U = 0, Y() } function bp() { M != null && (i.clearTimeout(M), M = null) } function bf() { J(), bw = i.setTimeout(ao, P) } function ao() { var aA = O(v.KEEP_ALIVE, null); aq(aA), bi++, bf() } function J() { bw != null && (i.clearTimeout(bw), bw = null) } function K() { B(), bn.isPauseOnBufferingEnabled() && H(u.PAUSED) && (bl = i.setTimeout(W, ax)) } function W() { if (V == u.PLAYING) { al.incrementRebufferCount(), al.incrementPauses(); var aA = O(v.PAUSE, null); aq(aA), bi++, V = u.PAUSED } } function B() { bl != null && (i.clearTimeout(bl), bl = null) } function bs(aA) { return aA == u.PLAYING || aA == u.PAUSED } function bt() { br && (i.clearTimeout(br), br = null) } function ae(aA) { return aA == v.PLAY ? u.PLAYING : aA == v.PAUSE ? u.PAUSED : aA == v.BUFFER ? u.BUFFERING : aA == v.END ? u.IDLE : null } function bj(aG, aE, aI) { bt(); if (aI) { br = i.setTimeout(function (aK, aL) { return function () { bj(aK, aL) } }(aG, aE), aI) } else { if (aw(aG)) { var aB = G(), aC = bv, aF = at(aE), aA = aC >= 0 ? aF - aC : 0; ar(G(), aE), ap(aG, aE), X(G()), ac(aG); for (var aJ = 0, aH = A.length; aJ < aH; aJ++) { A[aJ](aB, aG, aE, aA) } bo(aE), al.setRegisters(aE, aG), al.getClip().setRegisters(aE, aG); var aD = O(u.toEventType(aG), aE); S.extend(aD, aE), H(bm) && (aq(aD), V = bm, bi++) } } } function bo(aB) { var aA = aB.ns_st_mp; aA != null && (F = aA, delete aB.ns_st_mp), aA = aB.ns_st_mv, aA != null && (ay = aA, delete aB.ns_st_mv), aA = aB.ns_st_ec, aA != null && (bi = Number(aA), delete aB.ns_st_ec) } function aq(aD, aA) { aA === undefined && (aA = !0), aA && D(aD); var aB = bn.getPixelURL(); if (aa) { if (!au()) { var aE = I.am, aF = I.et, aC = aE.newApplicationMeasurement(aa, aF.HIDDEN, aD, aB); aa.getQueue().offer(aC) } } else { aB && i.httpGet(p(aB, aD)) } } function au() { var aC = aa.getAppContext(), aA = aa.getSalt(), aB = aa.getPixelURL(); return aC == null || aA == null || aA.length == 0 || aB == null || aB.length == 0 } function D(aA) { bq = O(null), S.extend(bq, aA) } function ar(aD, aB) { var aC = at(aB); if (aD == u.PLAYING) { al.addPlaybackTime(aC), Z(), J() } else { if (aD == u.BUFFERING) { al.addBufferingTime(aC), B() } else { if (aD == u.IDLE) { var aA = S.getKeys(al.getClip().getLabels()); al.getClip().reset(aA) } } } } function ap(aC, aA) { var aB = at(aA); bk = av(aA), aC == u.PLAYING ? (Y(), bf(), al.getClip().setPlaybackTimestamp(aB), H(aC) && (al.getClip().incrementStarts(), al.getStarts() < 1 && al.setStarts(1))) : aC == u.PAUSED ? H(aC) && al.incrementPauses() : aC == u.BUFFERING ? (al.getClip().setBufferingTimestamp(aB), am && K()) : aC == u.IDLE && an() } function H(aA) { return aA != u.PAUSED && aA != u.IDLE || V != u.IDLE && V != null ? aA != u.BUFFERING && V != aA : !1 } function av(aA) { var aB = -1; return aA.hasOwnProperty("ns_st_po") && (aB = S.getInteger(aA.ns_st_po)), aB } function at(aB) { var aA = -1; return aB.hasOwnProperty("ns_ts") && (aA = Number(aB.ns_ts)), aA } function aw(aA) { return aA != null && G() != aA } function ac(aA) { bm = aA, bv = +(new Date) } function G() { return bm } function X(aA) { bx = aA } function z() { return bx } function O() { var aA, aB; arguments.length == 1 ? (aA = u.toEventType(bm), aB = arguments[0]) : (aA = arguments[0], aB = arguments[1]); var aC = {}; if (typeof document != "undefined") { var aD = document; aC.c7 = aD.URL, aC.c8 = aD.title, aC.c9 = aD.referrer } return aB != null && S.extend(aC, aB), aC.hasOwnProperty("ns_ts") || (aC.ns_ts = String(+(new Date))), aA != null && !aC.hasOwnProperty("ns_st_ev") && (aC.ns_st_ev = v.toString(aA)), S.extend(aC, bn.getLabels()), R(aA, aC), al.createLabels(aA, aC), al.getClip().createLabels(aA, aC), aC.hasOwnProperty("ns_st_mp") || (aC.ns_st_mp = F), aC.hasOwnProperty("ns_st_mv") || (aC.ns_st_mv = ay), aC.hasOwnProperty("ns_st_ub") || (aC.ns_st_ub = "0"), aC.hasOwnProperty("ns_st_br") || (aC.ns_st_br = "0"), aC.hasOwnProperty("ns_st_pn") || (aC.ns_st_pn = "1"), aC.hasOwnProperty("ns_st_tp") || (aC.ns_st_tp = "1"), aC.hasOwnProperty("ns_st_it") || (aC.ns_st_it = "c"), aC.ns_st_sv = m.STREAMSENSE_VERSION, aC.ns_type = "hidden", aC } function R(aE, aB) { var aC = aB || {}; aC.ns_st_ec = String(bi); if (!aC.hasOwnProperty("ns_st_po")) { var aA = bk, aD = at(aC); if (aE == v.PLAY || aE == v.KEEP_ALIVE || aE == v.HEART_BEAT || aE == null && bm == u.PLAYING) { aA += aD - al.getClip().getPlaybackTimestamp() } aC.ns_st_po = S.getInteger(aA) } return aE == v.HEART_BEAT && (aC.ns_st_hc = String(Q)), aC } function az(aB) { var aA = at(aB); aA < 0 && (aB.ns_ts = String(+(new Date))) } function ah(aC, aA, aB) { aA = aA || {}, aA.ns_st_ad = 1, aC >= v.AD_PLAY && aC <= v.AD_CLICK && bn.notify(aC, aA, aB) } function bg(aB, aA) { bn.notify(v.CUSTOM, aB, aA) } var bn = this, ai = 500, ad, ak = null, bv = 0, bk = 0, br, bx, bm, bi = 0, al = null, aa, bl, am = !0, bw, M, be = m.DEFAULT_HEARTBEAT_INTERVAL, P = m.DEFAULT_KEEP_ALIVE_INTERVAL, ax = m.DEFAULT_PAUSED_ON_BUFFERING_INTERVAL, U = 0, Q = 0, bu = 0, q = !1, V, F, ay, bq, A, I = {}; ag ? i.setPlatformAPI(ag) : i.autoSelect(), S.extend(this, { reset: function (aA) { al.reset(aA), al.setPlaylistCounter(0), al.setPlaylistId(+(new Date) + "_1"), al.getClip().reset(aA), aA != null && !aA.isEmpty() ? S.filterMap(ad, aA) : ad = {}, bi = 1, Q = 0, Z(), an(), J(), B(), bt(), bm = u.IDLE, bx = null, bv = -1, V = null, F = m.DEFAULT_PLAYERNAME, ay = m.STREAMSENSE_VERSION, bq = null }, setPauseOnBufferingInterval: function (aA) { ax = aA }, getPauseOnBufferingInterval: function () { return ax }, setKeepAliveInterval: function (aA) { P = aA }, getKeepAliveInterval: function () { return P }, setHeartbeatIntervals: function (aA) { be = aA }, notify: function () { var aE, aB, aD, aC; aB = arguments[0], arguments.length == 3 ? (aD = arguments[1], aC = arguments[2]) : (aD = {}, aC = arguments[1]); if (!v.toString(aB)) { return } aE = ae(aB); var aF = S.extend({}, aD); az(aF), aF.hasOwnProperty("ns_st_po") || (aF.ns_st_po = S.getInteger(aC).toString()); if (aB == v.PLAY || aB == v.PAUSE || aB == v.BUFFER || aB == v.END) { bn.isThrottlingEnabled() && bs(bm) && bs(aE) && (bm != u.PLAYING || aE != u.PAUSED || !!br) ? bj(aE, aF, ai) : bj(aE, aF) } else { var aA = O(aB, aF); S.extend(aA, aF), aq(aA, !1), bi++ } }, getLabels: function () { return ad }, getState: function () { return bm }, setLabels: function (aB) { for (var aA in aB) { aB.hasOwnProperty(aA) && bn.setLabel(aA, aB[aA]) } }, getLabel: function (aA) { return ad[aA] }, setLabel: function (aB, aA) { aA == null ? delete ad[aB] : ad[aB] = aA }, setPixelURL: function (aD) { if (aD == null || aD.length == 0) { return null } var aH = decodeURIComponent || unescape, aB = aD.indexOf("?"); if (aB >= 0) { if (aB < aD.length - 1) { var aF = aD.substring(aB + 1).split("&"); for (var aG = 0, aC = aF.length; aG < aC; aG++) { var aA = aF[aG], aE = aA.split("="); aE.length == 2 ? bn.setLabel(aE[0], aH(aE[1])) : aE.length == 1 && bn.setLabel(m.PAGE_NAME_LABEL, aH(aE[0])) } aD = aD.substring(0, aB + 1) } } else { aD += "?" } return ak = aD, ak }, getPixelURL: function () { return ak ? ak : typeof ns_p != "undefined" && typeof ns_p.src == "string" ? ak = ns_p.src.replace(/&amp;/, "&").replace(/&ns__t=\d+/, "") : typeof ns_pixelUrl == "string" ? ak = ns_pixelUrl.replace(/&amp;/, "&").replace(/&ns__t=\d+/, "") : null }, isPauseOnBufferingEnabled: function () { return am }, setPauseOnBufferingEnabled: function (aA) { am = aA }, isThrottlingEnabled: function () { return q }, setThrottlingEnabled: function (aA) { q = aA }, setThrottlingDelay: function (aA) { aA && aA > 0 && (ai = aA) }, getThrottlingDelay: function () { return ai }, setClip: function (aC, aA) { var aB = !1; return bm == u.IDLE && (al.getClip().reset(), al.getClip().setLabels(aC, null), aA && al.incrementStarts(), aB = !0), aB }, setPlaylist: function (aB) { var aA = !1; return bm == u.IDLE && (al.incrementPlaylistCounter(), al.reset(), al.getClip().reset(), al.setLabels(aB, null), aA = !0), aA }, importState: function (aA) { reset(); var aB = S.extend({}, aA); al.setRegisters(aB, null), al.getClip().setRegisters(aB, null), bo(aB), bi++ }, exportState: function () { return bq }, getVersion: function () { return m.STREAMSENSE_VERSION }, addListener: function (aA) { A.push(aA) }, removeListener: function (aA) { A.splice(S.indexOf(aA, A), 1) }, getClip: function () { return al.getClip() }, getPlaylist: function () { return al }, setHttpGet: function (aA) { typeof aA == "function" && (i.httpGet = aA) }, setHttpPost: function (aA) { typeof aA == "function" && (i.httpPost = aA) } }), S.extend(this, { adNotify: ah, customNotify: bg, viewNotify: function (aB, aA) { aB = aB || bn.getPixelURL(), aB && t(aB, aA) } }), ns_.comScore && (I = ns_.comScore.exports, aa = I.c()), ad = {}, bi = 1, bm = u.IDLE, al = new d, bl = null, am = !0, M = null, Q = 0, an(), bw = null, br = null, q = !1, V = null, bk = 0, A = [], bn.reset(), aj && bn.setLabels(aj), ab && bn.setPixelURL(ab) }; return function (X) { function W(ad, ac) { return P[K] || Z(ad, ac) } function Q() { K = -1; for (var ac = 0; ac <= U; ac++) { if (P.hasOwnProperty(String(ac))) { K = ac; break } } return ns_.StreamSense.activeIndex = K, K } function Z(ad, ac) { return ad = ad || null, ac = ac || null, ad && typeof ad == "object" && (ac = ad, ad = null), P[++U] = new ns_.StreamSense(ac, ad), Q(), P[U] } function A() { var ad = !1, ac = K; if (typeof arguments[0] == "number" && isFinite(arguments[0])) { ac = arguments[0] } else { if (arguments[0] instanceof ns_.StreamSense) { for (var ae in P) { if (P.hasOwnProperty(ae) && P[ae] === arguments[0]) { ac = ae; break } } } } return P.hasOwnProperty(String(ac)) && (ad = P[ac], delete P[ac], ad.reset(), Q()), ad } function G(ac) { return ac = ac || {}, W().setPlaylist(ac), W().getPlaylist() } function M(ae, ac, ad) { return ae = ae || {}, typeof ac == "number" && (ae.ns_st_cn = ac), W().setClip(ae, ad), W().getClip() } function D(ae, ac, ad) { return typeof ae == "undefined" ? !1 : (ad = ad || null, ac = ac || {}, W().notify(ae, ac, ad)) } function I(ac) { typeof ac != "undefined" && W().setLabels(ac) } function R() { return W().getLabels() } function F(ac) { typeof ac != "undefined" && W().getPlaylist().setLabels(ac) } function aa() { return W().getPlaylist().getLabels() } function O(ac) { typeof ac != "undefined" && W().getClip().setLabels(ac) } function H() { return W().getClip().getLabels() } function J(ac) { return W().reset(ac || {}) } function B(ac) { return W().getPlaylist().reset(ac || {}) } function q(ac) { return W().getClip().reset(ac || {}) } function Y(ac) { return ac = ac || {}, W().viewNotify(null, ac) } function V(ad, ac) { return arguments.length > 2 && (ad = arguments[1], ac = arguments[2]), ad = ad || {}, typeof ac == "number" && (ad.ns_st_po = ac), W().customNotify(ad, ac) } function z() { return W().exportState() } function ab(ac) { W().importState(ac) } var P = {}, U = -1, K = -1; S.extend(X, { activeIndex: K, newInstance: Z, "new": Z, destroyInstance: A, destroy: A, newPlaylist: G, newClip: M, notify: D, setLabels: I, getLabels: R, setPlaylistLabels: F, getPlaylistLabels: aa, setClipLabels: O, getClipLabels: H, resetInstance: J, resetPlaylist: B, resetClip: q, viewEvent: Y, customEvent: V, exportState: z, importState: ab }) }(j), j }(); return x.AdEvents = y, x.PlayerEvents = v, x.InternalStates = u, x.getPlatformAPI = function () { return i }, x }(), ns_.StreamingTag = ns_.StreamingTag || function () { var j = ns_.Utils, e = ns_.StreamSense, i = ns_.StreamSense.PlayerEvents, k = ns_.StreamSense.AdEvents, h = ns_.StreamSense.InternalStates || null, l = ns_.StreamSense.InternalStates != null; return function () { var a = function (d) { function y() { if (!l) { return } if (ns_.comScore) { f = new e, f.setLabel("ns_st_it", "r") } else { if (j.exists(d)) { p = j.isTrue(d.debug); if (j.exists(d.customerC2) && d.customerC2.length > 0) { var n = d.secure ? "https://sb" : "http" + (document.location.href.charAt(4) == "s" ? "s://sb" : "://b"); f = new e, f.setPixelURL(n + ".scorecardresearch.com/p?c1=2"), f.setLabel("c2", d.customerC2), f.setLabel("ns_st_it", "r") } else { p && console && console.log("Warning: customerC2 is not provided (or incorrect) in the StreamingTag configuration.") } } } } function w(n) { return j.exists(n) || (n = {}), j.exists(n.ns_st_ci) || (n.ns_st_ci = "0"), j.exists(n.c3) || (n.c3 = "*null"), j.exists(n.c4) || (n.c4 = "*null"), j.exists(n.c6) || (n.c6 = "*null"), n } function o(n) { return u > 0 && n >= u ? b += n - u : b = 0, b } function O(n) { f.getState() != h.IDLE && f.getState() != h.PAUSED ? f.notify(i.END, o(n)) : f.getState() == h.PAUSED && f.notify(i.END, b) } function c(n) { return M("ns_st_ci", m, n) && M("c3", m, n) && M("c4", m, n) && M("c6", m, n) } function M(q, t, z) { if (j.exists(q) && j.exists(t) && j.exists(z)) { var s = t[q], n = z[q]; return j.exists(s) && j.exists(n) && s === n } return !1 } function r(q, n) { O(q), x++; var s = { ns_st_cn: x, ns_st_pn: "1", ns_st_tp: "0" }; j.extend(s, n), f.setClip(s), m = n, u = q, b = 0, f.notify(i.PLAY, b) } function P(q) { var n = +(new Date); O(n), x++, q = w(q); var s = { ns_st_cn: x, ns_st_pn: "1", ns_st_tp: "1", ns_st_ad: "1" }; j.extend(s, q), f.setClip(s), b = 0, f.notify(i.PLAY, b), u = n, v = !1 } function N(n, s) { var q = +(new Date); n = w(n), g == E.None && (g = s), v && g == s ? c(n) ? (f.getClip().setLabels(n), f.getState() != h.PLAYING && (u = q, f.notify(i.PLAY, b))) : r(q, n) : r(q, n), v = !0, g = s } var x = 0, u = 0, b = 0, m = null, v = !1, f = null, p = !1, E = { None: 0, AudioContent: 1, VideoContent: 2 }, g = E.None; j.extend(this, { playAdvertisement: function () { if (!f) { return } p && console && console.warn("Calling deprecated function 'playAdvertisement'. Please call 'playVideoAdvertisement' or 'playAudioAdvertisement' functions instead."); var n = { ns_st_ct: "va" }; P(n) }, playVideoAdvertisement: function (q) { if (!f) { return } var n = { ns_st_ct: "va" }; q && j.extend(n, q), P(n) }, playAudioAdvertisement: function (q) { if (!f) { return } var n = { ns_st_ct: "aa" }; q && j.extend(n, q), P(n) }, playContentPart: function (q) { if (!f) { return } p && console && console.warn("Calling deprecated function 'playContentPart'. Please call 'playVideoContentPart' or 'playAudioContentPart' functions instead."); var n = { ns_st_ct: "vc" }; q && j.extend(n, q), N(n, E.VideoContent) }, playVideoContentPart: function (q) { if (!f) { return } var n = { ns_st_ct: "vc" }; q && j.extend(n, q), N(n, E.VideoContent) }, playAudioContentPart: function (q) { if (!f) { return } var n = { ns_st_ct: "ac" }; q && j.extend(n, q), N(n, E.AudioContent) }, stop: function () { if (!f) { return } var n = +(new Date); f.notify(i.PAUSE, o(n)) } }), y() }; return function (b) { }(a), a }() }();
var AdheseAjax = { request: function (d) { if (typeof d == "string") { d = { url: d } } d.url = d.url || ""; d.method = d.method || "get"; d.data = d.data || {}; var f = function (b, c) { var j = [], a; for (var i in b) { j.push(i + "=" + encodeURIComponent(b[i])) } a = j.join("&"); if (a != "") { return c ? (c.indexOf("?") < 0 ? "?" + a : "&" + a) : a } return "" }; var e = { host: {}, process: function (a) { var b = this; this.xhr = null; if (window.ActiveXObject) { this.xhr = new ActiveXObject("Microsoft.XMLHTTP") } else { if (window.XMLHttpRequest) { this.xhr = new XMLHttpRequest() } } if (this.xhr) { this.xhr.onreadystatechange = function () { if (b.xhr.readyState == 4 && b.xhr.status == 200) { var c = b.xhr.responseText; if (a.json === true && typeof JSON != "undefined") { c = JSON.parse(c) } b.doneCallback && b.doneCallback.apply(b.host, [c, b.xhr]) } else { if (b.xhr.readyState == 4) { b.failCallback && b.failCallback.apply(b.host, [b.xhr]) } } b.alwaysCallback && b.alwaysCallback.apply(b.host, [b.xhr]) } } if (a.method == "get") { this.xhr.open("GET", a.url + f(a.data, a.url), true) } else { this.xhr.open(a.method, a.url, true); this.setHeaders({ "X-Requested-With": "XMLHttpRequest", "Content-type": "application/x-www-form-urlencoded" }) } if (a.headers && typeof a.headers == "object") { this.setHeaders(a.headers) } setTimeout(function () { a.method == "get" ? b.xhr.send() : b.xhr.send(f(a.data)) }, 20); return this }, done: function (a) { this.doneCallback = a; return this }, fail: function (a) { this.failCallback = a; return this }, always: function (a) { this.alwaysCallback = a; return this }, setHeaders: function (a) { for (var b in a) { this.xhr && this.xhr.setRequestHeader(b, a[b]) } } }; return e.process(d) } };
function AdheseVastWrapper(b) { this.debug = b != undefined ? b : false } AdheseVastWrapper.prototype.init = function () { this.eventListeners = new Array(); this.trackedImpressions = new Array(); this.schedule = {}; this.helper = new AdheseVastHelper() }; AdheseVastWrapper.prototype.getUrl = function (k, o, l, i, j, p) { var n, m = k + "/jsonp/" + i; for (n = 0; n < l.length; n++) { m += "/sl" + o + "-" + l[n] } if (typeof p !== "undefined") { for (n = 0; n < l.length; n++) { m += "/sl" + p + "-" + l[n] } } m += "/" + j; m += "/?t=" + new Date().getTime(); return m }; AdheseVastWrapper.prototype.parseInLine = function (q) { var z = new Array(); var t = q.getElementsByTagName("MediaFile"); for (var x = 0; x < t.length; x++) { z.push(new AdheseVastMediaFile(t[x].firstChild.nodeValue, t[x].attributes.getNamedItem("type").nodeValue)) } var u = new Array(); var r = q.getElementsByTagName("Impression"); for (var x = 0; x < r.length; x++) { u.push(r[x].firstChild.nodeValue) } var w = new Object(); var s = q.getElementsByTagName("Tracking"); for (var x = 0; x < s.length; x++) { if (!w[s[x].attributes.getNamedItem("event").nodeValue]) { w[s[x].attributes.getNamedItem("event").nodeValue] = new Array() } w[s[x].attributes.getNamedItem("event").nodeValue].push(s[x].firstChild.nodeValue) } var A = q.getElementsByTagName("ClickTracking"); for (var x = 0; x < s.length; x++) { if (!w.click) { w.click = new Array() } if (A[x] && A[x].firstChild.nodeValue && A[x].firstChild.nodeValue != "") { w.click.push(A[x].firstChild.nodeValue) } } var p = ""; var j = q.getElementsByTagName("ClickThrough"); for (var x = 0; x < j.length; x++) { p = j[x].firstChild.nodeValue } var B = q.attributes.getNamedItem("code") ? q.attributes.getNamedItem("code").nodeValue : "preroll"; if (this.debug) { console.log(B) } var v = q.getElementsByTagName("Duration")[0].firstChild, y; if (v !== null) { y = q.getElementsByTagName("Duration")[0].firstChild.nodeValue } else { y = 0 } this.schedule[B] = new AdheseVastAd(B, z, y, u, this.helper.getDurationInSeconds(y), w, p); if (this.debug) { console.log(this.schedule) } }; AdheseVastWrapper.prototype.parseVastJson = function (j) { var h = this.parseXML(j[0].tag); var m = h.getElementsByTagName("Ad"); var k = this; if (m.length === 0) { this.fireAdsLoaded(); return } for (var n = 0; n < m.length; n++) { if (m[n].getElementsByTagName("InLine").length > 0) { this.parseInLine(m[n]); this.fireAdsLoaded() } else { var l = m[n].attributes.getNamedItem("code").nodeValue; var i = m[n].getElementsByTagName("Impression"); AdheseAjax.request({ url: m[n].getElementsByTagName("VASTAdTagURI")[0].firstChild.nodeValue, method: "get", json: false }).done(function (e) { var b = k.parseXML(e); var c = b.getElementsByTagName("Ad"); for (var d = 0; d < c.length; d++) { c[d].setAttribute("code", l); for (var a = 0; a < i.length; a++) { c[d].getElementsByTagName("InLine")[0].insertBefore(i[a], c[d].getElementsByTagName("Impression")[0]) } if (c[d].getElementsByTagName("InLine").length > 0) { k.parseInLine(c[d]) } else { if (k.debug) { console.log("Too many redirects") } } } k.fireAdsLoaded() }) } } }; AdheseVastWrapper.prototype.parseXML = function (d) { if (this.debug) { console.log(typeof window.DOMParser) } if (typeof window.DOMParser != "undefined") { return (new window.DOMParser()).parseFromString(d, "text/xml") } else { if (typeof window.ActiveXObject != "undefined" && new window.ActiveXObject("Microsoft.XMLDOM")) { var c = new window.ActiveXObject("Microsoft.XMLDOM"); c.async = "false"; c.loadXML(d); return c } else { return undefined } } }; AdheseVastWrapper.prototype.addEventListener = function (d, c) { this.eventListeners.push(new AdheseVastEventListener(d, c)) }; AdheseVastWrapper.prototype.fireAdsLoaded = function () { for (var b = 0; b < this.eventListeners.length; b++) { if (this.eventListeners[b].getEvent() == "ADS_LOADED") { if (this.debug) { console.log("ADS_LOADED sent to listener") } this.eventListeners[b].getListener().apply() } } }; AdheseVastWrapper.prototype.getSchedule = function () { var d = new Array(); for (var c in this.schedule) { d.push(c) } return d }; AdheseVastWrapper.prototype.hasAd = function (b) { return this.schedule[b] != undefined }; AdheseVastWrapper.prototype.getImpression = function (b) { return this.schedule[b].getImpression() }; AdheseVastWrapper.prototype.getClick = function (b) { return this.schedule[b].getClick() }; AdheseVastWrapper.prototype.getTrackers = function (b) { return this.schedule[b].getTrackers() }; AdheseVastWrapper.prototype.getMediafile = function (f, h) { var e = this.schedule[f].getMediafile(); for (var g = 0; g < e.length; g++) { if (e[g].getType() == h) { return e[g].getSrc() } } return undefined }; AdheseVastWrapper.prototype.getDuration = function (b) { return this.schedule[b].getDuration() }; AdheseVastWrapper.prototype.getDurationInSeconds = function (b) { return this.schedule[b].getDurationInSeconds() }; AdheseVastWrapper.prototype.track = function (f) { if (typeof f === "undefined") { return } for (var e = 0; e < f.length; e++) { if (!this.trackedImpressions[f[e]]) { this.trackedImpressions[f[e]] = 1; var d = document.createElement("img"); d.src = f[e] + ((f[e].indexOf("?") == -1 ? "?adhche=" : "&adhche=") + new Date().getTime()) } } }; AdheseVastWrapper.prototype.timeupdate = function (e, f) { if (this.debug) { console.log(e + " timeupdate @" + f + " sec.") } if (f == 0) { if (this.debug) { console.log("Tracking impression for " + e) } this.track(this.getImpression(e)); this.track(this.getTrackers(e).start) } else { var d = f / this.schedule[e].getDurationInSeconds(); if (d.toFixed(2) == 0.25) { if (this.debug) { console.log("Tracking first quartile for " + e + " - " + this.getTrackers(e).firstQuartile) } this.track(this.getTrackers(e).firstQuartile) } else { if (d.toFixed(2) == 0.5) { if (this.debug) { console.log("Tracking mid point for " + e) } this.track(this.getTrackers(e).midpoint) } else { if (d.toFixed(2) == 0.75) { if (this.debug) { console.log("Tracking third quartile for " + e) } this.track(this.getTrackers(e).thirdQuartile) } } } } }; AdheseVastWrapper.prototype.clicked = function (d, c) { if (this.debug) { console.log("tracker clicked for " + d + " @" + c) } if (this.debug) { console.log("open new window with VideoClicks>ClickThrough") } this.helper.openNewWindow(this.getClick(d)); this.track(this.getTrackers(d).click) }; AdheseVastWrapper.prototype.ended = function (d, c) { if (this.debug) { console.log(d + " ended @" + c) } if (this.debug) { console.log("tracker complete for " + d) } this.track(this.getTrackers(d).complete) }; function AdheseVastAd(k, n, j, h, l, i, m) { this.id = k; this.mediafile = n; this.duration = j; this.impression = h; this.durationInSeconds = l; this.trackers = i; this.click = m } AdheseVastAd.prototype.getId = function () { return this.id }; AdheseVastAd.prototype.getMediafile = function () { return this.mediafile }; AdheseVastAd.prototype.getDuration = function () { return this.duration }; AdheseVastAd.prototype.getDurationInSeconds = function () { return this.durationInSeconds }; AdheseVastAd.prototype.getImpression = function () { return this.impression }; AdheseVastAd.prototype.getTrackers = function () { return this.trackers }; AdheseVastAd.prototype.getClick = function () { return this.click }; function AdheseVastMediaFile(d, c) { this.src = d; this.type = c } AdheseVastMediaFile.prototype.getSrc = function () { return this.src }; AdheseVastMediaFile.prototype.getType = function () { return this.type }; function AdheseVastEventListener(d, c) { this.event = d; this.listener = c } AdheseVastEventListener.prototype.getEvent = function () { return this.event }; AdheseVastEventListener.prototype.getListener = function () { return this.listener }; function AdheseVastHelper() { } AdheseVastHelper.prototype.getDurationInSeconds = function (d) { if (d) { var c = d.split(":"); if (c.length == 3) { return parseInt(c[0] * 3600) + parseInt(c[1] * 60) + parseInt(c[2]) } else { if (c.length == 2) { return parseInt(c[0] * 60) + parseInt(c[1]) } else { if (c.length == 1) { return parseInt(c[0]) } } } return 0 } return 0 }; AdheseVastHelper.prototype.openNewWindow = function (d) { if (window) { var c = window.open(d, "_blank"); c.focus() } };
function gemius_pending(b) { window[b] = window[b] || function () { var a = window[b + "_pdata"] = window[b + "_pdata"] || []; a[a.length] = arguments } } gemius_pending("gemius_hit"); gemius_pending("gemius_event"); gemius_pending("pp_gemius_hit"); gemius_pending("pp_gemius_event"); if (typeof gemiusStream == "undefined") { gemiusStream = { streams: {}, event_identifier: null, instanceid: ((new Date()).getTime()), interval: 20 * 60, init: function () { setInterval(gemiusStream.timer, gemiusStream.interval * 1000); if (typeof gemius_identifier != "undefined" && !gemius_identifier.match(/^USED_/) && !gemius_identifier.match(/^ERR_/)) { gemiusStream.event_identifier = gemius_identifier } try { gemiusStream.add_event(window.top, "unload", gemiusStream.unload) } catch (b) { gemiusStream.add_event(window, "unload", gemiusStream.unload) } }, newStream: function (r, k, n, q, l, m) { var o = gemiusStream.format_package(q); var j = gemiusStream.format_package(l); var p = ["_SPI=" + gemiusStream.instanceid, "_SP=" + r, "_SC=" + k, "_SCD=" + n].concat(o).concat(j); gemiusStream.set_stream(r, k, m || gemiusStream.event_identifier, p); gemiusStream.send_hit(r, k, "newStream", []) }, event: function (h, l, g, i) { var j = { playing: "play", paused: "pause", stopped: "stop", buffering: "buffering", seekingStarted: "seek", complete: "complete" }; if (gemiusStream.streams[h] && gemiusStream.streams[h][l] && j[i]) { var k = ["_SCO=" + g, "_SED=" + gemiusStream.get_elapsed_duration(h, l)]; i = j[i]; gemiusStream.streams[h][l]["state"] = i; gemiusStream.streams[h][l]["last_action_time"] = (new Date()).getTime(); if (i == "play" && gemiusStream.streams[h][l]["played"] == false) { gemiusStream.streams[h][l]["played"] = true; gemiusStream.send_hit(h, l, "start", k) } else { gemiusStream.send_hit(h, l, i, k) } } }, closeStream: function (f, h, e) { if (gemiusStream.streams[f] && gemiusStream.streams[f][h]) { var g = ["_SCO=" + e, "_SED=" + gemiusStream.get_elapsed_duration(f, h)]; gemiusStream.send_hit(f, h, "close", g); delete gemiusStream.streams[f][h] } }, set_stream: function (f, h, e, g) { if (typeof gemiusStream.streams[f] == "undefined") { gemiusStream.streams[f] = {} } gemiusStream.streams[f][h] = { state: "newStream", played: false, last_action_time: null, identifier: e, params: g } }, get_elapsed_duration: function (g, i) { var h = gemiusStream.streams[g][i]; var j = 0; try { if (h.state == "play" && h.last_action_time) { j = Math.round(((new Date()).getTime() - h.last_action_time) / 1000); if (j > 2 * gemiusStream.interval) { j = 0 } } } catch (e) { } return j }, add_event: function (f, d, e) { if (f.addEventListener) { f.addEventListener(d, e, false) } else { if (f.attachEvent) { f.attachEvent("on" + d, e) } } }, timer: function () { for (var e in gemiusStream.streams) { for (var d in gemiusStream.streams[e]) { if (gemiusStream.streams[e][d]["state"] == "play") { var f = ["_SED=" + gemiusStream.get_elapsed_duration(e, d)]; gemiusStream.streams[e][d]["last_action_time"] = (new Date()).getTime(); gemiusStream.send_hit(e, d, "continue", f) } } } }, unload: function (n) { try { var e = false; for (var i in gemiusStream.streams) { for (var l in gemiusStream.streams[i]) { if (gemiusStream.streams[i][l]["state"] == "play") { var k = ["_SED=" + gemiusStream.get_elapsed_duration(i, l)]; gemiusStream.send_hit(i, l, "unload", k); delete gemiusStream.streams[i][l]; e = true } } } if (e) { var j = (new Date()).getTime(); while (j + 250 > (new Date()).getTime()) { } } } catch (m) { } }, send_hit: function (h, l, i, g) { if (gemiusStream.streams[h] && gemiusStream.streams[h][l]) { var j = gemiusStream.streams[h][l]; var k = ["_EC=" + i].concat(g).concat(j.params); gemius_event.apply(this, ["_stream_", j.identifier].concat(k)) } }, format_package: function (e) { var f = []; if (!e || !e.length) { return [] } for (var d = 0; d < e.length; d++) { switch (typeof e[d]) { case ("string"): f[f.length] = e[d]; break; case ("object"): if (e[d].length) { if (e[d].length == 2) { f[f.length] = e[d][0] + "=" + e[d][1] } } else { if (typeof e[d]["name"] != "undefined") { f[f.length] = e[d]["name"] + "=" + e[d]["value"] } } break } } return f } }; gemiusStream.init() } if (typeof gSmConfig == "undefined") { gSmConfig = { setEncoding: function (b) { } } };
if (typeof gemius_hcconn == "undefined") { gemius_hcconn = { lsdata: "", fpdata: "", event_identifier: null, current_receiver: null, waiting_for_fpdata: 1, waiting_for_lsdata: 1, params_ready_called: 0, waiting_on_prerender: 1, closing: 0, visapi_s: "", visapi_h: "", visapi_c: "", loadinit: 0, fto: null, addto: null, sto: null, ltime: 0, lsgetframe: null, timerevents: [], requests: [], images: [], state: 0, eventsid: 0, ssl: (document.location && document.location.protocol && document.location.protocol == "https:") ? 1 : 0, hc: (typeof gemius_hitcollector != "undefined") ? gemius_hitcollector : (typeof pp_gemius_hitcollector != "undefined") ? pp_gemius_hitcollector : "gabe.hit.gemius.pl", add_event: function (g, d, f) { if (g.addEventListener) { g.addEventListener(d, f, false) } else { if (g.attachEvent) { g.attachEvent("on" + d, f) } } }, remove_script: function (g, f) { var j = document.getElementById(g); if (j) { if (f) { try { if (typeof gemius_notify != "undefined") { gemius_notify(f) } else { if (typeof pp_gemius_notify != "undefined") { pp_gemius_notify(f) } } } catch (h) { } } try { j.parentNode.removeChild(j) } catch (h) { } } }, append_script: function (p, j, o) { var l = "gemius_hcconn_" + ((new Date()).getTime()) + "_" + Math.floor(Math.random() * 100000000); try { var k = document.createElement("script"), n = document.getElementsByTagName("script")[0]; if (j != null) { gemius_hcconn.add_event(k, "load", j); gemius_hcconn.add_event(k, "error", j); gemius_hcconn.add_event(k, "readystatechange", function () { if (!k.readyState || k.readyState === "loaded" || k.readyState === "complete") { j() } }) } gemius_hcconn.add_event(k, "load", function () { gemius_hcconn.remove_script(l, o ? p : null) }); gemius_hcconn.add_event(k, "error", function () { gemius_hcconn.remove_script(l, null) }); gemius_hcconn.add_event(k, "readystatechange", function () { if (!k.readyState || k.readyState === "loaded" || k.readyState === "complete") { gemius_hcconn.remove_script(l, o ? p : null) } }); k.setAttribute("id", l); k.setAttribute("defer", "defer"); k.setAttribute("async", "async"); k.setAttribute("type", "text/javascript"); k.setAttribute("src", p); if (n) { n.parentNode.insertBefore(k, n) } else { if (document.body) { document.body.appendChild(k) } } } catch (m) { } }, xdot_loaded: function () { if (typeof gemius_open == "undefined") { gemius_hcconn.state = 0 } }, sendhits: function (r) { var q, d; if (gemius_hcconn.waiting_for_fpdata == 0 && gemius_hcconn.waiting_for_lsdata == 0 && gemius_hcconn.waiting_on_prerender == 0) { for (q = 0; q < gemius_hcconn.requests.length; q++) { var o = gemius_hcconn.requests[q]; var m = (gemius_hcconn.ssl ? "https://" : "http://") + gemius_hcconn.hc + "/_"; var j = new Date().getTime(); var p = (gemius_hcconn.visapi_h == "") ? 3 : (document[gemius_hcconn.visapi_h]) ? 2 : 1; var n = "&ltime=" + gemius_hcconn.ltime + "&lsdata=" + gemius_hcconn.lsdata + "&fpdata=" + gemius_hcconn.fpdata + "&vis=" + p; if (gemius_hcconn.ssl == 0 && r !== null) { n += "&lsadd=" + r } if (o.evid == 1) { n += "&eventid=" + gemius_hcconn.eventsid } else { if (o.evid == 0) { n += "&eventid=0" } } if (gemius_hcconn.state > 0 || o.allowaddscript == 0 || typeof gemius_open != "undefined") { m += (j + q) + "/redot.js?l=" + o.vers + o.req + n; gemius_hcconn.append_script(m, null, 1) } else { m += (j + q) + "/rexdot.js?l=" + o.vers + o.req + n; gemius_hcconn.state = 1; gemius_hcconn.append_script(m, gemius_hcconn.xdot_loaded, 1) } } gemius_hcconn.requests = [] } }, latehits: function () { if (gemius_hcconn.waiting_for_fpdata == 0 && gemius_hcconn.waiting_for_lsdata == 0 && gemius_hcconn.waiting_on_prerender == 0) { if (gemius_hcconn.closing == 0 && gemius_hcconn.ssl == 0 && gemius_hcconn.lsdata != "" && gemius_hcconn.lsdata[0] != "-" && gemius_hcconn.lsgetframe) { if (gemius_hcconn.addto == null) { try { gemius_hcconn.lsgetframe.contentWindow.postMessage("_xx_gemius_get_add_xx_", "*"); gemius_hcconn.addto = setTimeout("gemius_hcconn.lsaddto()", 250) } catch (b) { gemius_hcconn.sendhits(null) } } } else { gemius_hcconn.sendhits(null) } } }, lsaddto: function () { if (gemius_hcconn.addto != null) { gemius_hcconn.addto = null; gemius_hcconn.sendhits(null) } }, paramsready: function () { if (gemius_hcconn.params_ready_called == 0 && gemius_hcconn.waiting_for_fpdata == 0 && gemius_hcconn.waiting_for_lsdata == 0) { var d = { lsdata: gemius_hcconn.lsdata, fpdata: gemius_hcconn.fpdata }; gemius_hcconn.params_ready_called = 1; try { if (typeof gemius_params_ready != "undefined") { gemius_params_ready(d) } else { if (typeof pp_gemius_params_ready != "undefined") { pp_gemius_params_ready(d) } } } catch (c) { } } }, visibilitychanged: function () { if (document[gemius_hcconn.visapi_s] != "prerender") { if (gemius_hcconn.waiting_on_prerender) { gemius_hcconn.waiting_on_prerender = 0; setTimeout("gemius_hcconn.latehits()", 100) } else { } } }, unload: function (s) { try { gemius_hcconn.closing = (gemius_hcconn.closing > 0 || s) ? 1 : 0; if (gemius_hcconn.waiting_on_prerender == 0) { var q = s && (gemius_hcconn.requests.length > 0); for (i = 0; i < gemius_hcconn.requests.length; i++) { var d = gemius_hcconn.images.length; var n = gemius_hcconn.requests[i]; var v = (gemius_hcconn.ssl ? "https://" : "http://") + gemius_hcconn.hc + "/_"; var o = new Date().getTime(); var t = (gemius_hcconn.visapi_h == "") ? 3 : (document[gemius_hcconn.visapi_h]) ? 2 : 1; var r = "&vis=" + t; r += "&fpdata=" + ((gemius_hcconn.waiting_for_fpdata == 0) ? gemius_hcconn.fpdata : "-UNLOAD"); r += "&lsdata=" + ((gemius_hcconn.waiting_for_lsdata == 0) ? (gemius_hcconn.lsdata + "&ltime=" + gemius_hcconn.ltime) : "-UNLOAD"); if (n.evid == 1) { r += "&eventid=" + gemius_hcconn.eventsid } else { if (n.evid == 0) { r += "&eventid=0" } } v += (o + i) + "/redot.gif?l=" + n.vers + r + n.req; gemius_hcconn.images[d] = new Image(); gemius_hcconn.images[d].src = v } gemius_hcconn.requests = []; if (q) { var u = (new Date()).getTime(); while (u + 200 > (new Date()).getTime()) { } } } } catch (p) { } }, getfpcookie: function () { var g = document.cookie.split(";"); var f; gemius_hcconn.fpdata = "-TURNEDOFF"; for (var d = 0; d < g.length; d++) { f = g[d].split("="); if (f[0].replace(/^\s+|\s+$/g, "") == "__gfp_64b") { gemius_hcconn.fpdata = f[1].replace(/^\s+|\s+$/g, ""); return } } }, setfpcookie: function () { var h = (new Date()).getTime(); var k = h + 86400000000; var n = new String(document.location.hostname); if (n.search(/^[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+$/) == 0) { n = "" } var l = n.split("."); var j = l.length; if (gemius_hcconn.fpdata != "") { try { document.cookie = "__gfp_64b=" + gemius_hcconn.fpdata + "; path=/" + ((j >= 2) ? ("; domain=" + l[j - 2] + "." + l[j - 1]) : "") + "; expires=" + (new Date(k)).toGMTString() } catch (m) { } } }, fpdata_loaded: function () { if (gemius_hcconn.sto != null) { clearTimeout(gemius_hcconn.sto); gemius_hcconn.sto = null } gemius_hcconn.setfpcookie(); gemius_hcconn.getfpcookie(); gemius_hcconn.waiting_for_fpdata = 0; gemius_hcconn.paramsready(); gemius_hcconn.latehits() }, addframe: function (k, o, p, l) { if (document.body) { gemius_hcconn.current_receiver = l; var f = "http" + (k ? "s" : "") + "://ls.hit.gemius.pl/ls" + o + ".html" + p; if (l != null) { gemius_hcconn.loadinit = (new Date()).getTime(); if (gemius_hcconn.fto == null) { gemius_hcconn.fto = setTimeout("gemius_hcconn.frameto()", 10000) } } var m = "gemius_hcconn_" + ((new Date()).getTime()) + "_" + Math.floor(Math.random() * 100000000); var n = document.createElement("iframe"); n.setAttribute("id", m); n.setAttribute("name", "ls" + o + "frame"); n.setAttribute("width", 0); n.setAttribute("height", 0); n.setAttribute("scrolling", "no"); n.style.display = "none"; n.style.visibility = "hidden"; document.body.appendChild(n); n.setAttribute("src", f); if (o == "get" && k == 0) { gemius_hcconn.lsgetframe = n } } else { setTimeout(function () { gemius_hcconn.addframe(k, o, p, l) }, 100) } }, frameto: function () { if (gemius_hcconn.fto != null) { gemius_hcconn.fto = null; if (gemius_hcconn.lsdata == "") { gemius_hcconn.ltime = 10000; gemius_hcconn.lsdata = "-TIMEDOUT"; gemius_hcconn.waiting_for_lsdata = 0; gemius_hcconn.paramsready(); gemius_hcconn.latehits() } } }, scriptto: function () { if (gemius_hcconn.sto != null) { gemius_hcconn.sto = null; if (gemius_hcconn.fpdata != "" && gemius_hcconn.fpdata[0] != "-") { gemius_hcconn.setfpcookie(); gemius_hcconn.getfpcookie() } if (gemius_hcconn.fpdata == "") { gemius_hcconn.fpdata = "-TIMEDOUT" } gemius_hcconn.waiting_for_fpdata = 0; gemius_hcconn.paramsready(); gemius_hcconn.latehits() } }, last_datareceiver: function (b) { gemius_hcconn.current_receiver = null; gemius_hcconn.lsdata = b; gemius_hcconn.waiting_for_lsdata = 0; gemius_hcconn.paramsready(); gemius_hcconn.latehits() }, second_datareceiver: function (b) { if (b.charAt(0) == "-" || b == "") { gemius_hcconn.addframe(1, "set", "", gemius_hcconn.last_datareceiver) } else { if (gemius_hcconn.ssl == 0) { gemius_hcconn.addframe(0, "cpy", "?lsdata=" + b, null) } gemius_hcconn.last_datareceiver(b) } }, first_datareceiver: function (d) { var f = d.match(/^([A-Z0-9a-z\.\_\/]*).*\|([0-9]+)$/); var g = (new Date()).getTime(); if (d.charAt(0) == "-" || d == "" || !f || f[2] < g) { gemius_hcconn.addframe(1, "get", "", gemius_hcconn.second_datareceiver) } else { if (f) { d = f[1] } gemius_hcconn.last_datareceiver(d) } }, msgreceiver: function (c) { if (typeof c.data == "string" && c.data.substr(0, 15) == "_xx_gemius_xx_/") { if (gemius_hcconn.fto != null) { clearTimeout(gemius_hcconn.fto); gemius_hcconn.fto = null; gemius_hcconn.ltime = (new Date()).getTime() - gemius_hcconn.loadinit } if (gemius_hcconn.current_receiver != null) { gemius_hcconn.current_receiver(c.data.substr(15)) } } if (typeof c.data == "string" && c.data.substr(0, 19) == "_xx_gemius_add_xx_/") { if (gemius_hcconn.addto != null) { clearTimeout(gemius_hcconn.addto); gemius_hcconn.addto = null } var d = c.data.substr(19); gemius_hcconn.sendhits((d == "-GETERR") ? null : d) } }, parameters: function () { var r = document; var p = window; var w = new String(r.location.href); var v; var t = 0; var u = "-"; var f; if (r.referrer) { v = new String(r.referrer) } else { v = "" } if (typeof Error != "undefined") { var q; try { t = (r == top.document) ? 1 : 2; if (typeof top.document.referrer == "string") { v = top.document.referrer } } catch (s) { t = 3 } try { u = navigator.plugins["Shockwave Flash"].description } catch (s) { } if (typeof ActiveXObject != "undefined") { try { q = new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7") } catch (s) { try { q = new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"); u = "X"; q.AllowScriptAccess = "always" } catch (s) { if (u == "X") { u = "WIN 6,0,20,0" } } try { q = new ActiveXObject("ShockwaveFlash.ShockwaveFlash") } catch (s) { } } if ((u == "-" || u == "X") && q) { u = q.GetVariable("$version") } } } var x = "&fr=" + t + "&tz=" + (new Date()).getTimezoneOffset(); if (typeof encodeURIComponent != "undefined") { x += "&fv=" + encodeURIComponent(u) + "&href=" + encodeURIComponent(w.substring(0, 499)) + "&ref=" + encodeURIComponent(v.substring(0, 499)) } if (screen) { var d = screen; if (d.width) { if (d.deviceXDPI && d.deviceYDPI) { x += "&screen=" + Math.floor(d.width * d.deviceXDPI / 96) + "x" + Math.floor(d.height * d.deviceYDPI / 96) } else { x += "&screen=" + d.width + "x" + d.height } } if (p.devicePixelRatio) { x += "r" + Math.round((p.devicePixelRatio * 1000)) } if (d.colorDepth) { x += "&col=" + d.colorDepth } } if (typeof p.innerWidth == "number") { x += "&window=" + p.innerWidth + "x" + p.innerHeight } else { if (((f = r.documentElement) && (f.clientWidth || f.clientHeight)) || ((f = r.body) && (f.clientWidth || f.clientHeight))) { x += "&window=" + f.clientWidth + "x" + f.clientHeight } } return x }, array_to_string: function (g, h) { var f, j; if (typeof g == "string") { return g } j = ""; if (typeof g.length != "undefined") { for (f = h; f < g.length; f++) { if (f > h) { j += "|" } j += ((new String(g[f])).replace(/\|/g, "_")) } } return j }, internal_hit: function (k, r, m, p, n, q, l) { var o = ""; if (gemius_hcconn.event_identifier == null && m) { gemius_hcconn.event_identifier = m; p = 2 } o += "&id=" + m; if (typeof n != "undefined") { o += "&et=" + n } if (typeof q != "undefined") { o += "&hsrc=" + q } if (typeof l != "undefined" && typeof encodeURIComponent != "undefined") { o += "&extra=" + encodeURIComponent(l.substring(0, 1999)) } o += gemius_hcconn.parameters(); gemius_hcconn.requests[gemius_hcconn.requests.length] = { req: o, allowaddscript: k, vers: r, evid: p }; gemius_hcconn.latehits() }, timer: function () { var b; for (b = 0; b < gemius_hcconn.timerevents.length; b++) { gemius_hcconn.internal_hit(0, 93, gemius_hcconn.timerevents[b], 0) } }, gtimer_add: function (b) { gemius_hcconn.timerevents[gemius_hcconn.timerevents.length] = b }, ghit: function (h, l, g, j, k) { if (g.length > 0) { gemius_hcconn.internal_hit(h, l, g[0], j, "view", k, gemius_hcconn.array_to_string(g, 1)) } }, gevent: function (k, q, r, o, p) { var m = 0; var n = "view"; if (r.length > 1) { var l = (new String(r[0])).match("^_([a-zA-Z0-9]+)_$"); if (l) { n = l[1]; m = 1 } } if (r.length > m) { if (!r[m] && gemius_hcconn.event_identifier != null) { r[m] = gemius_hcconn.event_identifier } if (r[m]) { gemius_hcconn.internal_hit(k, q, r[m], o, n, p, gemius_hcconn.array_to_string(r, m + 1)) } } }, addscripthit: function () { gemius_hcconn.ghit(1, 96, arguments, 0, 2) }, plainhit: function () { gemius_hcconn.ghit(0, 97, arguments, 0, 2) }, addscriptevent: function () { gemius_hcconn.gevent(1, 96, arguments, 0, 3) }, plainevent: function () { gemius_hcconn.gevent(0, 97, arguments, 0, 3) }, pendingdata: function (f, g) { var d; if (typeof window[f] != "undefined") { for (d = 0; d < window[f].length; d++) { g.apply(this, window[f][d]) } window[f] = [] } }, sendpendingdata: function () { gemius_hcconn.pendingdata("pp_gemius_hit_pdata", gemius_hcconn.addscripthit); gemius_hcconn.pendingdata("gemius_hit_pdata", gemius_hcconn.plainhit); gemius_hcconn.pendingdata("pp_gemius_event_pdata", gemius_hcconn.addscriptevent); gemius_hcconn.pendingdata("gemius_event_pdata", gemius_hcconn.plainevent); gemius_hcconn.pendingdata("gemius_shits", gemius_hcconn.addscripthit); gemius_hcconn.pendingdata("gemius_phits", gemius_hcconn.plainhit); gemius_hcconn.pendingdata("gemius_sevents", gemius_hcconn.addscriptevent); gemius_hcconn.pendingdata("gemius_pevents", gemius_hcconn.plainevent) }, findvisapi: function () { var c = ["moz", "webkit", "ms", "o"]; var d; if (typeof document.hidden != "undefined") { gemius_hcconn.visapi_h = "hidden"; gemius_hcconn.visapi_s = "visibilityState"; gemius_hcconn.visapi_c = "visibilitychange" } else { for (d in c) { if (typeof document[c[d] + "Hidden"] != "undefined") { gemius_hcconn.visapi_h = c[d] + "Hidden"; gemius_hcconn.visapi_s = c[d] + "VisibilityState"; gemius_hcconn.visapi_c = c[d] + "visibilitychange" } } } }, init: function () { setInterval("gemius_hcconn.timer()", 60 * 1000); gemius_hcconn.getfpcookie(); gemius_hcconn.waiting_for_fpdata = ((gemius_hcconn.fpdata.length > 0 && gemius_hcconn.fpdata[0] == "-") || gemius_hcconn.fpdata == "") ? 1 : 0; try { gemius_hcconn.waiting_for_lsdata = (typeof window.postMessage != "undefined" && typeof localStorage != "undefined" && localStorage != null) ? 1 : 0; if (gemius_hcconn.waiting_for_lsdata == 0) { gemius_hcconn.lsdata = "-NOTSUP" } } catch (b) { gemius_hcconn.waiting_for_lsdata = 0; gemius_hcconn.lsdata = "-TURNEDOFF" } if (gemius_hcconn.waiting_for_fpdata) { gemius_hcconn.sto = setTimeout("gemius_hcconn.scriptto()", 10000); gemius_hcconn.append_script((gemius_hcconn.ssl ? "https://" : "http://") + gemius_hcconn.hc + "/fpdata.js", gemius_hcconn.fpdata_loaded, 0) } gemius_hcconn.waiting_on_prerender = 0; gemius_hcconn.paramsready(); gemius_hcconn.findvisapi(); if (gemius_hcconn.visapi_s != "") { if (document[gemius_hcconn.visapi_s] == "prerender") { gemius_hcconn.waiting_on_prerender = 1 } gemius_hcconn.add_event(document, gemius_hcconn.visapi_c, gemius_hcconn.visibilitychanged) } if (gemius_hcconn.waiting_for_lsdata) { gemius_hcconn.add_event(window, "message", gemius_hcconn.msgreceiver); if (gemius_hcconn.ssl) { gemius_hcconn.addframe(1, "get", "", gemius_hcconn.second_datareceiver) } else { gemius_hcconn.addframe(0, "get", "", gemius_hcconn.first_datareceiver) } } else { gemius_hcconn.latehits() } gemius_hcconn.add_event(window, "unload", function () { gemius_hcconn.unload(true) }); gemius_hcconn.add_event(window, "beforeunload", function () { gemius_hcconn.unload(true) }); gemius_hcconn.add_event(document, "mousedown", function () { gemius_hcconn.unload(false) }) } }; gemius_hcconn.init(); gemius_hit = gemius_hcconn.plainhit; gemius_event = gemius_hcconn.plainevent; pp_gemius_hit = gemius_hcconn.addscripthit; pp_gemius_event = gemius_hcconn.addscriptevent; try { if (typeof gemius_loaded != "undefined") { gemius_loaded() } else { if (typeof pp_gemius_loaded != "undefined") { pp_gemius_loaded() } } } catch (e) { } } (function () { if (typeof gemius_identifier != "undefined" && !gemius_identifier.match(/^USED_/)) { if (typeof gemius_extraparameters != "undefined") { gemius_hcconn.gevent(0, 91, [gemius_identifier].concat(gemius_extraparameters), 2, 1) } else { gemius_hcconn.ghit(0, 91, [gemius_identifier], 2, 1) } if (gemius_hcconn.event_identifier == null) { gemius_hcconn.event_identifier = gemius_identifier } gemius_identifier = "USED_" + gemius_identifier.replace(/id=/g, "id=USED_") } else { if (typeof pp_gemius_identifier != "undefined" && !pp_gemius_identifier.match(/^USED_/)) { if (typeof pp_gemius_time_identifier != "undefined") { gemius_hcconn.gtimer_add(pp_gemius_time_identifier); pp_gemius_identifier += "&id=" + pp_gemius_time_identifier } window.pp_gemius_cnt = 1; if (typeof pp_gemius_extraparameters != "undefined") { gemius_hcconn.gevent(0, 91, [pp_gemius_identifier].concat(pp_gemius_extraparameters), 2, 1) } else { gemius_hcconn.ghit(0, 91, [pp_gemius_identifier], 2, 1) } if (gemius_hcconn.event_identifier == null) { gemius_hcconn.event_identifier = pp_gemius_identifier } pp_gemius_identifier = "USED_" + pp_gemius_identifier.replace(/id=/g, "id=USED_") } } gemius_hcconn.sendpendingdata() })();
var vamp = { $: $.noConflict(true), _: _.noConflict(), AX: { STREAMSENSE: ns_ }, BUILD: "225", DESC: "VRT Player", DIR: { ASSET: "r" }, NAME: "vamp", URL: { BASE: "videoplayer", CURRENT: "//services.vrt.be", ENV: { DEV: "//services-dev.vrt.be", PROD: "//services.vrt.be", STAG: "//services-stag.vrt.be" }, MEDIAZONE: { ENV: "mediazone.vrt.be", PROD: "mediazone.vrt.be" }, PIXEL: "geo/pixel.gif", SUBTITLES: "mp.vrt.be/ot" }, VERSION: "2.8.0.1", _old: window.vamp || null, ax: {}, blnGeoblocked: null, global: this }; (function (vamp) { vamp.fn = { delegate: function (scope, fct) { return function () { fct.apply(scope, arguments) } }, expose: function (obj, fct) { if (!vamp.isDefined(obj)) { obj = vamp } if (!vamp.isDefined(obj.NAME)) { return } if (vamp.isDefined(vamp.global[obj.NAME])) { obj._old = vamp.global[obj.NAME] } if (vamp.isDefined(fct)) { vamp.global[obj.NAME] = fct; vamp._.extend(vamp.global[obj.NAME], obj) } else { vamp.global[obj.NAME] = obj } }, isDefined: function (val, blnEval, obj) { if (typeof blnEval === "undefined") { blnEval = false } try { if (blnEval) { val = eval(val) } if (typeof val === "undefined") { return false } if (val == null) { return false } if (val === 0) { return "0" } if (val === false) { return "false" } if (val === "") { return true } return val } catch (e) { return false } }, isEmpty: function (val, blnEval) { if (!vamp.isDefined(val, blnEval)) { return true } else { return (val === "") } }, isGeoblocked: function (scope, cb) { var pixel = new Image(); pixel.onload = function () { vamp.blnGeoblocked = false; cb(scope) }; pixel.onerror = function () { vamp.blnGeoblocked = true; cb(scope) }; pixel.src = this.URL.ENV.PROD + "/" + this.URL.PIXEL }, noConflict: function (obj, str) { if (!vamp.isDefined(obj)) { obj = vamp } if (!vamp.isDefined(obj.NAME)) { return } var objNew = window[obj.NAME]; if (vamp.isDefined(obj._old)) { window[obj.NAME] = obj._old } else { window[obj.NAME] = undefined } if (vamp.isDefined(str)) { obj._old = null; obj.NAME = str; window[obj.NAME] = objNew } }, toBoolean: function (val) { if (!vamp.isDefined(val)) { return false } if (vamp._.isBoolean(val)) { return val } if (val === "false" || val === "0" || val === 0) { return false } return true }, toString: function () { return "{" + vamp.NAME + "}" } } })(vamp);
(function (b) { b.B64 = { alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", lookup: null, ie: /MSIE /.test(navigator.userAgent), ieo: /MSIE [67]/.test(navigator.userAgent), encode: function (k) { var p = this.toUtf8(k), o = -1, n = p.length, r, a, m, q = [null, null, null, null], l; if (this.ie) { l = []; while (++o < n) { r = p[o]; a = p[++o]; q[0] = r >> 2; q[1] = ((r & 3) << 4) | (a >> 4); if (isNaN(a)) { q[2] = q[3] = 64 } else { m = p[++o]; q[2] = ((a & 15) << 2) | (m >> 6); q[3] = (isNaN(m)) ? 64 : m & 63 } l.push(this.alphabet.charAt(q[0]), this.alphabet.charAt(q[1]), this.alphabet.charAt(q[2]), this.alphabet.charAt(q[3])) } return l.join("") } else { l = ""; while (++o < n) { r = p[o]; a = p[++o]; q[0] = r >> 2; q[1] = ((r & 3) << 4) | (a >> 4); if (isNaN(a)) { q[2] = q[3] = 64 } else { m = p[++o]; q[2] = ((a & 15) << 2) | (m >> 6); q[3] = (isNaN(m)) ? 64 : m & 63 } l += this.alphabet[q[0]] + this.alphabet[q[1]] + this.alphabet[q[2]] + this.alphabet[q[3]] } return l } }, decode: function (g) { if (g.length % 4) { throw new Error("InvalidCharacterError: 'B64.decode' failed: The string to be decoded is not correctly encoded.") } var h = this.fromUtf8(g), i = 0, j = h.length, a; if (this.ieo) { a = []; while (i < j) { if (h[i] < 128) { a.push(String.fromCharCode(h[i++])) } else { if (h[i] > 191 && h[i] < 224) { a.push(String.fromCharCode(((h[i++] & 31) << 6) | (h[i++] & 63))) } else { a.push(String.fromCharCode(((h[i++] & 15) << 12) | ((h[i++] & 63) << 6) | (h[i++] & 63))) } } } return a.join("") } else { a = ""; while (i < j) { if (h[i] < 128) { a += String.fromCharCode(h[i++]) } else { if (h[i] > 191 && h[i] < 224) { a += String.fromCharCode(((h[i++] & 31) << 6) | (h[i++] & 63)) } else { a += String.fromCharCode(((h[i++] & 15) << 12) | ((h[i++] & 63) << 6) | (h[i++] & 63)) } } } return a } }, toUtf8: function (g) { var j = -1, a = g.length, h, i = []; if (/^[\x00-\x7f]*$/.test(g)) { while (++j < a) { i.push(g.charCodeAt(j)) } } else { while (++j < a) { h = g.charCodeAt(j); if (h < 128) { i.push(h) } else { if (h < 2048) { i.push((h >> 6) | 192, (h & 63) | 128) } else { i.push((h >> 12) | 224, ((h >> 6) & 63) | 128, (h & 63) | 128) } } } } return i }, fromUtf8: function (g) { var j = -1, a, i = [], h = [null, null, null, null]; if (!this.lookup) { a = this.alphabet.length; this.lookup = {}; while (++j < a) { this.lookup[this.alphabet.charAt(j)] = j } j = -1 } a = g.length; while (++j < a) { h[0] = this.lookup[g.charAt(j)]; h[1] = this.lookup[g.charAt(++j)]; i.push((h[0] << 2) | (h[1] >> 4)); h[2] = this.lookup[g.charAt(++j)]; if (h[2] === 64) { break } i.push(((h[1] & 15) << 4) | (h[2] >> 2)); h[3] = this.lookup[g.charAt(++j)]; if (h[3] === 64) { break } i.push(((h[2] & 3) << 6) | h[3]) } return i } } })(vamp);
(function (b) { b.Class = { ctor: function () { }, extend: function (a, f) { var e = this.inherits(this, a, f); e.extend = this.extend; return e }, inherits: function (h, a, g) { var f; if (a && a.hasOwnProperty("constructor")) { f = a.constructor } else { f = function () { return h.apply(this, arguments) } } b._.extend(f, h); b.Class.ctor.prototype = h.prototype; f.prototype = new b.Class.ctor(); if (a) { b._.extend(f.prototype, a) } if (g) { b._.extend(f, g) } f.prototype.constructor = f; f.prototype.parent = h.prototype; f.parent = h.prototype; return f } } })(vamp);
(function (b) { b.date = { isValid: function (a) { try { if (isNaN(a.getTime())) { return false } return true } catch (d) { return false } } } })(vamp);
(function (b) { b.string = { LANG: { ar: "\u0627\u0644\u0639\u0631\u0628\u064A\u0629", de: "Deutsch", en: "English", fr: "Fran\u00E7ais", nl: "Nederlands" }, beginsWith: function (d, a) { return d.indexOf(a) === 0 }, checkProtocol: function (f, g) { if (!b.isDefined(g)) { return f } var h = "//"; if (f.indexOf(h) > -1) { var a = f.split(h); f = a[1] } f = g + ":" + h + f; return f }, endsWith: function (d, a) { return d.indexOf(a, d.length - a.length) !== -1 }, extractExtension: function (e) { var f = /(?:\.([^.]+))?$/; var a = f.exec(e); return a[1] }, pad: function (e, f, a) { if (!b.isDefined(a)) { a = "0" } e = e + ""; while (e.length < f) { e = a + e } return e }, regExpEscape: function (a) { return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g, "\\$1").replace(/\x08/g, "\\x08") }, repeat: function (e, f) { if (f < 1) { return "" } var a = ""; while (f > 0) { if (f & 1) { a += e } f >>= 1; e += e } return a }, trim: function (a) { if (b.isEmpty(a)) { return a } return a.replace(/^\s+|\s+$/g, "") }, trimExtension: function (a) { return a.replace(/^.*\/|\.[^.]*$/g, "") }, toTitleCase: function (f, h) { var g = b._.isString(h) ? this.regExpEscape(h) : "\\s"; g = g ? "|[" + g + "]+" : ""; var a = new RegExp("(^" + g + ")([a-z])", "g"); return f.replace(a, function (e, c, d) { return c + d.toUpperCase() }) } } })(vamp);
(function (b) { b.ax.ga = { PROP: { DEV: "UA-59806482-1", PROD: "UA-59809847-1" }, prop: null, init: function () { (function (m, l, g, i, k, n, a) { m.GoogleAnalyticsObject = k; m[k] = m[k] || function () { (m[k].q = m[k].q || []).push(arguments) }; m[k].l = 1 * new Date(); n = l.createElement(g), a = l.getElementsByTagName(g)[0]; n.async = 1; n.src = i; a.parentNode.insertBefore(n, a) })(window, document, "script", "//www.google-analytics.com/analytics.js", "ga_videoplayer"); this.setProperty(); ga_videoplayer("create", this.prop, "auto", { name: "videoTracker" }); ga_videoplayer("videoTracker.set", "dimension1", b.VERSION) }, setProperty: function () { if (b.detect.env === b.detect.ENV.DEV) { this.prop = this.PROP.DEV } else { this.prop = this.PROP.PROD } }, trackEvent: function (d, a) { ga_videoplayer("videoTracker.send", "event", "error", d, a) }, trackPage: function (a, f) { var g = "", h = window.location.href; if (!b.isEmpty(a.ax) && !b.isEmpty(a.ax.program)) { g += "id=" + a.ax.program } else { g += "url=" + f } h += "[" + g + "]"; ga_videoplayer("videoTracker.send", "pageview", h) } } })(vamp);
(function (vamp) { vamp.coll = { arrExec: [], objList: {}, add: function (objPlayer) { if (!vamp.isDefined(objPlayer.name)) { return } this.objList[objPlayer.name] = objPlayer; for (var i in this.arrExec) { var exec = this.arrExec[i]; if (!vamp.isDefined(exec.arrSelector) || vamp._.indexOf(exec.arrSelector, objPlayer.name) > -1) { this.exec(exec.func, [objPlayer.name], exec.args, false) } } }, exec: function (func, arrSelector, args, blnKeep) { if (!vamp.isDefined(blnKeep)) { blnKeep = true } if (blnKeep) { this.arrExec.push({ func: func, arrSelector: arrSelector, args: args }) } try { if (!vamp._.isArray(args)) { args = [args] } var arrSelection = this.select(arrSelector), returnVal, arrReturn = []; vamp._.each(arrSelection, function (plyr) { returnVal = eval("plyr." + func + ".apply(plyr, args)"); if (vamp.isDefined(returnVal)) { arrReturn.push(returnVal) } }); if (arrReturn.length === 0) { return } if (arrReturn.length === 1) { arrReturn = arrReturn[0] } return arrReturn } catch (e) { return false } }, get: function (keySelector) { var index, name; if (vamp.$.isNumeric(keySelector)) { name = vamp._.keys(this.objList)[keySelector - 1]; index = keySelector - 1 } else { index = vamp._.indexOf(vamp._.keys(this.objList), keySelector); name = keySelector } if (index > -1) { return this.objList[name] } }, select: function (arrSelector) { var arrSelection = []; arrSelector = vamp._.toArray(arrSelector); if (!vamp.isDefined(arrSelector) || arrSelector.length === 0) { arrSelection = vamp._.toArray(this.objList) } else { vamp._.each(arrSelector, function (el) { var plyr = this.get(el); if (vamp.isDefined(plyr)) { arrSelection.push(plyr) } }, this) } return arrSelection } } })(vamp);
(function (vamp) { vamp.debug = { LEVEL: { LOG: 1, TRACE: 2, INFO: 3, WARN: 4, ERROR: 5 }, blnActive: null, blnPanel: null, level: { active: null, highest: null, lowest: null }, stack: null, clear: function () { var fn = "clear"; this.sendToConsole(fn) }, debug: function (level, args) { if (args.length === 0) { return } if (args.length === 1) { args = args[0] } var arrStack = vamp.isDefined(this.stack) ? this.parseStack(this.stack) : this.getStack(); this.history.add(level, args, arrStack); if (this.mail.blnActive && level >= this.LEVEL.ERROR) { this.mail.send() } if (!(vamp.isDefined(this.blnActive) && this.blnActive)) { return } if (!vamp.isDefined(this.level.active)) { this.setLevel() } if (level < this.level.active) { return } var arrStackInfo = this.getStackInfo(arrStack), levels = vamp._.pairs(this.LEVEL), fn = vamp._.find(levels, function (el) { if (level === el[1]) { return el } }); fn = fn[0].toLowerCase(); this.sendToConsole(fn, vamp.NAME + " :", args, arrStackInfo); this.stack = null }, error: function (objError) { if (vamp.isEmpty(objError.msg)) { return } this.debug(this.LEVEL.ERROR, arguments); var action = objError.msg, lbl = window.location.href; if (vamp.isDefined(objError.id)) { lbl += " [" + objError.id + "]" } vamp.ax.ga.trackEvent(action, lbl) }, getStack: function () { try { this.undef() } catch (e) { var arrStack = this.parseStack(e.stack), stackIndex = 4; if (!vamp.isDefined(arrStack)) { return } arrStack.splice(0, stackIndex); return arrStack } }, getStackInfo: function (arrStack) { if (!vamp.isDefined(arrStack)) { return } var stack = arrStack[0], stackDefault = ["no stack info"], strHttp = vamp.string.checkProtocol("http://", vamp.detect.protocol); index = stack.indexOf(strHttp); if (index < 0) { return stackDefault } stack = stack.substr(index + strHttp.length); index = stack.indexOf(vamp.NAME + "/", index); if (index >= 0) { stack = stack.substr(index + vamp.NAME.length + 1) } var matchesCount = stack.split(":").length - 1; if (matchesCount > 1) { index = stack.lastIndexOf(":"); stack = stack.substr(0, index) } index = stack.lastIndexOf(":"); var line = parseInt(stack.substr(index + 1), 10); stack = stack.substr(0, index); return [stack, line] }, groupBegin: function () { this.sendToConsole("groupCollapsed", arguments) }, groupEnd: function () { this.sendToConsole("groupEnd") }, info: function () { this.debug(this.LEVEL.INFO, arguments) }, log: function () { this.debug(this.LEVEL.LOG, arguments) }, parseStack: function (stack) { if (!vamp.isDefined(stack)) { return } var arr = [], arrStack, index, strHttp = vamp.string.checkProtocol("http://", vamp.detect.protocol); index = stack.indexOf(strHttp); stack = stack.substr(index); arrStack = stack.split("\n"); for (var i = 0; i < arrStack.length; i++) { var el = arrStack[i]; index = el.indexOf(strHttp); if (index > -1) { arr.push(el.substr(index)) } } return arr }, sendToConsole: function (fn, lbl, args, stackInfo) { if (!vamp.isDefined(fn)) { return } if (!this.blnPanel && (vamp.isDefined(console) && vamp.isDefined("console." + fn, true))) { var blnArgs = vamp.isDefined(args) ? true : false, blnStackInfo = vamp.isDefined(stackInfo) ? true : false; eval("console." + fn + "(lbl " + (blnArgs ? ", args" : "") + (blnStackInfo ? ", stackInfo" : "") + ");") } else { eval("this.panel." + fn + "();") } }, setActive: function (blnActive) { this.blnActive = vamp.toBoolean(blnActive) }, setLevel: function (level) { if (!vamp.isDefined(this.level.highest)) { this.level.highest = vamp._.min(this.LEVEL) } if (!vamp.isDefined(this.level.lowest)) { this.level.lowest = vamp._.max(this.LEVEL) } if (vamp.isDefined(level) && vamp._.isNumber(level) && !vamp._.isNaN(level)) { if (level < this.level.highest) { level = this.level.highest } else { if (level > this.level.lowest) { level = this.level.lowest } } } else { level = this.level.highest } this.level.active = level }, setPanel: function (blnPanel) { this.blnPanel = vamp.toBoolean(blnPanel) }, trace: function () { this.debug(this.LEVEL.TRACE, arguments) }, warn: function () { this.debug(this.LEVEL.WARN, arguments) } } })(vamp);
(function (b) { b.debug.history = { GET: { ALL: "all", LAST: "last" }, STRING: { LINE: b.string.repeat("-", 100), STARS: b.string.repeat("*", 100) }, arrStack: [], add: function (g, j, i) { var a = b._.keys(b.debug.LEVEL)[g - 1]; var h = {}; h.level = a; h.message = j; if (g >= b.debug.LEVEL.ERROR) { h.stack = i } this.arrStack.push(h) }, get: function (j, i) { if (!b.isDefined(j)) { j = false } if (!b.isDefined(i)) { i = this.GET.ALL } var h = j ? "<pre>" : "", g = "\n", a; switch (i) { case this.GET.LAST: a = b._.last(this.arrStack); break; default: a = this.arrStack } if (!b._.isArray(a)) { a = [a] } b._.each(a, function (c) { for (var e in c) { var d = c[e]; h += this.STRING.LINE + g; h += e + " : " + this.stringify(d, null) + g } h += j ? "<hr>" : b.string.repeat(this.STRING.STARS + g, 3) + g + g + g }, this); h += j ? "</pre>" : ""; return h }, getLast: function (a) { return this.get(a, this.GET.LAST) }, stringify: function (p, o) { if (!b.isDefined(o)) { o = 0 } if (o > 10) { return } o++; var m = "", r = "\n", a = "\t"; if (b._.isObject(p) && !b._.isFunction(p)) { var n = b._.isArray(p) ? true : false, k = { left: n ? "[" : "{", right: n ? "]" : "}" }; m += k.left; for (var l in p) { var q = p[l]; m += r; m += b.string.repeat(a, o); if (!n) { m += l + " : " } m += this.stringify(q, o); m += "," } m = m.replace(/,+$/, ""); m += r; m += b.string.repeat(a, o - 1); m += k.right } else { if (b._.isString(p)) { m += '"' + p + '"' } else { m += p } } return m }, reset: function () { this.arrStack = [] } } })(vamp);
(function (b) { b.debug.mail = { RECIPIENT: "", KEY: "-pdeSlKg9KCJg-sq6Tcecw", blnActive: false, getContent: function (a) { if (!b.isDefined(a)) { a = false } var f = "", e = a ? "<br>" : "\n"; f += "User agent: " + navigator.userAgent + e; f += "URL: " + location.href + e; f += b.string.repeat(e, 3); f += b.debug.history.get(a); return f }, send: function () { var a = "https://mandrillapp.com/api/1.0/messages/send.json", d = { async: true, key: this.KEY, message: { from_email: b.NAME + "@vrt.be", from_name: b.NAME, subject: b.NAME + " - ERROR MAIL", to: [{ email: this.RECIPIENT }], important: true, auto_text: true, html: this.getContent(true), text: this.getContent(false) } }; b.$.ajax({ data: d, url: a, type: "POST" }).done(function (c) { }).fail(function (c) { }) }, setActive: function (a) { this.blnActive = b.toBoolean(a) } } })(vamp);
(function (b) { b.debug.panel = { CSS: { CONTAINER: { ALL: { fontSize: "0.9em", width: "100%", zIndex: 999999 }, FIXED: { bottom: 0, height: "40%", left: 0, position: "fixed", right: 0 }, MINIMIZED: { bottom: 0, height: "29px", left: 0, position: "fixed", right: 0 } }, CONTENT: { ALL: { backgroundColor: "#FFF" }, FIXED: { bottom: 0, left: 0, overflow: "auto", position: "absolute", right: 0, top: "30px" } }, HEADER: { backgroundColor: "#DDD", borderBottom: "1px #AAA solid", borderTop: "2px #777 solid", height: "27px", padding: "0px 15px", textAlign: "right" }, HEADER_LINK: { borderLeft: "1px #BBB solid", cursor: "pointer", display: "inline-block", padding: "5px 15px" }, HR: { backgroundColor: "#DDD", border: 0, color: "#DDD", height: "1px" }, LOG: { padding: "0 10px" }, MAIN: { ALL: { left: 0, right: 0 }, BOTTOM: { position: "absolute" } } }, ID: { CONTAINER: b.NAME + "_debug_panel", CONTENT: b.NAME + "_debug_panel_content", HEADER_LINK: b.NAME + "_debug_panel_link_" }, LABEL: { ACTIVE: "active", CLEAR: "clear", CLOSE: "close", OFF: "OFF", ON: "ON", POSITION: "position", POSITIONS: ["BOTTOM", "FIXED"], TOGGLE: "toggle" }, $container: null, $content: null, $main: null, blnActive: null, lblPosition: "FIXED", lblToggle: "ON", activate: function (a) { var d = this.LABEL.ACTIVE; if (this.blnActive) { b.$(a).text(d + ": " + this.LABEL.OFF) } else { b.$(a).text(d + ": " + this.LABEL.ON) } this.blnActive = !this.blnActive }, add: function () { var a = b.$("<div/>", { css: this.CSS.LOG }); a.append(b.debug.history.getLast(true)); b.$(a).find("hr").css(this.CSS.HR); this.$content.append(a) }, clear: function () { if (b.isDefined(this.$content)) { this.$content.html("") } }, close: function () { if (b.isDefined(this.$container)) { this.$container.remove() } }, debug: function () { if (!this.isAvailContainer()) { this.reset() } else { if (!this.blnActive) { return } if (!this.isAvailContent()) { this.reset() } } this.add() }, error: function () { this.debug() }, info: function () { this.debug() }, init: function () { if (!b.isDefined(this.$container)) { var s; var a = b.$("<div/>", { id: this.ID.CONTAINER, css: this.CSS.CONTAINER.ALL }); var r = b.$("<div/>", { css: this.CSS.MAIN }); a.append(r); var v = b.$("<div/>", { id: this.ID.HEADER, css: this.CSS.HEADER }); r.append(v); var t = b.$("<div/>", { id: this.ID.CONTENT, css: this.CSS.CONTENT.ALL }); r.append(t); s = this.ID.HEADER_LINK + this.LABEL.ACTIVE; var p = b.$("<a/>", { id: s, css: this.CSS.HEADER_LINK }).text(this.LABEL.ACTIVE + ": " + this.LABEL.ON); b.$(document).on("click", "#" + s, b.delegate(this, function (c) { this.activate(c.target) })); v.append(p); s = this.ID.HEADER_LINK + this.LABEL.TOGGLE; var n = b.$("<a/>", { id: s, css: this.CSS.HEADER_LINK }).text(this.LABEL.TOGGLE + ": " + this.LABEL.ON); b.$(document).on("click", "#" + s, b.delegate(this, this.toggle)); v.append(n); s = this.ID.HEADER_LINK + this.LABEL.POSITION; var o = this.lblPosition; var m = b.$("<a/>", { id: s, css: this.CSS.HEADER_LINK }).text(this.LABEL.POSITION + ": " + o); b.$(document).on("click", "#" + s, b.delegate(this, this.positionClick)); v.append(m); s = this.ID.HEADER_LINK + this.LABEL.CLEAR; var q = b.$("<a/>", { id: s, css: this.CSS.HEADER_LINK }).text(this.LABEL.CLEAR); b.$(document).on("click", "#" + s, b.delegate(this, this.clear)); v.append(q); s = this.ID.HEADER_LINK + this.LABEL.CLOSE; var u = b.$("<a/>", { id: s, css: this.CSS.HEADER_LINK }).text(this.LABEL.CLOSE); b.$(document).on("click", "#" + s, b.delegate(this, this.close)); v.append(u); this.$container = a; this.$content = t; this.$main = r; this.blnActive = true } if (b.detect.doc === b.detect.DOCUMENT.READY) { this.insert() } else { b.$(document).ready(b.delegate(this, this.insert)) } }, insert: function () { b.$("body").append(this.$container); this.position(this.lblPosition) }, isAvailContainer: function () { var a = b.$("#" + this.ID.CONTAINER).length; return a ? true : false }, isAvailContent: function () { var a = b.$("#" + this.ID.CONTENT).length; return a ? true : false }, isVisible: function () { return b.$(this.$content).is(":visible") }, log: function () { this.debug() }, position: function (a) { if (this.lblToggle === this.LABEL.OFF) { this.toggle() } this.$container.attr("style", "").css(this.CSS.CONTAINER.ALL); cssNew = b.isDefined(this.CSS.CONTAINER[a]); if (cssNew) { this.$container.css(cssNew) } this.$content.attr("style", "").css(this.CSS.CONTENT.ALL); cssNew = b.isDefined(this.CSS.CONTENT[a]); if (cssNew) { this.$content.css(cssNew) } this.$main.attr("style", "").css(this.CSS.MAIN.ALL); cssNew = b.isDefined(this.CSS.MAIN[a]); if (cssNew) { this.$main.css(cssNew) } }, positionClick: function () { if (this.isAvailContainer() && this.isAvailContent()) { var f = this.LABEL.POSITION, a = b._.indexOf(this.LABEL.POSITIONS, this.lblPosition), g, h = b.$("#" + this.ID.HEADER_LINK + f); if (++a >= this.LABEL.POSITIONS.length) { a = 0 } this.lblPosition = this.LABEL.POSITIONS[a]; h.text(f + ": " + this.lblPosition); this.position(this.lblPosition) } }, reset: function () { this.close(); this.init() }, toggle: function () { if (this.isAvailContent()) { var d = this.LABEL.TOGGLE, a = b.$("#" + this.ID.HEADER_LINK + d); if (this.lblToggle === this.LABEL.ON) { pos = "MINIMIZED"; this.$content.hide(); a.text(d + ": " + this.LABEL.OFF); this.lblToggle = this.LABEL.OFF } else { pos = this.lblPosition; this.$content.show(); a.text(d + ": " + this.LABEL.ON); this.lblToggle = this.LABEL.ON } this.$container.attr("style", "").css(this.CSS.CONTAINER.ALL); cssNew = b.isDefined(this.CSS.CONTAINER[pos]); if (cssNew) { this.$container.css(cssNew) } } else { this.reset() } }, trace: function () { this.debug() }, warn: function () { this.debug() } } })(vamp);
(function (vamp) { vamp.detect = { BROWSER: { CHROME: "chrome", FIREFOX: "firefox", IE: "ie", SAFARI: "safari" }, DEVICE: { DESKTOP: "desktop", MOBILE: "mobile", TABLET: "tablet" }, DISPLAY: { NORMAL: "normal", RETINA: "retina" }, DOCUMENT: { READY: "ready" }, DOMAIN: { CANVAS: "canvas", COBRA: "cobra", DEREDACTIE: "deredactie", EEN: "een", FANSOFFLANDERS: "fansofflanders", KETNET: "ketnet", KLARA: "klara", MNM: "mnm", OP12: "op12", RADIO1: "radio1", RADIO2: "radio2", SPORZA: "sporza", STUBRU: "stubru", VRT: "vrt" }, ENV: { DEV: "DEV", PROD: "PROD", STAG: "STAG" }, OS: { ANDROID: "android", MAC: "mac", IOS: "ios", WINDOWS_PHONE: "windows phone", WINDOWS: "windows" }, browser: null, browser_version: null, device: null, display: null, doc: null, domain: null, env: null, hostname: null, hasFlash: false, isDisplayRetina: false, isDomainThema: false, isDeviceMobile: false, os: null, protocol: null, ua: null, checkBrowser: function () { var browserDetected = this.ua.browser.family.toLowerCase(); if (vamp.isDefined(this.browser)) { browserDetected = this.browser } this.browser = this.BROWSER.CHROME; vamp._.find(this.BROWSER, function (browser) { if (eval("(/" + browser + "/gim).test(browserDetected)") === true) { this.browser = browser; return true } }, this); this.browser_version = parseInt(this.ua.browser.major); if (isNaN(this.browser_version)) { this.browser_version = -1 } }, checkDevice: function () { var deviceDetected = this.ua.device.type.toLowerCase(); this.device = this.DEVICE.DESKTOP; vamp._.find(this.DEVICE, function (device) { if (eval("(/" + device + "/gim).test(deviceDetected)") === true) { this.device = device; return true } }, this); if (this.device === this.DEVICE.MOBILE || this.device === this.DEVICE.TABLET) { this.isDeviceMobile = true } if (this.env === this.ENV.DEV && this.isDeviceMobile && !vamp.isDefined(vamp.debug.forcePanel)) { vamp.debug.setPanel(true) } }, checkDir: function () { var key, url = vamp.URL.ENV[this.getEnv()]; for (key in vamp.DIR) { vamp.DIR[key] = [url, vamp.URL.BASE, vamp.DIR[key], ""].join("/"); vamp.DIR[key] = vamp.string.checkProtocol(vamp.DIR[key], vamp.detect.protocol) } }, checkDisplay: function () { var pxPerIn = 96, win = vamp.isDefined(window), scr = vamp.isDefined(screen), winDppx = win.devicePixelRatio || Math.sqrt(scr.logicalXDPI * scr.logicalYDPI) / pxPerIn || 0; this.display = winDppx > 1 ? this.DISPLAY.RETINA : this.DISPLAY.NORMAL; if (this.display === this.DISPLAY.RETINA) { this.isDisplayRetina = true } }, checkDocument: function () { vamp.$(document).ready(vamp.delegate(this, function () { this.doc = this.DOCUMENT.READY })) }, checkDomain: function () { var domain; for (var key in this.DOMAIN) { domain = this.DOMAIN[key]; if (this.hostname.indexOf(domain) > -1) { this.domain = domain; break } } switch (this.domain) { case this.DOMAIN.COBRA: case this.DOMAIN.DEREDACTIE: case this.DOMAIN.SPORZA: this.isDomainThema = true } }, checkEnv: function () { this.env = this.getEnv(); if (this.env === this.ENV.DEV) { if (!vamp.isDefined(vamp.debug.blnActive)) { vamp.debug.setActive(true) } if (!vamp.isDefined(vamp.debug.blnActive)) { vamp.debug.mail.setActive(false) } } }, checkFlash: function () { this.hasFlash = vamp.toBoolean(FlashDetect.installed) }, checkHostname: function () { if (!vamp.isDefined(this.hostname)) { this.hostname = window.location.hostname } }, checkOs: function () { var osDetected = this.ua.os.family.toLowerCase(); if (vamp.isDefined(this.os)) { osDetected = this.os } this.os = this.isDeviceMobile ? this.OS.IOS : this.OS.MAC; vamp._.find(this.OS, function (os) { if (eval("(/" + os + "/gim).test(osDetected)") === true) { this.os = os; return true } }, this); if (vamp._.indexOf([this.OS.ANDROID, this.OS.IOS, this.OS.WINDOWS_PHONE], this.os) > -1) { this.device = this.DEVICE.MOBILE; this.isDeviceMobile = true } }, checkProtocol: function () { var protocol = window.location.protocol; protocol = protocol.replace(":", ""); if (protocol === "file") { protocol = "http" } this.protocol = protocol }, getEnv: function () { var puppet = ["PUPPET", "SERVICES", "LINK"].join("_"); switch (vamp.URL.CURRENT) { case puppet: case vamp.URL.ENV.DEV: return this.ENV.DEV; case vamp.URL.ENV.STAG: return this.ENV.STAG; default: return this.ENV.PROD } }, init: function () { this.ua = detect.parse(navigator.userAgent); this.url.checkParams(); this.checkEnv(); this.checkHostname(); this.checkDomain(); this.checkDevice(); this.checkOs(); this.checkBrowser(); this.checkProtocol(); this.checkDisplay(); this.checkDocument(); this.checkDir(); this.checkFlash() }, spoofBrowser: function (browser) { this.browser = browser }, spoofOs: function (os) { this.os = os }, spoofUrl: function (url) { this.hostname = url } } })(vamp);
(function (b) { b.detect.url = { PARAM: { BROWSER: "browser", DEBUG: "debug", DEBUG_MAIL: "mail", DEBUG_PANEL: "panel", OS: "os", URL: "url" }, params: {}, decode: function (a) { return decodeURIComponent(a.replace(/\+/g, " ")) }, checkParams: function () { if (!b._.isEmpty(this.params)) { return } var j = (window.location.href).split("?")[1], k = /([^&=]+)=?([^&]*)/g, e = {}, i; if (!b.isDefined(j)) { return } while (b.isDefined(i = k.exec(j))) { var l = this.decode(i[1]); var a = this.decode(i[2]); if (e[l] !== undefined) { if (!b._.isArray(e[l])) { e[l] = [e[l]] } e[l].push(a) } else { e[l] = a } } this.params = e; this.parseParams() }, parseParams: function () { var l = this.params[this.PARAM.OS]; if (b.isDefined(l)) { b.detect.spoofOs(l) } var j = this.params[this.PARAM.BROWSER]; if (b.isDefined(j)) { b.detect.spoofBrowser(j) } var o = this.params[this.PARAM.URL]; if (b.isDefined(o)) { b.detect.spoofUrl(o) } var m = this.params[this.PARAM.DEBUG_PANEL]; if (b.isDefined(m)) { b.debug.setActive(m); b.debug.setPanel(m) } var k = this.params[this.PARAM.DEBUG]; if (b.isDefined(k)) { b.debug.setActive(k) } var p = parseInt(m, 10); if (b.isDefined(p)) { b.debug.setLevel(p) } var n = parseInt(k, 10); if (b.isDefined(n)) { b.debug.setLevel(n) } var a = this.params[this.PARAM.DEBUG_MAIL]; if (b.isDefined(a)) { b.debug.mail.setActive(a) } } } })(vamp);
(function (vamp) { vamp.event = { off: function (scope, evt) { if (!vamp.isDefined(scope.objListener)) { return } if (!vamp.isDefined(scope.objListener[evt])) { return } scope.objListener[evt] = [] }, on: function (scope, evt, cb) { if (!vamp.isDefined(scope.objListener)) { return } if (!vamp.isDefined(scope.objListener[evt])) { return } if (vamp._.indexOf(scope.objListener[evt], cb) > -1) { return } scope.objListener[evt].push(cb) }, register: function (scope, evt) { if (!vamp.isDefined(scope.objListener)) { scope.objListener = {} } if (!vamp.isDefined(scope.objListener[evt])) { scope.objListener[evt] = [] } var fn = vamp.delegate(scope, function (e) { vamp.event.trigger(scope, evt, e) }); if (vamp.isDefined(scope.addListener)) { scope.addListener(evt, fn) } }, trigger: function (scope, evt, e, blnListener) { if (!vamp.isDefined(scope)) { return } if (!vamp.isDefined(blnListener)) { blnListener = true } var cb = eval("scope.on" + vamp.string.toTitleCase(evt)); if (vamp.isDefined(cb) && blnListener) { vamp.delegate(scope, cb)(e) } vamp._.each(scope.objListener[evt], function (cb) { try { if (vamp.isDefined(scope.objPlaylist) && vamp.isDefined(scope.objPlaylist.name)) { cb.apply(scope, [scope.objPlaylist.name, evt, e]) } else { cb.apply(scope, e) } } catch (err) { vamp.debug.stack = err.stack; vamp.warn(err.message) } }) } } })(vamp);
(function (vamp) { vamp.player = { BRAND: { ID: { 13: "een", 14: "sporza", 16: "ketnet", 17: "canvas", 27: "vrt_nieuws", 28: "op12", 30: "cobra", 31: "mnm", 32: "stubru", 33: "radio1", 34: "radio2", 35: "klara" }, NAME: { CANVAS: "canvas", COBRA: "cobra", DEFAULT: "_default", DEREDACTIE: "deredactie", DE_REDACTIE_MOBILE: "de_redactie_mobile", EEN: "een", KETNET: "ketnet", KLARA: "klara", MNM: "mnm", OP12: "op12", RADIO1: "radio1", RADIO2: "radio2", SPORZA: "sporza", SPORZA_LIVE_MOBILE: "sporza_live_mobile", SPORZA_MOBILE: "sporza_mobile", STUBRU: "stubru", VK14: "vk14", VRT: "vrt", VRT_NIEUWS: "vrt_nieuws", VRTVIDEO: "vrtvideo" } }, ERROR: { CONFIG: "Er gaat iets fout bij de configuratie van deze video.<br>Probeer het later opnieuw.", GENERAL: "Er gaat iets fout bij het afspelen van deze video.<br>Probeer later opnieuw.", GEO: "Omwille van beperkte uitzendrechten is deze video alleen te bekijken binnen Belgi\xEB en met Flash.<br><br>We werken aan een oplossing om deze in de toekomst ook zonder Flash af te spelen.", FLASH: "Deze video is alleen te bekijken met Flash. Onze excuses voor het ongemak.", LIVE_NO_FLASH: "Deze livestream is alleen te bekijken met Flash.<br><br>We werken aan een oplossing om livestreams in de toekomst ook zonder Flash af te spelen.", SETUP: "Er gaat iets fout met het opzetten van de video.<br>Probeer het later opnieuw.", UNAVAIL: "Helaas is deze video voor jouw toestel nog niet beschikbaar.<br>Onze excuses voor het ongemak." }, LISTBAR: { BOTTOM: "bottom", LEFT: "left", RIGHT: "right", TOP: "top" }, TYPE: { JW: { CLASS: "jw", NAME: "JW player" }, LINK: { CLASS: "link", NAME: "native player" } }, blnCssLoaded: false, create: function (obj) { if (!vamp.isDefined(obj)) { return } new vamp.Class.playlist(obj) }, donePlaylist: function (objPlaylist) { var cls = this.select(objPlaylist); var plyr = new (cls)(objPlaylist) }, select: function (objPlaylist) { var cls = "vamp.Class.player"; if (vamp.isDefined(objPlaylist.player)) { cls += "." + objPlaylist.player } return eval(cls) } } })(vamp);
(function (vamp) { vamp.player.source = { DEFAULT: { INSTANCE: "_definst_", MANIFEST: "manifest.f4m", PLAYLIST: "playlist.m3u8" }, EXT: { FLV: ["flv"], MP3: ["mp3"], MP4: ["mp4", "m4v", "mov", "f4v", "m4a", "f4a", "aac"] }, PROTOCOL: { HDS: "hds", HLS: "hls", PDL: "pdl", RTMP: "rtmp", RTSP: "rtsp", YOUTUBE: "youtube" }, SOURCE: { LIVE: "live", YOUTUBE: "youtube", HLS: "hls", RTMP: "rtmp" }, TYPE: { GEO: "geo", LIVE: "live", LIVE_ID: "live_id", LIVE_SMIL: "live_smil", VOD: "vod", YOUTUBE: "youtube" }, TYPE_CLIP: { CLIP: "clip", PROMOTIONAL: "promotional", TRAILER: "trailer" }, arrJsonLive: null, arrJsonSecurity: null, getExtensionType: function (source) { var ext = vamp.string.extractExtension(source), type; for (var key in this.EXT) { if (vamp._.indexOf(this.EXT[key], ext) > -1) { type = key.toLowerCase(); break } } return type }, getPlayer: function (protocol, blnForceNativePlayer) { if (!vamp.isDefined(blnForceNativePlayer)) { blnForceNativePlayer = false } var player; if ((vamp.detect.os === vamp.detect.OS.ANDROID && protocol === this.PROTOCOL.RTSP) || (vamp.detect.isDeviceMobile && blnForceNativePlayer)) { player = vamp.player.TYPE.LINK.CLASS } if (!vamp.isDefined(player)) { player = vamp.player.TYPE.JW.CLASS } return player }, getProtocol: function (source, type, protocol, objConfig) { if (type === this.TYPE.YOUTUBE) { return this.PROTOCOL.YOUTUBE } if (vamp.detect.device === vamp.detect.DEVICE.DESKTOP) { if (vamp.detect.hasFlash) { return this.getProtocolDesktopFlash(source, type, protocol) } else { return this.getProtocolDesktopNoFlash(source, type, protocol, objConfig) } } else { return this.getProtocolMobile(type, objConfig) } }, getProtocolDesktopFlash: function (source, type, protocol) { if (this.isTypeLive(type) || protocol === this.SOURCE.RTMP) { return this.PROTOCOL.HLS } var arrBrowser = [vamp.detect.BROWSER.FIREFOX, vamp.detect.BROWSER.SAFARI]; if (vamp.detect.os === vamp.detect.OS.MAC && vamp._.indexOf(arrBrowser, vamp.detect.browser) > -1) { return this.PROTOCOL.HDS } return this.PROTOCOL.HLS }, getProtocolDesktopNoFlash: function (source, type, protocol, objConfig) { if (protocol === this.SOURCE.HLS && vamp.detect.os === vamp.detect.OS.MAC && vamp.detect.browser === vamp.detect.BROWSER.SAFARI && vamp.detect.browser_version >= 6) { return this.PROTOCOL.HLS } if (this.isTypeLive(type)) { return vamp.player.ERROR.LIVE_NO_FLASH } if (type === this.TYPE.GEO) { return vamp.player.ERROR.GEO } var extension = this.getExtensionType(source); if (extension === "flv") { return vamp.player.ERROR.FLASH } return this.getProtocolPDL(objConfig) }, getProtocolMobile: function (type, objConfig) { switch (vamp.detect.os) { case vamp.detect.OS.IOS: return this.PROTOCOL.HLS; case vamp.detect.OS.ANDROID: switch (type) { case this.TYPE.GEO: case this.TYPE.LIVE: case this.TYPE.LIVE_ID: case this.TYPE.LIVE_SMIL: return this.PROTOCOL.RTSP; case this.TYPE.VOD: return this.getProtocolPDL(objConfig) } break; case vamp.detect.OS.WINDOWS_PHONE: switch (type) { case this.TYPE.VOD: return this.getProtocolPDL(objConfig) } break } }, getProtocolPDL: function (objConfig) { var protocol; if (vamp.isDefined(objConfig.guid)) { var typeClip = vamp.isDefined(objConfig.analytics) && vamp.isDefined(objConfig.analytics.type_clip) ? objConfig.analytics.type_clip : null; typeClip = typeClip.toLowerCase(); switch (typeClip) { case this.TYPE_CLIP.CLIP: case this.TYPE_CLIP.PROMOTIONAL: case this.TYPE_CLIP.TRAILER: protocol = this.PROTOCOL.PDL; break } } else { protocol = this.PROTOCOL.PDL } return protocol }, getType: function (source, protocol) { var found, search; switch (protocol) { case this.SOURCE.LIVE: return this.TYPE.LIVE_ID; case this.SOURCE.YOUTUBE: return this.TYPE.YOUTUBE; default: search = new RegExp(".youtube.|youtu.be/"); found = search.test(source); if (found) { return this.TYPE.YOUTUBE } search = "live.stream"; found = eval("(/" + search + "/gim).test(source)"); if (found) { search = "smil:"; found = eval("(/" + search + "/gim).test(source)"); return (found ? this.TYPE.LIVE_SMIL : this.TYPE.LIVE) } search = "_geo|mp_vod_be"; found = eval("(/" + search + "/gim).test(source)"); if (found) { return this.TYPE.GEO } return this.TYPE.VOD } }, isTypeLive: function (type) { switch (type) { case this.TYPE.LIVE: case this.TYPE.LIVE_ID: case this.TYPE.LIVE_SMIL: return true; default: return false } }, join: function (source) { if (vamp._.isObject(source)) { var str = "", suffix = "/"; vamp._.each(source, function (el) { if (vamp.string.beginsWith(el, suffix)) { el = el.substring(1) } if (!vamp.string.endsWith(el, suffix)) { el += suffix } str += el }); source = str; if (vamp.string.endsWith(source, suffix)) { source = source.substring(0, source.length - 1) } } return source }, parse: function (source, type, protocolSrc, protocolDest, objConfig) { switch (protocolSrc) { case this.SOURCE.LIVE: return source; case this.SOURCE.YOUTUBE: return this.parseYoutube(source); case this.SOURCE.HLS: switch (protocolDest) { case this.PROTOCOL.YOUTUBE: return this.parseYoutube(source); case this.PROTOCOL.HDS: return this.parseHDS(source); case this.PROTOCOL.HLS: return this.parseHLS(source); case this.PROTOCOL.PDL: return this.parseHLS_PDL(source, objConfig); case this.PROTOCOL.RTSP: switch (type) { case this.TYPE.GEO: case this.TYPE.LIVE: case this.TYPE.LIVE_SMIL: case this.TYPE.VOD: return this.parseHLS_RTSP(source) } } break; case this.SOURCE.RTMP: switch (type) { case this.TYPE.GEO: case this.TYPE.VOD: source = this.parseRTMP(source, objConfig) } source = this.join(source); switch (protocolDest) { case this.PROTOCOL.HDS: case this.PROTOCOL.HLS: case this.PROTOCOL.RTMP: if (vamp.detect.device === vamp.detect.DEVICE.DESKTOP) { return source } break; case this.PROTOCOL.PDL: return this.parseHLS_PDL(source, objConfig); case this.PROTOCOL.RTSP: switch (type) { case this.TYPE.LIVE: return this.parseRTMP_RTSP(source, type) } } break } }, parseHDS: function (source) { var search, found, suffix; search = "/playlist.m3u8"; source = source.replace(search, ""); search = "manifest.f4m"; found = eval("(/" + search + "/gim).test(source)"); if (!found) { suffix = "/"; if (!vamp.string.endsWith(source, suffix)) { source += suffix } source += search } return source }, parseHLS: function (source) { var search, found, suffix; search = "/manifest.f4m"; source = source.replace(search, ""); search = "playlist.m3u8"; found = eval("(/" + search + "/gim).test(source)"); if (!found) { suffix = "/"; if (!vamp.string.endsWith(source, suffix)) { source += suffix } source += search } return source }, parseHLS_PDL: function (source, objConfig) { var search, pdl; source = source.replace("/manifest.f4m", ""); source = source.replace("/playlist.m3u8", ""); source = source.replace("/mp4:", "/"); search = "iphone.streampower.be"; pdl = "download.streampower.be"; if (source.indexOf(search) > -1) { source = source.replace(search, pdl); source = source.replace("/_definst_", ""); source = source.replace(pdl, pdl + "/vrt/vrt_mobile"); source = source.replace("/vrt/vrt_mobile/ketnet2011_ngeo", "/vrt/vrt_ketnet2011_ngeo/streams/_definst_"); source = source.replace("/vrt/vrt_mobile/radio2", "/vrt_odvideo/radio/radio2/streams/_definst_") } search = "vod.stream.vrt.be"; pdl = "download.stream.vrt.be"; if (source.indexOf(search) > -1) { source = source.replace(search, pdl); source = source.replace("/_definst_", ""); source = source.replace("smil:", ""); source = source.replace("/PC.smil", ""); if (vamp.isDefined(objConfig.guid)) { var arrPath = source.split("/"); source += "/" + vamp._.last(arrPath) + ".mp4" } if (vamp.detect.os === vamp.detect.OS.WINDOWS_PHONE) { source = source.replace(".m4v", ".mp4") } } source = vamp.string.checkProtocol(source, vamp.detect.protocol); return source }, parseHLS_RTSP: function (source) { source = source.replace(vamp.detect.protocol + "://", "rtsp://"); source = source.replace("/playlist.m3u8", ""); source = source.replace("smil:", "mp4:"); source = source.replace("/PC.smil", ""); if (!vamp.isDefined(this.getExtensionType(source))) { var arrPath = source.split("/"); source += "/" + vamp._.last(arrPath) + ".mp4" } return source }, parseRTMP: function (source, objConfig) { if (!vamp.isDefined(source.file)) { return } var prefix = this.getExtensionType(source.file); if (!vamp.isDefined(prefix)) { vamp.error({ id: objConfig.id, msg: "Onbekende extensie van RTMP source!", url: this.join(source) }) } else { source.file = prefix + ":" + source.file; return this.join(source) } }, parseRTMP_RTSP: function (source, type) { source = source.replace("rtmp://", "rtsp://"); switch (type) { case this.TYPE.LIVE: source = source.replace("web_", "android_"); break } return source }, parseYoutube: function (source) { var search; search = "/embed/"; source = source.replace(search, "/v/"); source = vamp.string.checkProtocol(source, vamp.detect.protocol); return source } } })(vamp);
(function (b) { b.Class.playlist = b.Class.extend({ LISTBAR: { POSITION: [b.player.LISTBAR.RIGHT, b.player.LISTBAR.BOTTOM, b.player.LISTBAR.LEFT, b.player.LISTBAR.TOP], SIZE: 180 }, arrConfig: [], arrConfigToCheck: [], arrConfigToParse: [], arrError: [], blnGeo: false, blnSyndicated: false, domain: null, error: null, objConfig: null, player: null, sourceCount: 0, ads: null, aspectratio: null, autostart: false, brand: null, category: null, controls: true, fullscreen: true, height: 360, id: null, keywords: null, listbar: null, name: null, nativePlayer: false, related: null, skin: null, syndication: null, width: 640, constructor: function (a) { this.arrConfig = []; this.arrConfigToCheck = []; this.arrConfigToParse = []; this.arrError = []; this.objConfig = null; this.setConfig(a); this.setId(a.id); this.setDomain(b.detect.domain); this.setHeight(a.height); this.setWidth(a.width); if (!this.validate()) { this.done(); return } this.setName(a.name); this.setAds(a.ads); this.setAspectratio(a.aspectratio); this.setAutostart(a.autostart); this.setBrand(a.brand); this.setCategory(a.category); this.setControls(a.controls); this.setFullscreen(a.fullscreen); this.setListbar(a.listbar); this.setNativePlayer(a.nativePlayer); this.setRelated(a.related); this.setSkin(a.skin); this.setSyndication(a.synd); this.defineConfigsToCheck(); this.checkConfigNext() }, addConfig: function (a) { if (!b.isDefined(a) || a.hasErrors()) { return } this.sourceCount += a.arrSource.length; if (a.arrSource.length > 0 && !b.isDefined(a.player)) { return } if (!b.isDefined(this.player)) { this.player = a.player } else { if (this.player !== a.player) { return } } if (a.blnGeo === true) { this.blnGeo = true } if (b.isDefined(a.brand)) { this.setBrand(a.brand.id); this.setBrand(a.brand.name) } this.arrConfig.push(a) }, addConfigToParse: function (a) { if (!b.isDefined(a)) { return } this.arrConfigToParse.push(a) }, addError: function (a) { if (b.isEmpty(a) || !b._.isPlainObject(a)) { return } a.id = this.id; a.config = this.objConfig; this.arrError.push(a) }, checkConfigNext: function () { var a = this.arrConfigToCheck.shift(); if (!b.isDefined(a)) { this.parseConfigNext(); return } if (b.isDefined(a.guid)) { new b.Class.playlist.guid(this, a) } else { if (b.isDefined(a.mzid)) { new b.Class.playlist.mzid(this, a) } else { this.addConfigToParse(a); this.checkConfigNext() } } }, checkErrors: function () { b._.each(this.arrError, function (a) { b.error(a) }) }, checkSyndicated: function () { var a = b.detect.DOMAIN[this.syndication.toUpperCase()]; this.blnSyndicated = b.isDefined(a) === false ? true : false; if (!this.blnSyndicated) { this.domain = a } if (a === b.detect.DOMAIN.VRT) { this.setAds(0) } }, defineConfigsToCheck: function () { if (b.isDefined(this.objConfig.playlist)) { this.arrConfigToCheck = b._.clone(this.objConfig.playlist) } else { this.arrConfigToCheck = [this.objConfig] } }, done: function () { this.checkErrors(); b.player.donePlaylist(this) }, doneCheckConfig: function (e) { if (b.isDefined(e)) { for (var f in e) { var a = e[f]; this.addConfigToParse(a) } } this.checkConfigNext() }, doneParseConfig: function (a) { this.addConfig(a); this.parseConfigNext() }, getBrand: function () { var a; if (b.isDefined(this.brand)) { this.brand = this.brand.toUpperCase(); if (b.isDefined(b.player.BRAND.NAME[this.brand])) { a = b.player.BRAND.NAME[this.brand] } if (b.isDefined(b.player.BRAND.ID[this.brand])) { a = b.player.BRAND.ID[this.brand] } } if (b.isDefined(a)) { a = a.toUpperCase() } a = b.isDefined(b.player.BRAND.NAME[a]) ? b.player.BRAND.NAME[a] : this.blnSyndicated ? b.player.BRAND.NAME.VRT_NIEUWS : b.player.BRAND.NAME.DEFAULT; return a }, hasConfigs: function () { if (b.isDefined(this.arrConfig) && this.arrConfig.length > 0) { return true } return false }, hasErrors: function () { if (b.isDefined(this.arrError) && this.arrError.length > 0) { return true } return false }, hasSources: function () { return (this.sourceCount > 0 ? true : false) }, parseConfigNext: function () { var a = this.arrConfigToParse.shift(); if (!b.isDefined(a)) { this.done(); return } new b.Class.playlist.config(this, a) }, setAds: function (a) { if (!b.isDefined(a)) { return } this.ads = a }, setAspectratio: function (a) { if (b.isEmpty(a)) { return } this.aspectratio = a }, setAutostart: function (a) { if (!b.isDefined(a)) { return } this.autostart = a }, setBrand: function (a) { if (b.isDefined(this.brand)) { return } if (!b.isDefined(a)) { return } this.brand = a }, setCategory: function (a) { if (b.isEmpty(a)) { return } this.category = a }, setConfig: function (a) { if (!b.isDefined(a)) { return } this.objConfig = a }, setControls: function (a) { if (!b.isDefined(a)) { return } this.controls = b.toBoolean(a) }, setDomain: function (a) { if (b.isEmpty(a)) { return } this.domain = a }, setFullscreen: function (a) { if (!b.isDefined(a)) { return } this.fullscreen = b.toBoolean(a) }, setHeight: function (a) { if (!b.isDefined(a)) { return } a += ""; var d = a.indexOf("%") > -1 ? true : false; a = parseInt(a, 10); if (isNaN(a)) { return } this.height = a + (d ? "%" : "") }, setId: function (a) { if (!b.isDefined(a)) { return } this.id = a }, setKeywords: function (a) { if (!b.isDefined(a) || b.isDefined(this.keywords)) { return } this.keywords = a }, setListbar: function (h) { if (!b.isDefined(h)) { return } var f = "Listbar not configured correctly: ", g = {}, a; if (b.isDefined(h.position)) { a = h.position.toLowerCase() } if (b._.indexOf(this.LISTBAR.POSITION, a) === -1) { g.position = this.LISTBAR.POSITION[0]; if (b.isDefined(h.position)) { b.warn(f + "property 'position' contains invalid value '" + h.position + "'! Default value is chosen instead: '" + g.position + "'") } } else { g.position = a } g.size = parseInt(h.size, 10); if (!b.$.isNumeric(h.size) || h.size === 0) { g.size = this.LISTBAR.SIZE; if (b.isDefined(h.size)) { b.warn(f + "property 'size' contains invalid value '" + h.size + "'! Default value is chosen instead: '" + g.size + "'") } } this.listbar = g }, setName: function (a) { if (!b.isDefined(a)) { a = this.id } this.name = a }, setNativePlayer: function (a) { if (!b.isDefined(a)) { return } this.nativePlayer = b.toBoolean(a) }, setRelated: function (a) { if (!b.isDefined(a)) { return } this.related = a }, setSkin: function (a) { if (!b.isDefined(a)) { return } this.skin = a }, setSyndication: function (a) { if (!b.isDefined(a)) { return } a += ""; this.syndication = a.toLowerCase(); this.checkSyndicated() }, setWidth: function (d) { if (!b.isDefined(d)) { return } d += ""; var a = d.indexOf("%") > -1 ? true : false; d = parseInt(d, 10); if (isNaN(d)) { return } this.width = d + (a ? "%" : "") }, validate: function () { if (!b.isDefined(this.objConfig.id)) { this.addError({ msg: "Property 'id' is not defined in config" }) } else { if (b.$("#" + this.objConfig.id).length === 0) { this.addError({ msg: "HTML element with this id not found (Property 'id' in config)" }) } } if (this.hasErrors()) { return false } return true } }) })(vamp);
(function (b) { b.Class.playlist.config = b.Class.extend({ JSON_SECURE: { CALLBACK: "parseSecureJson", TIMEOUT: 15000, URL: "secure.json" }, arrError: [], arrSource: [], blnGeo: false, currSourceProtocol: null, indexSecurity: -1, indexSubtitles: -1, objConfig: null, objPlaylist: null, player: null, sourceIndex: 0, ax: null, brand: null, description: null, duration: null, image: null, subs: {}, title: null, constructor: function (d, a) { this.arrError = []; this.arrSource = []; this.subs = {}; this.setPlaylist(d); this.setConfig(a); if (!this.validate()) { this.done(); return } this.setAnalytics(a.analytics); this.setBrand(a.brand); this.setDescription(a.description); this.setDuration(a.duration); this.setImage(a.image); this.setSubtitles(a.subtitles); this.setTitle(a.title); this.setSourceNext() }, addError: function (a) { this.arrError.push(a) }, addSource: function (d) { if (!b.isDefined(d) || d.hasErrors()) { return } if (!b.isDefined(d.file)) { return } if (!b.isDefined(d.player)) { return } for (var a = 0; a < this.arrSource.length; a++) { if (this.arrSource[a].file === d.file) { return } } if (!b.isDefined(this.player)) { this.player = d.player } else { if (this.player !== d.player) { return } } if (d.type === b.player.source.TYPE.GEO) { this.blnGeo = true } this.arrSource.push(d) }, checkErrors: function () { b._.each(this.arrError, function (a) { this.objPlaylist.addError(a) }, this) }, checkSecurityNext: function () { this.indexSecurity++; var a = this.arrSource[this.indexSecurity]; if (!b.isDefined(a)) { this.doneSecure(); return } a.defineFileParts(); if (b._.indexOf(b.player.source.arrJsonSecurity, a.objFile.application) > -1) { a.blnSecure = true; if (b.player.source.isTypeLive(a.type)) { a.fetchSecurityLive() } else { a.fetchSecurityKey() } } else { this.checkSecurityNext(); return } }, checkSubtitleNext: function () { if (b._.keys(this.subs).length > 0) { this.doneSubtitles(); return } this.indexSubtitles++; var a = this.arrSource[this.indexSubtitles]; if (!b.isDefined(a)) { this.doneSubtitles(); return } a.fetchSubtitles() }, done: function () { this.checkSubtitleNext() }, doneSecure: function () { this.checkErrors(); this.objPlaylist.doneParseConfig(this) }, doneSource: function (a) { this.addSource(a); this.setSourceNext() }, doneSubtitles: function () { this.fetchSecurityJson() }, fetchSecurityJson: function () { if (b.isDefined(b.player.source.arrJsonSecurity)) { this.checkSecurityNext(); return } var a = b.DIR.ASSET + this.JSON_SECURE.URL; b.$.jsonp({ url: a, callback: this.JSON_SECURE.CALLBACK, timeout: this.JSON_SECURE.TIMEOUT, success: b.delegate(this, function (d) { b.player.source.arrJsonSecurity = d; this.checkSecurityNext() }), error: b.delegate(this, function (e, j, i) { var h = "Error fetching 'security JSON'! (" + a + ")"; if (!b.isEmpty(j)) { h += " Status: " + j } if (b.isDefined("e.message", true)) { h += " Error: " + i.message } this.addError({ msg: h, url: a }); this.doneSecure() }) }) }, hasErrors: function () { if (b.isDefined(this.arrError) && this.arrError.length > 0) { return true } return false }, hasSources: function () { return (this.arrSource.length > 0 ? true : false) }, setAnalytics: function (a) { if (!b.isDefined(a)) { return } this.ax = a }, setBrand: function (a) { if (!b.isDefined(a)) { return } this.brand = a }, setConfig: function (a) { if (!b.isDefined(a)) { return } this.objConfig = a }, setDescription: function (a) { if (!b.isDefined(a)) { return } this.description = a }, setDuration: function (a) { if (!b.isDefined(a)) { return } a = parseInt(a, 10); if (isNaN(a)) { return } this.duration = a }, setImage: function (a) { if (!b.isDefined(a)) { return } a = b.string.checkProtocol(a, b.detect.protocol); this.image = a }, setPlaylist: function (a) { if (!b.isDefined(a)) { return } this.objPlaylist = a }, setSourceNext: function () { var a = b._.keys(b.player.source.SOURCE)[this.sourceIndex++]; if (!b.isDefined(a)) { this.done(); return } this.currSourceProtocol = b.player.source.SOURCE[a]; var d = this.objConfig.source[this.currSourceProtocol]; if (b.isEmpty(d)) { this.setSourceNext(); return } new b.Class.playlist.source(this, d, this.currSourceProtocol) }, setSubtitles: function (f) { if (!b.isDefined(f)) { return } var e; for (var a in f) { e = f[a]; if (!b.isEmpty(b.string.LANG[a])) { a = b.string.LANG[a] } this.subs[a] = e } }, setTitle: function (a) { if (!b.isDefined(a)) { return } this.title = a }, validate: function () { if (b.isEmpty(this.objConfig.source)) { this.addError({ msg: "Property 'source' is not defined in config" }) } else { if (b.isEmpty(this.objConfig.source.hls) && b.isEmpty(this.objConfig.source.rtmp) && b.isEmpty(this.objConfig.source.youtube) && b.isEmpty(this.objConfig.source.live)) { this.addError({ msg: "Property 'source' has no valid sources" }) } } if (this.hasErrors()) { return false } return true } }) })(vamp);
(function (b) { b.Class.playlist.guid = b.Class.extend({ JSON: { CALLBACK: "videoDetail", COLLECTION_ID: "collection_", COLLECTION_URL: "//mp.vrt.be/api/playlist/%%%%.json", TEST_ID: "test_", TEST_URL: "/guid/%%%%.json", TIMEOUT: 10000, URL: "//mp.vrt.be/api/playlist/details/%%%%.json" }, KEY: { BRAND: { ID: "categoryBrandId", NAME: "categoryBrand" }, DATE: "broadcast_date_start", DATE_TIME: "broadcast_time_start", DURATION: "duration", DESCRIPTION: "description", EPISODE: "episode_name", IMAGE: "media_thumbnails", IMAGE_URL: "url", KEYWORDS: "keywords", PROGRAM: "title", SOURCE: ["iphone_url", "ipad_url", "media_content_url"], TITLE: "title", TYPECLIP: "vod_object_type", WHATSON: "whatsonProductId" }, arrConfig: [], arrError: [], objConfig: null, objJsonItem: null, objJsonConfig: null, objPlaylist: null, constructor: function (d, a) { this.arrConfig = []; this.arrError = []; this.setPlaylist(d); this.setConfig(a); this.fetch() }, addConfig: function (a) { if (!b.isDefined(a)) { return } this.arrConfig.push(a) }, addError: function (a) { this.arrError.push(a) }, checkErrors: function () { b._.each(this.arrError, function (a) { this.objPlaylist.addError(a) }, this) }, defineFetchUrl: function () { var f = this.JSON.URL; this.objConfig.guid += ""; if (this.objConfig.guid.indexOf(this.JSON.TEST_ID) > -1) { var a = this.objConfig.guid.split("_"); this.objConfig.guid = a[1]; var e = window.location.href; f = e.substring(0, e.lastIndexOf("/")) + this.JSON.TEST_URL } else { if (this.objConfig.guid.indexOf(this.JSON.COLLECTION_ID) > -1) { f = this.JSON.COLLECTION_URL } } f = b.string.checkProtocol(f, b.detect.protocol); f = f.replace("%%%%", this.objConfig.guid); return f }, done: function () { this.checkErrors(); this.objPlaylist.doneCheckConfig(this.arrConfig) }, fetch: function () { if (!b.isDefined(this.objConfig.guid)) { return } var a = this.defineFetchUrl(); b.$.jsonp({ url: a, callback: this.JSON.CALLBACK, timeout: this.JSON.TIMEOUT, success: b.delegate(this, function (d) { this.parseJson(d); this.done(); return }), error: b.delegate(this, function (e, j, i) { var h = "Error fetching 'guid JSON'! (" + a + ")"; if (!b.isEmpty(j)) { h += " Status: " + j } if (b.isDefined("e.message", true)) { h += " Error: " + i.message } this.addError({ msg: h, url: a }); this.parseJsonItem(); this.done(); return }) }) }, parseJson: function (e) { if (!b.isDefined(e.channel)) { this.addError({ msg: "Parse error in 'guid JSON': key 'channel' not found", json: e }); return } if (!b.isDefined(e.channel.items)) { this.addError({ msg: "Parse error in 'guid JSON': key 'channel.items' not found", json: e }); return } if (e.channel.items.length === 0) { this.addError({ msg: "Parse error in 'guid JSON': 'channel.items' is empty", json: e }); return } for (var a in e.channel.items) { var f = e.channel.items[a]; if (!b.isDefined(f.item)) { this.addError({ msg: "Parse error in 'guid JSON': key 'item' not found", json: e, item: f }); continue } this.parseJsonItem(f.item) } }, parseJsonAxDate: function () { var o = this.objJsonItem[this.KEY.DATE]; if (b.isEmpty(o)) { return } o = o.split("/"); if (o.length !== 3) { return } var m = o[0], k = o[1] - 1, p = o[2], a = 0, n = 0, j = 0; var l = this.objJsonItem[this.KEY.DATE_TIME]; if (b.isDefined(l) && l !== "") { l = l.split(":"); if (l.length > 0) { a = l[0] } if (l.length > 1) { n = l[1] } if (l.length > 2) { j = l[2] } } o = new Date(m, k, p, a, n, j); if (!b.date.isValid(o)) { return } this.setConfigAx(o, "date") }, parseJsonAxEpisode: function () { var a = this.objJsonItem[this.KEY.EPISODE]; if (b.isEmpty(a)) { return } this.setConfigAx(a, "episode") }, parseJsonAxProgram: function () { var a = this.objJsonItem[this.KEY.PROGRAM]; if (b.isEmpty(a)) { return } this.setConfigAx(a, "program") }, parseJsonAxTypeClip: function () { var a = this.objJsonItem[this.KEY.TYPECLIP]; if (b.isEmpty(a)) { return } this.setConfigAx(a, "type_clip") }, parseJsonAxWhatson: function () { var a = this.objJsonItem[this.KEY.WHATSON]; if (b.isEmpty(a)) { return } this.setConfigAx(a, "whatson") }, parseJsonBrand: function () { var e = {}; var f = this.objJsonItem[this.KEY.BRAND.ID]; if (b.isDefined(f) && f !== "") { e.id = f } var a = this.objJsonItem[this.KEY.BRAND.NAME]; if (b.isDefined(a) && a !== "") { e.name = a } if (b._.size(e) === 0) { return } this.setConfigBrand(e) }, parseJsonDescription: function () { var a = this.objJsonItem[this.KEY.DESCRIPTION]; if (b.isEmpty(a)) { return } this.setConfigDescription(a) }, parseJsonDuration: function () { var g = this.objJsonItem[this.KEY.DURATION]; if (b.isEmpty(g)) { return } g += ""; g = g.split(":"); if (g.length !== 3) { return } var a = parseInt(g[0], 10), h = parseInt(g[1], 10), f = parseInt(g[2], 10); if (isNaN(a) || isNaN(h) || isNaN(f)) { return } this.setConfigDuration((a * 60 * 60 + h * 60 + f) * 1000) }, parseJsonImage: function () { var a = this.objJsonItem[this.KEY.IMAGE]; if (!b.isDefined(a) || a.length === 0) { return } a = a[0][this.KEY.IMAGE_URL]; if (b.isEmpty(a)) { return } this.setConfigImage(a) }, parseJsonItem: function (a) { this.objJsonConfig = b._.cloneDeep(this.objConfig); if (b.isDefined(a)) { this.objJsonItem = a; this.parseJsonSource(); this.parseJsonImage(); this.parseJsonDescription(); this.parseJsonDuration(); this.parseJsonBrand(); this.parseJsonKeywords(); this.parseJsonTitle(); this.parseJsonAxProgram(); this.parseJsonAxEpisode(); this.parseJsonAxTypeClip(); this.parseJsonAxWhatson(); this.parseJsonAxDate() } this.addConfig(this.objJsonConfig) }, parseJsonKeywords: function () { var a = this.objJsonItem[this.KEY.KEYWORDS]; if (b.isEmpty(a)) { return } this.objPlaylist.setKeywords(a) }, parseJsonSource: function () { var e, f; for (var a in this.KEY.SOURCE) { f = this.KEY.SOURCE[a]; e = this.objJsonItem[f]; if (!b.isEmpty(e)) { e = e.split("?")[0]; this.setConfigSource(e, b.player.source.SOURCE.HLS); return } } }, parseJsonTitle: function () { var a = this.objJsonItem[this.KEY.TITLE]; if (b.isEmpty(a)) { return } this.setConfigTitle(a) }, setConfig: function (a) { if (!b.isDefined(a)) { return } this.objConfig = a }, setConfigAx: function (d, a) { if (!b.isDefined(d)) { return } if (!b.isDefined(a)) { return } if (!b.isDefined(this.objJsonConfig.analytics)) { this.objJsonConfig.analytics = {} } this.objJsonConfig.analytics[a] = d }, setConfigBrand: function (a) { if (!b.isDefined(a)) { return } this.objJsonConfig.brand = a }, setConfigDescription: function (a) { if (!b.isDefined(a)) { return } this.objJsonConfig.description = a }, setConfigDuration: function (a) { if (!b.isDefined(a)) { return } this.objJsonConfig.duration = a }, setConfigImage: function (a) { if (!b.isDefined(a)) { return } this.objJsonConfig.image = a }, setConfigSource: function (d, a) { if (!b.isDefined(d)) { return } if (!b.isDefined(a)) { a = b.player.source.SOURCE.HLS } if (!b.isDefined(this.objJsonConfig.source)) { this.objJsonConfig.source = {} } this.objJsonConfig.source[a] = d }, setConfigTitle: function (a) { if (!b.isDefined(a)) { return } this.objJsonConfig.title = a }, setPlaylist: function (a) { if (!b.isDefined(a)) { return } this.objPlaylist = a } }) })(vamp);
(function (b) { b.Class.playlist.mzid = b.Class.extend({ JSON: { CALLBACK: "videoDetail", TIMEOUT: 10000, URL: "api/v1/%%CLIENT%%/assets/%%ASSET%%" }, KEY: { DURATION: "duration", IMAGE: "posterImageUrl", SOURCE: "targetUrls", SOURCE_TYPE: "type", SOURCE_URL: "url" }, MAP_SOURCE_PROTOCOL: { HLS: "HLS", HDS: "HDS", RTMP: "RTMP", RTSP: "RTSP", PROGRESSIVE_DOWNLOAD: "PDL" }, arrConfig: [], arrError: [], objConfig: null, objJsonItem: null, objJsonConfig: null, objPlaylist: null, constructor: function (d, a) { this.arrConfig = []; this.arrError = []; this.objJsonItem = null; this.objJsonConfig = null; this.setPlaylist(d); this.setConfig(a); this.fetch() }, addConfig: function (a) { if (!b.isDefined(a)) { return } this.arrConfig.push(a) }, addError: function (a) { this.arrError.push(a) }, checkErrors: function () { b._.each(this.arrError, function (a) { this.objPlaylist.addError(a) }, this) }, defineFetchUrl: function () { var f = b.URL.MEDIAZONE.ENV, g = ["PUPPET", "ENV", "MEDIAZONE"].join("_"); if (f === g || b.detect.env === b.detect.ENV.PROD) { f = b.URL.MEDIAZONE.PROD } var h = f + "/" + this.JSON.URL; this.objConfig.mzid += ""; h = b.string.checkProtocol(h, "https"); h = h.replace("%%ASSET%%", this.objConfig.mzid); var a = "null"; if (b.isDefined(this.objConfig.mzclient)) { a = this.objConfig.mzclient } h = h.replace("%%CLIENT%%", a); return h }, done: function () { this.checkErrors(); this.objPlaylist.doneCheckConfig(this.arrConfig) }, fetch: function () { if (!b.isDefined(this.objConfig.mzid)) { return } var a = this.defineFetchUrl(); b.$.ajax({ url: a, dataType: "json", callback: this.JSON.CALLBACK, timeout: this.JSON.TIMEOUT, success: b.delegate(this, function (d) { this.parseJsonItem(d); this.done(); return }), error: b.delegate(this, function (e, j, i) { var h = "Error fetching 'mzid JSON'! (" + a + ")"; if (!b.isEmpty(j)) { h += " Status: " + j } if (b.isDefined("e.message", true)) { h += " Error: " + i.message } this.addError({ msg: h, url: a }); this.parseJsonItem(); this.done(); return }) }) }, parseJsonDuration: function () { var a = this.objJsonItem[this.KEY.DURATION]; if (b.isEmpty(a)) { return } this.setConfigDuration(a) }, parseJsonImage: function () { var a = this.objJsonItem[this.KEY.IMAGE]; if (b.isEmpty(a)) { return } this.setConfigImage(a) }, parseJsonItem: function (a) { this.objJsonConfig = b._.cloneDeep(this.objConfig); if (b.isDefined(a)) { this.objJsonItem = a; this.parseJsonSource(); this.parseJsonDuration(); this.parseJsonImage() } else { this.objJsonConfig.source = b._.cloneDeep(this.objJsonConfig.mzsource) } this.addConfig(this.objJsonConfig) }, parseJsonSource: function () { var g = this.objJsonItem[this.KEY.SOURCE]; if (b.isEmpty(g)) { return } for (var i = 0; i < g.length; i++) { var a = g[i], h = this.MAP_SOURCE_PROTOCOL[a[this.KEY.SOURCE_TYPE]], j = a[this.KEY.SOURCE_URL]; if (!b.isDefined(h) || !b.isDefined(j)) { continue } this.setConfigSource(j, b.player.source.PROTOCOL[h]) } }, setConfig: function (a) { if (!b.isDefined(a)) { return } this.objConfig = a }, setConfigDuration: function (a) { if (!b.isDefined(a)) { return } this.objJsonConfig.duration = a }, setConfigImage: function (a) { if (!b.isDefined(a) || !b.isEmpty(this.objJsonConfig.image)) { return } this.objJsonConfig.image = a }, setConfigSource: function (d, a) { if (!b.isDefined(d)) { return } if (!b.isDefined(a)) { a = b.player.source.SOURCE.HLS } if (b.isDefined(b.player.source.SOURCE[a.toUpperCase()])) { if (!b.isDefined(this.objJsonConfig.source)) { this.objJsonConfig.source = {} } this.objJsonConfig.source[a] = d } if (!b.isDefined(this.objJsonConfig.mzsource)) { this.objJsonConfig.mzsource = {} } this.objJsonConfig.mzsource[a] = d }, setPlaylist: function (a) { if (!b.isDefined(a)) { return } this.objPlaylist = a } }) })(vamp);
(function (b) { b.Class.playlist.source = b.Class.extend({ JSON_LIVE: { CALLBACK: "parseLiveJson", TIMEOUT: 15000, URL: "live.json" }, JSON_SECURE_KEY: { CALLBACK: "parseSecureKeyJson", SUFFIX_URL: "/generatekey1?callback=%%1%%", TIMEOUT: 15000, URL: "secvod.stream.vrt.be", URL_LIVE: "seclive.stream.vrt.be" }, JSON_SUB: { CALLBACK: "getSubtitles", TIMEOUT: 1000, URL: b.URL.SUBTITLES + "/%%1%%/list.js" }, YOUTUBE_IMG: "i.ytimg.com/vi/%%ID%%/%%QUALITY%%.jpg", arrError: [], blnSecure: false, fallback: null, file: null, fileOriginal: null, objFile: {}, objConfig: null, player: null, protocol: null, protocolSrc: null, type: null, constructor: function (a, e, f) { this.arrError = []; this.objConfig = null; this.objFile = {}; this.setConfig(a); this.setFileOriginal(b._.cloneDeep(e)); this.setProtocolSrc(f); if (!this.set(e)) { this.done() } }, addError: function (a) { this.arrError.push(a) }, checkErrors: function () { b._.each(this.arrError, function (a) { this.objConfig.addError(a) }, this) }, defineFileParts: function () { var e = this.file.split("://"); this.objFile.protocol = e[0]; var a = e[1].split("/"); this.objFile.domain = a.shift(); this.objFile.application = a.shift(); this.objFile.arrUrl = []; this.objFile.hasDefaultInstance = false; this.objFile.hasManifest = false; this.objFile.hasPlaylist = false; for (var f = 0; f < a.length; f++) { if (a[f] === b.player.source.DEFAULT.INSTANCE) { this.objFile.hasDefaultInstance = true; continue } if (a[f] === b.player.source.DEFAULT.MANIFEST) { this.objFile.hasManifest = true; continue } if (a[f] === b.player.source.DEFAULT.PLAYLIST) { this.objFile.hasPlaylist = true; continue } this.objFile.arrUrl.push(a[f]) } }, defineSecurityUrl: function (i) { i = b.B64.decode(i); var j = "@", g = i.split(j); if (b.player.source.isTypeLive(this.type)) { var h = this.getLiveDomain(); this.parseJson(h, "secure"); this.defineFileParts() } g.push(this.objFile.arrUrl.join("/")); if (this.protocol === b.player.source.PROTOCOL.RTSP) { this.objFile.protocol = this.protocol } var a = this.objFile.protocol + "://"; a += this.objFile.domain + "/"; a += this.objFile.application + "/"; if (this.objFile.hasDefaultInstance) { a += b.player.source.DEFAULT.INSTANCE + "/" } a += b.B64.encode(g.join(j)); if (this.objFile.protocol === b.player.source.PROTOCOL.RTSP && !b.player.source.isTypeLive(this.type)) { a += ".mp4" } if (this.objFile.hasManifest) { a += "/" + b.player.source.DEFAULT.MANIFEST } if (this.objFile.hasPlaylist) { a += "/" + b.player.source.DEFAULT.PLAYLIST } this.file = a; this.objConfig.checkSecurityNext() }, done: function () { this.checkErrors(); this.objConfig.doneSource(this) }, fetchLive: function () { var f; if (this.type !== b.player.source.TYPE.LIVE_ID) { var h = new RegExp("vrt_(.*?)_live", "i"), g = this.file.match(h); if (!b.isDefined(g) || !b.isDefined(g[1])) { this.done(); return } f = g[1] } else { f = this.file } if (b.isDefined(b.player.source.arrJsonLive)) { this.parseJson(f); this.done(); return } var a = b.DIR.ASSET + this.JSON_LIVE.URL; b.$.jsonp({ url: a, callback: this.JSON_LIVE.CALLBACK, timeout: this.JSON_LIVE.TIMEOUT, success: b.delegate(this, function (c) { b.player.source.arrJsonLive = c; this.parseJson(f); this.done() }), error: b.delegate(this, function (c, j, e) { var d = "Error fetching 'live stream JSON'! (" + a + ")"; if (!b.isEmpty(j)) { d += " Status: " + j } if (b.isDefined("e.message", true)) { d += " Error: " + e.message } this.addError({ msg: d, url: a }); if (this.type === b.player.source.TYPE.LIVE_ID) { this.file = null } this.done() }) }) }, fetchSecurityKey: function () { var a = "http://"; if (b.player.source.isTypeLive(this.type)) { a += this.JSON_SECURE_KEY.URL_LIVE } else { a += this.JSON_SECURE_KEY.URL } a += this.JSON_SECURE_KEY.SUFFIX_URL; a = a.replace("%%1%%", this.JSON_SECURE_KEY.CALLBACK); b.$.jsonp({ url: a, callback: this.JSON_SECURE_KEY.CALLBACK, timeout: this.JSON_SECURE_KEY.TIMEOUT, success: b.delegate(this, function (d) { if (b.isDefined(d.key)) { this.defineSecurityUrl(d.key) } else { this.addError({ msg: "Property 'key' not found in returned 'security key JSON'" }); this.objConfig.checkSecurityNext() } }), error: b.delegate(this, function (e, j, i) { var h = "Error fetching 'security key JSON'! (" + a + ")"; if (!b.isEmpty(j)) { h += " Status: " + j } if (b.isDefined("e.message", true)) { h += " Error: " + i.message } this.addError({ msg: h, url: a }); this.objConfig.checkSecurityNext() }) }) }, fetchSecurityLive: function () { if (b.isDefined(b.player.source.arrJsonLive)) { this.fetchSecurityKey(); return } b.$.jsonp({ url: b.DIR.ASSET + this.JSON_LIVE.URL, callback: this.JSON_LIVE.CALLBACK, timeout: this.JSON_LIVE.TIMEOUT, success: b.delegate(this, function (a) { b.player.source.arrJsonLive = a; this.fetchSecurityKey() }), error: b.delegate(this, function (e, a, h) { var g = "Error fetching 'security live JSON'! (" + url + ")"; if (!b.isEmpty(a)) { g += " Status: " + a } if (b.isDefined("e.message", true)) { g += " Error: " + h.message } this.addError({ msg: g, url: url }); this.fetchSecurityKey() }) }) }, fetchSubtitles: function () { var o, q = 3, r = b.player.source.join(this.fileOriginal), m; r = r.replace("/_definst_", ""); r = r.replace("/playlist.m3u8", ""); r = r.replace("/manifest.f4m", ""); var l = r.split("/"), i = b._.keys(b.detect.DOMAIN); if (l.length <= q) { this.objConfig.checkSubtitleNext(); return } for (var n = 0; n < i.length; n++) { o = b.detect.DOMAIN[i[n]]; if (l[q].indexOf(o) > -1) { m = o; break } } if (!b.isDefined(m)) { this.objConfig.checkSubtitleNext(); return } if (m !== b.detect.DOMAIN.KETNET) { this.objConfig.checkSubtitleNext(); return } l = l.slice(q); l[0] = m; var a = l.join("/"); a = a.replace("/mp4:ketnet", ""); var p = b.string.checkProtocol(this.JSON_SUB.URL, b.detect.protocol); p = p.replace("%%1%%", a); b.$.jsonp({ url: p, callback: this.JSON_SUB.CALLBACK, timeout: this.JSON_SUB.TIMEOUT, success: b.delegate(this, function (g) { if (b.isDefined(g.url) && b.isDefined(g.subtitles) && g.subtitles.length > 0) { var e = {}, c, f; for (var d = 0; d < g.subtitles.length; d++) { c = b.string.trimExtension(g.subtitles[d]); f = [b.URL.SUBTITLES, g.url, g.subtitles[d]].join("/"); e[c] = b.string.checkProtocol(f, b.detect.protocol) } this.objConfig.setSubtitles(e) } this.objConfig.checkSubtitleNext() }), error: b.delegate(this, function (f, e, d) { var c = d; if (b.isDefined("e.message", true)) { c = d.message } b.warn("No subtitles found:", p); this.objConfig.checkSubtitleNext() }) }) }, fetchYoutubeImage: function () { if (!b.isEmpty(this.objConfig.image)) { this.done(); return } var i = this.getYoutubeId(); if (b.isEmpty(i) || this.objConfig.objPlaylist.width <= 480) { this.done(); return } var j = ["maxresdefault"], k = 0, m = this, l = this.YOUTUBE_IMG.replace("%%ID%%", i), a; l = b.string.checkProtocol(l, b.detect.protocol); a = l.replace("%%QUALITY%%", j[k]); var n = new Image(); n.onload = function () { if (this.width <= 120) { this.onerror() } else { m.objConfig.setImage(this.src); m.done() } }; n.onerror = function () { b.log("ERROR", this.src, this.width); if (k >= j.length) { m.done() } else { this.loadNextImage() } }; n.loadNextImage = function () { a = l.replace("%%QUALITY%%", j[k]); n.src = a; k++ }; n.loadNextImage() }, getLiveDomain: function () { var e; if (this.type !== b.player.source.TYPE.LIVE_ID) { var a = new RegExp("vrt_(.*?)_live", "i"), f = this.file.match(a); if (!b.isDefined(f) || !b.isDefined(f[1])) { return false } e = f[1] } else { e = this.file } return e.toLowerCase() }, getYoutubeId: function () { var a = /(youtu(?:\.be|be\.com)\/(?:.*v(?:\/|=)|(?:.*\/)?)([\w'-]+))/i; var d = a.exec(this.file); return d[2] }, hasErrors: function () { if (b.isDefined(this.arrError) && this.arrError.length > 0) { return true } return false }, parseJson: function (i, g) { var j = b.player.source.arrJsonLive; if (!b.isDefined(j[i])) { this.addError({ msg: "Domain not found in 'live stream JSON'!", domain: i, json: j }); return } var h = this.protocol; if (b.isDefined(g)) { h = g } var a = j[i][h]; if (!b.isDefined(a)) { this.addError({ msg: "Protocol for certain domain not found in 'live stream JSON'!", domain: i, protocol: h, json: j }); return } if (h === b.player.source.PROTOCOL.RTSP) { h = b.player.source.PROTOCOL.RTMP } if (this.file === a) { return } if (!b.isDefined(g)) { this.protocolSrc = h } this.set(a, false) }, set: function (e, f) { if (!b.isDefined(f)) { f = true } var a = e; e = b.player.source.join(e); this.type = b.player.source.getType(e, this.protocolSrc); this.protocol = b.player.source.getProtocol(e, this.type, this.protocolSrc, this.objConfig.objConfig); if (!b.isDefined(this.protocol)) { b.info("Protocol not defined for this os: '" + b.detect.os + "' and this source type: '" + this.type + "'"); return } else { if (this.protocol === b.player.ERROR.LIVE_NO_FLASH) { this.objConfig.objPlaylist.error = "LIVE_NO_FLASH"; return } if (this.protocol === b.player.ERROR.GEO) { this.objConfig.objPlaylist.error = "GEO"; return } if (this.protocol === b.player.ERROR.FLASH) { this.objConfig.objPlaylist.error = "FLASH"; return } } this.file = null; if (b.isDefined(this.objConfig.objConfig.mzsource)) { this.file = this.objConfig.objConfig.mzsource[this.protocol] } if (b.isEmpty(this.file)) { this.file = b.player.source.parse(a, this.type, this.protocolSrc, this.protocol, this.objConfig.objConfig) } if (!b.isDefined(this.file)) { return } this.player = b.player.source.getPlayer(this.protocol, this.objConfig.objPlaylist.nativePlayer); if (!f) { return } if (b.player.source.isTypeLive(this.type)) { this.fetchLive() } else { if (this.type === b.player.source.TYPE.YOUTUBE) { this.fetchYoutubeImage() } else { this.done() } } return true }, setConfig: function (a) { if (!b.isDefined(a)) { return } this.objConfig = a }, setFileOriginal: function (a) { if (!b.isDefined(a)) { return } this.fileOriginal = a }, setProtocolSrc: function (a) { if (!b.isDefined(a)) { return } this.protocolSrc = a } }) })(vamp);
(function (vamp) { vamp.Class.player = vamp.Class.extend({ id: null, name: null, objListener: null, objPlaylist: null, constructor: function (objPlaylist) { this.objListener = {}; this.objPlaylist = null; this.setPlaylist(objPlaylist); this.setId(objPlaylist.id); this.setName(objPlaylist.name); vamp.event.register(this, "error"); vamp.coll.add(this); if (!vamp.isEmpty(objPlaylist.error)) { this.showError(objPlaylist.error); return } if (!objPlaylist.hasConfigs()) { this.showError("CONFIG"); return } if (!objPlaylist.hasSources() || !vamp.isDefined(this.create)) { this.showError("UNAVAIL"); return } if (objPlaylist.blnGeo === true && vamp.blnGeoblocked !== false) { this.checkGeo() } else { this.create() } }, checkGeo: function (scope) { if (!vamp.isDefined(scope)) { scope = this } if (!vamp.isDefined(vamp.blnGeoblocked)) { vamp.isGeoblocked(scope, scope.checkGeo) } else { if (vamp.blnGeoblocked === true) { scope.showError("GEO") } else { scope.create() } } }, getHeight: function () { return this.objPlaylist.height }, getWidth: function () { return this.objPlaylist.width }, off: function (Array) { if (!vamp._.isArray(arrEvt)) { arrEvt = [arrEvt] } for (var i in arrEvt) { vamp.event.off(this, arrEvt[i]) } }, on: function (arrEvt, cb) { if (!vamp._.isArray(arrEvt)) { arrEvt = [arrEvt] } for (var i in arrEvt) { vamp.event.on(this, arrEvt[i], cb) } }, setId: function (id) { if (!vamp.isDefined(id)) { return } this.id = id }, setName: function (name) { if (!vamp.isDefined(name)) { return } this.name = name }, setPlaylist: function (objPlaylist) { if (!vamp.isDefined(objPlaylist)) { return } this.objPlaylist = objPlaylist }, showError: function (type, blnTrigger) { if (!vamp.isDefined(this.id)) { return } if (!vamp.isDefined(blnTrigger)) { blnTrigger = true } var msg = eval("vamp.player.ERROR." + type); if (!vamp.isDefined(msg)) { return } vamp.error({ id: this.id, msg: msg }); var $container = vamp.$("#" + this.id); if ($container.length === 0) { return } var cssContainer = { backgroundColor: "#000", display: "block", position: "relative", width: this.objPlaylist.width }; var height; if (!vamp.isEmpty(this.objPlaylist.aspectratio)) { var arr = this.objPlaylist.aspectratio.split(":"); if (arr.length === 2 && !isNaN(arr[0]) && !isNaN(arr[1])) { height = 100 / parseInt(arr[0]) * parseInt(arr[1]) } } if (vamp.isEmpty(height)) { cssContainer.height = this.objPlaylist.height } else { cssContainer.paddingBottom = height + "%" } $container.html("").css(cssContainer); var $divError = vamp.$("<div/>"); $divError.html(msg); $container.append($divError); $divError.css({ color: "#fff", left: 0, marginTop: "-" + $divError.height() / 2 + "px", padding: "0 10px", position: "absolute", right: 0, textAlign: "center", top: "50%" }); $divError.find("a").css({ color: "#bd1418", display: "inline" }); if (blnTrigger) { this.trigger("error", { message: msg, type: type }) } }, trigger: function (evt, obj) { vamp.event.trigger(this, "error", obj, false) } }) })(vamp);
(function (vamp) { vamp.Class.player.jw = vamp.Class.player.extend({ ABOUT: { LINK: "http://www.vrt.be", TEXT: vamp.DESC + " " + vamp.VERSION }, ASSET: { HDS: "akamai_3.8/akamai.flash.swf", FLASH: "jwplayer_6.12/jwplayer.flash.swf", HTML5: "jwplayer_6.12/jwplayer.html5.min.js" }, CSS: "layout/vamp.css", DEFAULT: { RELATED: "Gerelateerde video's", SUFFIX_ID: "_wrapper" }, EVENT: { BUFFER: "buffer", COMPLETE: "complete", PAUSE: "pause", PLAY: "play", SEEK: "seek" }, KEY: "VTJXSkhNcTBnZ0huT3BLMk5qQ1ZMbTNSSHd2S2dTekZidjV6MWc9PQ==", NAME: vamp.player.TYPE.JW.NAME, STATE: { BUFFERING: "BUFFERING", IDLE: "IDLE", PAUSED: "PAUSED", PLAYING: "PLAYING" }, VERSION: "6.12", ads: null, api: null, arrPosLast: [], arrPlugins: [], blnFullscreened: false, blnSeeked: false, blnStreamLive: null, blnSkippable: false, controlsState: null, height: null, html5: null, intPlaying: null, notifyLastEvent: null, objAd: null, objAx: null, objListbar: null, objLogo: null, objSetup: null, playlistIndex: -1, posLast: 0, posMax: 0, posSeek: 0, posSeekForce: 0, subtitle: null, width: null, addListener: function (evt, cb) { if (vamp.isDefined(this.api) && vamp.isDefined(eval("this.api.on" + vamp.string.toTitleCase(evt)))) { eval("this.api.on" + vamp.string.toTitleCase(evt) + "(cb)") } }, checkPlaying: function () { clearInterval(this.intPlaying); this.arrPosLast = []; this.intPlaying = setInterval(vamp.delegate(this, function () { this.verifyPlaying() }), 200) }, checkPlugins: function () { if (this.arrPlugins.length === 0) { this.init(); return } var url = this.arrPlugins.pop(); vamp.$.ajax({ url: url, async: false }).error(vamp.delegate(this, function (jqXHR, textStatus, errorThrown) { vamp.warn("HDS plugin - ajax error : " + errorThrown); this.checkPlugins() })).success(vamp.delegate(this, function () { this.checkPlugins() })) }, create: function () { this.api = null; this.arrPlugins = []; this.arrPosLast = []; this.objAd = null; this.objAx = null; this.objListbar = null; this.objLogo = null; this.objSetup = null; this.height = this.objPlaylist.height; this.width = this.objPlaylist.width; if (!vamp.isDefined("jwplayer", true)) { vamp.error({ id: this.id, msg: this.NAME + " " + this.VERSION + " library not loaded!" }); return } this.loadCss(); this.objAd = new vamp.Class.ad(this) }, createAccessibility: function () { var $container = vamp.$("#" + this.id), txt; $container.find("a").removeAttr("title").removeAttr("href"); if (vamp.detect.isDeviceMobile) { txt = "Start video."; $container.attr("aria-label", txt) } else { var $object = $container.find("object"); txt = "De videospeler bedienen met het toetsenbord. Bedien dit videofragment met de volgende toetsen. De video starten, pauzeren of stoppen: Spatiebalk of Enter. Snel doorspoelen: Pijl rechts. Snel terugspoelen: Pijl links. Het volume verhogen: Pijl omhoog. Het volume verlagen: Pijl omlaag. Het geluid aan- of uitzetten: M! De video schermvullend weergeven: F! De schermvullende weergave uitzetten: Esc. "; $object.attr("aria-label", txt) } }, fullscreen: function () { if (!vamp.isDefined(this.html5)) { return } if (vamp.toBoolean(this.objPlaylist.fullscreen) === false) { return } if (vamp.detect.isDeviceMobile === false) { return } if (this.api.getFullscreen()) { return } if (this.blnFullscreened) { return } if (this.controlsState !== this.STATE.PLAYING) { return } var fct, vid = this.html5.get(0); if (vid.requestFullscreen) { fct = "requestFullscreen" } else { if (vid.mozRequestFullScreen) { fct = "mozRequestFullScreen" } else { if (vid.webkitRequestFullscreen) { fct = "webkitRequestFullscreen" } else { if (vid.msRequestFullscreen) { fct = "msRequestFullscreen" } } } } if (!vamp.isDefined(fct)) { return } this.play(); eval("vid." + fct + "();"); this.blnFullscreened = true }, getDuration: function () { if (this.isLive()) { return 0 } var duration = this.api.getDuration(); if (!vamp.isDefined(duration)) { duration = 0 } if (vamp.isDefined(this.html5) && this.html5.get(0).duration > duration) { duration = this.html5.get(0).duration } return duration }, getHeight: function () { var h = this.api.getHeight(); if (!vamp.isDefined(h)) { h = this.parent.getHeight.call(this) } return h }, getPlaylistAutostart: function () { if (vamp.isDefined(this.api)) { return true } if (!vamp.detect.isDeviceMobile && vamp.toBoolean(this.objPlaylist.autostart) === true) { return true } return false }, getPlaylistConfig: function (index) { if (!vamp.isDefined(this.api)) { return } if (!vamp.isDefined(index)) { var indexPlaylist = this.api.getPlaylistIndex(), item = this.api.getPlaylistItem(indexPlaylist); index = item.mediaid } return this.objPlaylist.arrConfig[index] }, getPlaylistDuration: function () { var duration = 0; for (var i in this.objPlaylist.arrConfig) { var objConfig = this.objPlaylist.arrConfig[i]; if (!vamp.isDefined(objConfig.duration)) { continue } duration += objConfig.duration } return duration }, getPlaylistProtocol: function () { if (!vamp.isDefined(this.api)) { return } var index = this.api.getPlaylistIndex(), item; if (!vamp.isDefined(index)) { item = this.getSetupPlaylist()[0] } else { item = this.api.getPlaylistItem(index) } return item.protocol }, getPlaylistSource: function () { if (!vamp.isDefined(this.api)) { return } var index = this.api.getPlaylistIndex(), item; if (!vamp.isDefined(index)) { item = this.getSetupPlaylist()[0] } else { item = this.api.getPlaylistItem(index) } return item.sources[0].file }, getPosition: function () { if (this.isLive()) { return 0 } if (vamp.isDefined(this.html5)) { return this.html5.get(0).currentTime } return this.api.getPosition() }, getSetup: function () { return { aboutlink: this.ABOUT.LINK, abouttext: this.ABOUT.TEXT, analytics: { enabled: false }, aspectratio: this.objPlaylist.aspectratio, autostart: this.getPlaylistAutostart(), controls: this.objPlaylist.controls, displaytitle: false, flashplayer: vamp.DIR.ASSET + this.ASSET.FLASH, html5player: vamp.DIR.ASSET + this.ASSET.HTML5, height: this.height, playlist: this.getSetupPlaylist(), primary: "flash", related: this.getSetupPlaylistRelated(), skin: this.getSetupPlaylistSkin(), stagevideo: false, width: this.width } }, getSetupPlaylist: function (blnSkip) { if (!vamp.isDefined(blnSkip)) { blnSkip = false } if (!vamp.isDefined(this.ads)) { this.ads = this.hasAds() } var arrPlaylist = [], blnHDS = false, img, item, url; for (var i = 0; i < this.objPlaylist.arrConfig.length; i++) { var objConfig = this.objPlaylist.arrConfig[i]; if (objConfig.hasSources()) { if (arrPlaylist.length === 0) { img = objConfig.image } item = { description: objConfig.description, image: objConfig.image, mediaid: i, title: objConfig.title, tracks: this.getSetupPlaylistConfigSubtitles(objConfig), protocol: objConfig.arrSource[0].protocol }; switch (objConfig.arrSource[0].protocol) { case vamp.player.source.PROTOCOL.HDS: url = vamp.DIR.ASSET + this.ASSET.HDS; item.file = objConfig.arrSource[0].file; item.provider = url; item.type = "mp4"; blnHDS = true; this.arrPlugins.push(url); break; default: item.sources = this.getSetupPlaylistConfigSources(objConfig) } arrPlaylist.push(item) } } if (this.hasAds()) { var arrAds = this.objAd.getItems(); for (i = arrAds.length - 1; i >= 0; i--) { var objAd = arrAds[i]; item = { file: objAd.ad, image: img, isAd: true }; if (blnHDS) { item.provider = vamp.DIR.ASSET + this.ASSET.HDS; item.type = "mp4" } arrPlaylist.unshift(item) } } if (blnSkip) { if (this.hasAds()) { this.objAd.shift() } arrPlaylist.shift() } return arrPlaylist }, getSetupPlaylistConfigSources: function (objConfig) { var arrSources = []; vamp._.each(objConfig.arrSource, function (objSource) { arrSources.push({ file: objSource.file }) }); return arrSources }, getSetupPlaylistConfigSubtitles: function (objConfig) { var arrSubtitles = []; vamp._.each(objConfig.subs, function (sub, label) { arrSubtitles.push({ file: sub, label: label, "default": false, kind: "captions" }) }); return arrSubtitles }, getSetupPlaylistRelated: function () { if (!vamp.isDefined(this.objPlaylist.related)) { return } var msg = "Related items not configured correctly: ", obj = {}, related = this.objPlaylist.related; if (!vamp.isDefined(related.file)) { vamp.error({ id: this.id, msg: msg + "property 'file' is required", object: related }); return } obj.file = related.file; if (vamp.isDefined(related.thumbs)) { if (!vamp.isDefined(related.thumbs.height) || !vamp.isDefined(related.thumbs.width)) { vamp.warn(msg + "properties 'height' and 'width' for thumbs are required (default dimensions are taken)", related) } else { var h = parseInt(related.thumbs.height, 10), w = parseInt(related.thumbs.width, 10); if (isNaN(h) || isNaN(w)) { vamp.warn(msg + "value for property 'height' or 'width' for thumbs is not valid (default dimensions are taken)", related) } else { obj.dimensions = w + "x" + h } } } obj.heading = vamp.isDefined(related.title) ? related.title : this.DEFAULT.RELATED; return obj }, getSetupPlaylistSkin: function () { var skin = new vamp.Class.player.jw.skin(this.objPlaylist); return skin.file }, getState: function () { return this.api.getState() }, getWidth: function () { var w = this.api.getWidth(); if (!vamp.isDefined(w)) { w = this.parent.getWidth.call(this) } return w }, init: function () { jwplayer.key = vamp.B64.decode(this.KEY); this.api = jwplayer(this.objPlaylist.id).setup(this.objSetup); this.setListeners(); vamp.coll.add(this) }, inspect: function () { vamp.groupBegin(this.id); vamp.log("HTML element : ", vamp.$("#" + this.id)[0]); vamp.log("Input : ", this.objPlaylist.objConfig); vamp.log("Output : ", this.objSetup); vamp.groupEnd() }, isLive: function () { if (!vamp.isDefined(this.blnStreamLive)) { var src = this.getPlaylistSource(), srcType = vamp.player.source.getType(src); this.blnStreamLive = vamp.player.source.isTypeLive(srcType) } return this.blnStreamLive }, isYoutube: function () { var src = this.getPlaylistSource(), srcType = vamp.player.source.getType(src); return srcType === vamp.player.source.TYPE.YOUTUBE ? true : false }, load: function (arrPlaylist) { this.api.load(arrPlaylist); this.play() }, loadCss: function () { if (vamp.player.blnCssLoaded) { return } vamp.$("<link/>", { rel: "stylesheet", type: "text/css", href: vamp.DIR.ASSET + this.CSS }).appendTo("head"); vamp.player.blnCssLoaded = true }, notify: function (evt, pos) { if (!vamp.isDefined(this.objAx)) { return } var blnSeek = false; if (this.blnSeeked) { blnSeek = true; this.blnSeeked = false } if (this.isLive()) { this.objAx.notify(evt, pos); return } else { switch (evt) { case this.EVENT.BUFFER: case this.EVENT.PAUSE: case this.EVENT.PLAY: evt = null } } if (!vamp.isDefined(pos) && vamp.isDefined(this.html5) && Math.abs(this.posLast - this.getPosition()) > 1) { blnSeek = true } if (!vamp.isDefined(evt)) { var state = this.getState(); if (state === this.STATE.BUFFERING) { evt = this.EVENT.BUFFER; pos = this.posLast; this.posLast = this.getPosition(); if (blnSeek) { this.objAx.notify(this.EVENT.SEEK, pos, blnSeek); this.objAx.notify(this.EVENT.PLAY, null, blnSeek) } } if (!vamp.isDefined(evt)) { switch (state) { case this.STATE.IDLE: case this.STATE.PAUSED: evt = this.EVENT.PAUSE; if (!blnSeek) { this.posLast = this.getPosition() } break; case this.STATE.PLAYING: evt = this.EVENT.PLAY; pos = this.posLast; this.posLast = this.getPosition(); if (blnSeek && this.notifyLastEvent === evt) { this.objAx.notify(this.EVENT.SEEK, pos, blnSeek); this.objAx.notify(this.EVENT.PLAY, null, blnSeek) } break } } if (!vamp.isDefined(evt)) { return } if (evt === this.notifyLastEvent) { return } this.notifyLastEvent = evt } if (evt === this.EVENT.COMPLETE) { this.notifyLastEvent = null; this.posLast = 0 } if (blnSeek) { pos = null } this.objAx.notify(evt, pos, blnSeek) }, pause: function () { if (this.getState() === this.STATE.PLAYING) { setTimeout(vamp.delegate(this, function () { this.api.pause(true) }), 100) } }, play: function () { if (this.getState() !== this.STATE.PLAYING) { this.api.play(true) } }, reload: function () { var arrPlaylist = this.api.getPlaylist(), posLast = this.posLast; this.api.load(arrPlaylist); this.posSeekForce = Math.floor(posLast); setTimeout(vamp.delegate(this, function () { this.play() }), 500) }, remove: function () { if (!vamp.isDefined(this.api)) { return } return this.api.remove() }, reset: function () { this.notify(this.EVENT.PAUSE, this.posLast); this.setSubtitleTrack(); this.objAx = null; this.blnStreamLive = null; this.controlsState = null; this.setSkippable(false); this.notifyLastEvent = null; this.playlistIndex = 0; this.posLast = 0; this.posMax = 0; this.posSeek = 0; this.posSeekForce = 0; clearInterval(this.intPlaying); this.verifyAx() }, resize: function (w, h) { if (!vamp.isDefined(this.api)) { return } if (!vamp.isDefined(w)) { w = this.getWidth() } if (!vamp.isDefined(h)) { h = this.getHeight() } this.api.resize(w, h) }, seek: function (pos) { if (vamp.isEmpty(pos)) { return } this.api.seek(pos) }, setControls: function (blnShow) { if (this.objPlaylist.controls === false && blnShow === true) { return } this.api.setControls(blnShow) }, setListeners: function () { vamp.event.register(this, "adSkip"); vamp.event.register(this, "beforeComplete"); vamp.event.register(this, "beforePlay"); vamp.event.register(this, "buffer"); vamp.event.register(this, "bufferChange"); vamp.event.register(this, "captionsChange"); vamp.event.register(this, "captionsList"); vamp.event.register(this, "complete"); vamp.event.register(this, "controls"); vamp.event.register(this, "displayClick"); vamp.event.register(this, "error"); vamp.event.register(this, "fullscreen"); vamp.event.register(this, "idle"); vamp.event.register(this, "meta"); vamp.event.register(this, "mute"); vamp.event.register(this, "pause"); vamp.event.register(this, "play"); vamp.event.register(this, "playlist"); vamp.event.register(this, "playlistComplete"); vamp.event.register(this, "playlistItem"); vamp.event.register(this, "qualityChange"); vamp.event.register(this, "qualityLevels"); vamp.event.register(this, "ready"); vamp.event.register(this, "resize"); vamp.event.register(this, "seek"); vamp.event.register(this, "setupError"); vamp.event.register(this, "time"); vamp.event.register(this, "volume") }, setSubtitleTrack: function () { var index = 0; if (vamp.isDefined(this.subtitle)) { var arrTracks = this.api.getCaptionsList(); for (var i in arrTracks) { if (arrTracks[i].label === this.subtitle) { index = i } } } if (index > 0) { this.api.setCurrentCaptions(index) } }, setSkippable: function (blnSkippable) { if (!vamp.isDefined(blnSkippable)) { return } this.blnSkippable = blnSkippable }, setup: function () { this.verifyListbar(); this.objSetup = this.getSetup(); this.checkPlugins() }, showSetupError: function (msg) { var err = "SETUP"; vamp.error({ id: this.id, msg: this.NAME + " " + this.VERSION + " event.onSetupError : " + msg, setup: this.objSetup }); setTimeout(vamp.delegate(this, function () { this.showError(err) }), 1) }, skipItem: function () { var arrPlaylist = this.api.getPlaylist(); if (arrPlaylist.length <= 1) { this.showError("GENERAL", false); return } arrPlaylist = this.getSetupPlaylist(true); this.load(arrPlaylist); this.reset() }, skipSource: function () { var index = this.api.getPlaylistIndex(), item = this.api.getPlaylistItem(index), arrSources = item.sources; if (arrSources.length <= 1) { this.skipItem(); return } var arrPlaylist = this.api.getPlaylist(); arrSources.shift(); arrPlaylist[index].sources = arrSources; this.load(arrPlaylist); this.reset() }, stop: function () { this.api.stop() }, toggle: function () { if (this.getState() === this.STATE.PLAYING) { this.pause() } else { this.play() } }, verifyAx: function () { if (vamp.isDefined(this.objAx) || (this.getPosition() === 0 && !this.isLive())) { return } this.objAx = new vamp.Class.ax(this) }, verifyControls: function () { setTimeout(vamp.delegate(this, function () { var controls = this.api.getControls(); if (this.hasAds()) { if (controls && this.controlsState === this.STATE.PLAYING) { this.setControls(false) } else { if (!controls && this.controlsState === this.STATE.PAUSED) { this.setControls(true) } } } else { if (!controls) { this.setControls(true) } } this.verifyState() }), 100); if (!this.blnFullscreened) { this.fullscreen() } }, verifyListbar: function () { if (!vamp.isDefined(this.objPlaylist.listbar) || this.objPlaylist.arrConfig.length <= 1) { return } if (!vamp.isDefined(this.objListbar)) { this.objListbar = new vamp.Class.player.jw.listbar(this) } this.objListbar.updateHtml() }, verifyLogo: function () { if (!this.objPlaylist.blnSyndicated) { return } if (this.hasAds()) { return } if (!vamp.isDefined(this.objLogo)) { this.objLogo = new vamp.Class.player.jw.logo(this) } this.objLogo.updateHtml() }, verifyPlaying: function () { var state = this.getState(); if (state !== this.STATE.PLAYING) { clearInterval(this.intPlaying); return } var pos = this.getPosition(); if (pos === 0) { return } this.arrPosLast.push(pos); if (this.arrPosLast.length <= 5) { return } this.arrPosLast.shift(); var posLast = this.arrPosLast[0], blnDiff = false; for (var i in this.arrPosLast) { pos = this.arrPosLast[i]; if (pos !== posLast) { blnDiff = true } posLast = pos } if (blnDiff) { clearInterval(this.intPlaying); return } if (this.getDuration() - this.getPosition() < 1) { this.setSkippable(true) } clearInterval(this.intPlaying); if (vamp.detect.isDeviceMobile) { if (this.blnSkippable) { this.onComplete(); if (this.hasAds()) { this.skipItem() } else { var index = this.api.getPlaylistIndex(), total = this.api.getPlaylist().length; index++; if (index === total) { this.stop() } else { this.api.playlistItem(index) } } } else { this.reload() } } else { this.seek(pos) } }, verifyPosition: function (offset) { if (!this.hasAds() && this.posSeekForce === 0) { return } if (vamp.isDefined(offset) && offset > this.posMax) { this.posSeek = this.posMax } if (this.getState() !== this.STATE.PLAYING) { return } var pos = this.getPosition(); if (pos >= this.posSeekForce) { this.posSeekForce = 0 } if (this.posSeekForce > 0) { this.posSeek = this.posSeekForce } if (this.posSeek > 0) { this.posSeek = Math.floor(this.posSeek); this.posMax = this.posSeek; this.seek(this.posSeek); this.posSeek = 0 } else { if (pos - this.posMax > 2) { this.posSeek = this.posMax } else { this.posMax = Math.max(pos, this.posMax); if (this.getDuration() - pos < 1) { this.setSkippable(true) } this.countdownAd() } } }, verifySkip: function () { var indexNew = this.api.getPlaylistIndex(), indexOld = this.playlistIndex; if (!this.hasAds()) { this.reset(); if (vamp.isDefined(this.objListbar)) { if (vamp.isDefined(this.objListbar.index)) { indexNew = this.objListbar.index; this.objListbar.index = null; this.api.playlistItem(indexNew) } this.objListbar.selectHtml(indexNew) } return } if (indexNew === indexOld) { return } if (indexOld < 0) { this.playlistIndex = 0; return } if (!this.blnSkippable) { this.api.playlistItem(indexOld); this.posSeek = this.posMax; this.verifyPosition() } else { this.skipItem() } }, verifyState: function () { if (vamp.isDefined(this.controlsState)) { var state = this.getState(); if (state !== this.STATE.BUFFERING) { if (this.controlsState === this.STATE.PAUSED && state !== this.STATE.PAUSED) { this.pause() } else { if (this.controlsState === this.STATE.PLAYING && state !== this.STATE.PLAYING) { this.play() } } } this.controlsState = null } }, countdownAd: function () { if (!this.hasAds()) { return } vamp.event.trigger(this.objAd, "timeUpdate"); if (this.getPosition() === 0) { return } this.objAd.checkHtmlMessage() }, hasAds: function () { if (vamp.isDefined(this.objAd) && this.objAd.count() > 0) { return this.objAd.count() } return false }, onBuffer: function () { if (this.isLive()) { this.notify(this.EVENT.BUFFER) } }, onCaptionsChange: function (objTrack) { var arrTracks = objTrack.tracks, currentTrack = objTrack.track; this.subtitle = arrTracks[currentTrack].label }, onComplete: function () { if (this.hasAds()) { if (this.getDuration() - this.posMax > 1) { return } vamp.event.trigger(this.objAd, "complete") } var pos = this.getDuration(); this.setSkippable(true); this.verifyPosition(pos); this.notify(this.EVENT.COMPLETE, pos) }, onDisplayClick: function () { if (!vamp.isDefined(this.controlsState)) { var state = this.getState(); if (state === this.STATE.PLAYING) { this.controlsState = this.STATE.PAUSED } else { this.controlsState = this.STATE.PLAYING } this.verifyControls() } }, onError: function (e) { this.setControls(false); vamp.error({ id: this.id, msg: this.NAME + " " + this.VERSION + " event.onError : " + e.message, source: this.getPlaylistSource(), playlist: this.objPlaylist }); this.skipSource() }, onFullscreen: function (e) { this.checkPlaying() }, onIdle: function () { clearInterval(this.intPlaying); if (this.isLive()) { this.notify(this.EVENT.PAUSE) } if (!vamp.isDefined(this.controlsState) && this.getPosition() > 0) { this.controlsState = this.STATE.PAUSED; this.verifyControls() } }, onPause: function () { clearInterval(this.intPlaying); this.notify(this.EVENT.PAUSE); if (!vamp.isDefined(this.controlsState)) { this.controlsState = this.STATE.PAUSED; this.verifyControls() } if (this.hasAds()) { setTimeout(vamp.delegate(this, function () { this.objAd.deleteHtmlLink() }), 1000) } }, onPlay: function () { if (this.isLive()) { this.notify(this.EVENT.PLAY) } if (!vamp.isDefined(this.controlsState)) { this.controlsState = this.STATE.PLAYING; this.verifyControls() } this.checkPlaying(); if (this.hasAds()) { vamp.event.trigger(this.objAd, "timeUpdate"); setTimeout(vamp.delegate(this, function () { this.objAd.createHtmlLink() }), 1000) } else { if (this.getPosition() === 0) { vamp.ax.ga.trackPage(this.getPlaylistConfig(), this.getPlaylistSource()) } } }, onPlaylistItem: function (e) { this.verifySkip(); this.verifyLogo() }, onReady: function () { var $container = vamp.$("#" + this.id + this.DEFAULT.SUFFIX_ID); if ($container.length > 0) { this.setId(this.id + this.DEFAULT.SUFFIX_ID) } $video = vamp.$("#" + this.id + " video"); if ($video.length !== 0) { this.html5 = $video; this.html5.on("seeked", vamp.delegate(this, this.onSeekedHtml5)); this.html5.on("timeupdate", vamp.delegate(this, this.onTimeHtml5)) } if (this.hasAds() && this.api.getPlaylist().length === this.objAd.count()) { this.showSetupError("Enkel ads in de playlist!") } this.verifyListbar(); if (this.objSetup.autostart && this.STATE.IDLE === this.getState()) { setTimeout(vamp.delegate(this, function () { this.play() }), 100) } vamp.$("#" + this.id).addClass(vamp.NAME + "_container"); jwplayer.key = "hidden"; this.createAccessibility() }, onResize: function (e) { this.verifyLogo() }, onSeek: function (e) { if (vamp.isDefined(this.html5)) { return } this.blnSeeked = true; this.onSeekGeneral(e.offset) }, onSeekedHtml5: function (e) { this.onSeekGeneral(this.getPosition()) }, onSeekGeneral: function (pos) { if (pos !== this.posSeek && this.posSeekForce === 0) { this.verifyPosition(pos) } }, onSetupError: function (e) { if (e.fallback === true && this.isYoutube()) { return } var $container = vamp.$("#" + this.id + this.DEFAULT.SUFFIX_ID); if ($container.length > 0) { this.setId(this.id + this.DEFAULT.SUFFIX_ID) } this.showSetupError(e.message) }, onTime: function () { if (vamp.isDefined(this.html5)) { return } this.onTimeGeneral() }, onTimeHtml5: function () { this.onTimeGeneral() }, onTimeGeneral: function () { this.verifyPosition(); this.verifyAx(); this.notify() } }) })(vamp);
(function (b) { b.Class.player.jw.listbar = b.Class.extend({ CSS: { CONTAINER: { position: "relative" }, LISTBAR: { ALL: { backgroundColor: "#38383a" }, BOTTOM: { bottom: 0, position: "absolute" }, RIGHT: { position: "absolute", right: 0, top: 0 } }, LISTBAR_IMG: { NORMAL: { borderStyle: "none", "float": "left", height: "auto", margin: "2px 10px 5px 2px", width: 80 }, SELECTED: { border: "2px solid #ccc", margin: "0 8px 3px 0" } }, LISTBAR_ITEM: { NORMAL: { backgroundColor: "none", borderBottom: "1px solid #1c1c1c", color: "#b6b6b6", cursor: "pointer", display: "block", minHeight: 50, margin: "0 10px", padding: 10 }, HOVER: { backgroundColor: "#222" }, SELECTED: { backgroundColor: "#222", color: "#f4f4f4" }, HEIGHT: 100 }, PLAYER: { LEFT: { position: "absolute", right: 0, top: 0 } } }, ID: { CONTAINER: "_container", LISTBAR: "_listbar", LISTBAR_ITEM: "listbar_item", PLAYER: "_player" }, SCROLLBAR_OPTIONS: { alwaysVisible: true, className: b.NAME + "_scrollbar", contentClass: b.NAME + "_scrollbar_content", iOSNativeScrolling: true, paneClass: b.NAME + "_scrollbar_pane", preventPageScrolling: true, sliderClass: b.NAME + "_scrollbar_slider", tabIndex: -1 }, $listbar: null, $player: null, height: null, idContainer: null, idListbar: null, idPlayer: null, idScrollbar: null, index: null, objPlayer: null, width: null, constructor: function (a) { this.setPlayer(a); this.$player = b.$("#" + a.id); this.idContainer = a.id + this.ID.CONTAINER; this.idListbar = a.id + this.ID.LISTBAR; this.idPlayer = a.id + this.ID.PLAYER; this.idScrollbar = a.id + this.ID.SCROLLBAR; this.setDimensions() }, setDimensions: function () { var a = this.objPlayer.objPlaylist.listbar.position, d = this.objPlayer.objPlaylist.listbar.size; switch (a) { case b.player.LISTBAR.LEFT: case b.player.LISTBAR.RIGHT: this.height = this.objPlayer.height; this.width = d; break; case b.player.LISTBAR.BOTTOM: case b.player.LISTBAR.TOP: this.height = d; this.width = this.objPlayer.width } }, setPlayer: function (a) { if (!b.isDefined(a)) { return } this.objPlayer = a }, checkHtml: function (a) { var e = b.$("#" + this.idContainer), f = b.$("#" + this.idContainer).find("#" + this.idListbar); if (e.length === 0 || f.length === 0) { return false } return true }, clickHtmlItem: function (e) { var f = b.$(e.currentTarget), a = this.$listbar.children().index(f); if (!b.isDefined(a)) { return } this.index = a; if (this.objPlayer.hasAds() && !this.objPlayer.blnSkippable) { this.objPlayer.play(); return } this.objPlayer.api.playlistItem(a); setTimeout(b.delegate(this, function () { this.objPlayer.play() }), 100); this.selectHtml(a) }, createHtml: function () { var a = this.objPlayer.objPlaylist.listbar.position.toUpperCase(); var f = b.$("<div/>", { id: this.idContainer }).css({ height: this.objPlayer.objPlaylist.height, width: this.objPlayer.objPlaylist.width }).css(this.CSS.CONTAINER); this.$player.wrap(f); var g = b.$("<div/>", { id: this.idPlayer }).css({ height: this.objPlayer.objPlaylist.height, width: this.objPlayer.objPlaylist.width }); if (b.isDefined(this.CSS.PLAYER[a])) { g.css(this.CSS.PLAYER[a]) } this.$player.wrap(g); this.$listbar = b.$("<div/>", { "class": this.SCROLLBAR_OPTIONS.className, id: this.idListbar }).css({ height: this.height, width: this.width }).css(this.CSS.LISTBAR.ALL); if (b.isDefined(this.CSS.LISTBAR[a])) { this.$listbar.css(this.CSS.LISTBAR[a]) } var h = b.$("<div/>", { "class": this.SCROLLBAR_OPTIONS.contentClass }); this.$listbar.append(h); this.$container = b.$("#" + this.idContainer); this.$container.prepend(this.$listbar); this.$listbar = this.$container.find("." + this.SCROLLBAR_OPTIONS.contentClass); return this.checkHtml() }, createHtmlItems: function () { var i = this.objPlayer.api.getPlaylist(); for (var p = 0; p < i.length; p++) { var m = i[p]; if (m.isAd === true) { continue } var l = b.$("<a/>", { "class": this.ID.LISTBAR_ITEM }).css(this.CSS.LISTBAR_ITEM.NORMAL).bind("click", b.delegate(this, this.clickHtmlItem)).bind("mouseenter mouseover", b.delegate(this, this.mouseOverHtml)).bind("mouseleave", b.delegate(this, this.mouseOutHtml)); this.$listbar.append(l); var a = b.$("<img/>", { src: m.image }).css(this.CSS.LISTBAR_IMG.NORMAL).bind("mouseenter mouseover", b.delegate(this, this.mouseOverHtml)).bind("mouseleave", b.delegate(this, this.mouseOutHtml)); l.append(a); var n = b.$("<div/>", { html: m.title }).css({ fontSize: "0.9em", fontWeight: "bold" }).bind("mouseenter mouseover", b.delegate(this, this.mouseOverHtml)).bind("mouseleave", b.delegate(this, this.mouseOutHtml)); l.append(n); var o = b.$("<div/>", { html: m.description }).css({ fontSize: "0.8em" }).bind("mouseenter mouseover", b.delegate(this, this.mouseOverHtml)).bind("mouseleave", b.delegate(this, this.mouseOutHtml)); l.append(o); var k = b.$("<div/>").css({ clear: "both" }); l.append(k); o.dotdotdot({ height: this.CSS.LISTBAR_ITEM.HEIGHT }) } }, mouseOutHtml: function (d) { var a = b.$(d.target).closest("." + this.ID.LISTBAR_ITEM); if (b.isDefined(a.attr("selected"))) { return } a.css(this.CSS.LISTBAR_ITEM.NORMAL) }, mouseOverHtml: function (d) { var a = b.$(d.target).closest("." + this.ID.LISTBAR_ITEM); if (b.isDefined(a.attr("selected"))) { return } a.css(this.CSS.LISTBAR_ITEM.HOVER) }, selectHtml: function (a) { var d = b.$(this.$listbar.children().get(a)); if (!b.isDefined(d)) { return } this.$listbar.children().css(this.CSS.LISTBAR_ITEM.NORMAL); this.$listbar.children().attr("selected", false); this.$listbar.children().find("img").css(this.CSS.LISTBAR_IMG.NORMAL); d.css(this.CSS.LISTBAR_ITEM.NORMAL); d.css(this.CSS.LISTBAR_ITEM.SELECTED); d.attr("selected", true); d.find("img").css(this.CSS.LISTBAR_IMG.NORMAL).css(this.CSS.LISTBAR_IMG.SELECTED); this.$listbar.animate({ scrollTop: d[0].offsetTop }, 500) }, updateHtml: function () { if (!this.checkHtml()) { if (!this.createHtml()) { return } } if (b.isDefined(this.objPlayer.api) && this.$listbar.children().length === 0) { this.createHtmlItems() } b.$("." + this.SCROLLBAR_OPTIONS.className).nanoScroller(this.SCROLLBAR_OPTIONS); var f = this.objPlayer.objPlaylist.listbar.position, a = this.$container.height() - this.height, e = this.$container.width() - this.width; switch (f) { case b.player.LISTBAR.LEFT: case b.player.LISTBAR.RIGHT: this.objPlayer.resize(e, this.objPlayer.height); this.objPlayer.width = e; break; case b.player.LISTBAR.BOTTOM: case b.player.LISTBAR.TOP: this.objPlayer.resize(this.objPlayer.width, a); this.objPlayer.height = a } if (this.objPlayer.objPlaylist.width.toString().indexOf("%") > -1 || this.objPlayer.objPlaylist.height.toString().indexOf("%") > -1) { b.$(b.global).off().on("resize", b.delegate(this, function () { this.updateHtml() })) } } }) })(vamp);
(function (b) { b.Class.player.jw.logo = b.Class.extend({ DIMENSION: { ASPECT: 16 / 9, LOGO: 145, MARGIN: { H: 100, V: 0.65 }, RESOLUTION: 1920 }, HTML: { ID: "_logo" }, PATH: "layout/%%1%%/logo/%%2%%.png", SIZE: [16, 32, 64, 128, 256, 512], file: null, folder: null, marginH: null, marginV: null, objPlayer: null, size: null, width: null, constructor: function (a) { this.setPlayer(a); var d = a.objPlaylist.getBrand(); this.setFolder(d) }, setFile: function () { var a = b.DIR.ASSET + this.PATH.replace("%%1%%", this.folder); a = a.replace("%%2%%", this.size); this.file = a }, setFolder: function (a) { if (!b.isDefined(a)) { return } this.folder = a }, setMargins: function (i, a) { var m = i / a, j = i / this.DIMENSION.ASPECT, l = a * this.DIMENSION.ASPECT, k = (a - j) / 2, n = (i - l) / 2; if (m <= this.DIMENSION.ASPECT) { a = j } else { i = l } this.marginH = Math.round((i / this.DIMENSION.RESOLUTION) * this.DIMENSION.MARGIN.H); this.marginV = this.marginH * this.DIMENSION.MARGIN.V; if (k > 0) { this.marginV += k } if (n > 0) { this.marginH += n } }, setPlayer: function (a) { if (!b.isDefined(a)) { return } this.objPlayer = a }, setSize: function (i, a) { var n, j, m = i / a; if (m <= this.DIMENSION.ASPECT) { this.width = Math.round((i / this.DIMENSION.RESOLUTION) * this.DIMENSION.LOGO) } else { var l = this.DIMENSION.RESOLUTION / this.DIMENSION.ASPECT; this.width = Math.round((a / l) * this.DIMENSION.LOGO) } for (var k in this.SIZE) { j = this.SIZE[k]; if (j >= this.width) { n = j; break } } if (!b.isDefined(n)) { n = b._.max(this.SIZE) } n = parseInt(n, 10); this.size = b.detect.isDisplayRetina ? n * 2 : n }, update: function (d, a) { this.setSize(d, a); this.setMargins(d, a); this.setFile() }, createHtml: function (d) { var a = b.$("#" + this.objPlayer.id); if (a.length === 0) { return } $content = b.$("<img/>", { id: d }); a.append($content); return $content }, updateHtml: function () { var g = this.objPlayer.id, h = this.objPlayer.id + this.HTML.ID, f = b.$("#" + g), a = b.$("#" + g).find("#" + h); if (a.length === 0) { if (!(a = this.createHtml(h))) { return } } this.update(f.width(), f.height()); a.css({ display: "block", left: 0, marginLeft: this.marginH, marginTop: this.marginV, opacity: 1, position: "absolute", top: 0, visibility: "visible", width: this.width }).attr("src", this.file) } }) })(vamp);
(function (b) { b.Class.player.jw.skin = b.Class.extend({ PATH: "layout/%%1%%/skin/%%2%%.xml", TYPE: { NORMAL: "normal-base", RETINA: "retina-base" }, file: null, folder: null, type: null, constructor: function (a) { if (b.isDefined(a.skin)) { this.setFile(a.skin); return } var e = a.getBrand(); this.setFolder(e); this.setType(); var f = b.DIR.ASSET + this.PATH.replace("%%1%%", this.folder); f = f.replace("%%2%%", this.type); f = b.string.checkProtocol(f, b.detect.protocol); this.setFile(f) }, setFile: function (a) { if (!b.isDefined(a)) { return } this.file = a }, setFolder: function (a) { if (!b.isDefined(a)) { return } this.folder = a }, setType: function () { this.type = (b.detect.isDisplayRetina) ? this.TYPE.RETINA : this.TYPE.NORMAL; switch (this.folder) { case b.player.BRAND.NAME.COBRA: case b.player.BRAND.NAME.KLARA: case b.player.BRAND.NAME.OP12: case b.player.BRAND.NAME.VK14: this.setFolder(b.player.BRAND.NAME.DEFAULT); break } } }) })(vamp);
(function (b) { b.Class.player.link = b.Class.player.extend({ ASSET: { BUTTON_PLAY: { HEIGHT: 40, URL: "layout/_default/skin/display/play.png", WIDTH: 40 } }, NAME: b.player.TYPE.LINK.NAME, api: null, addListener: function (d, a) { if (b.isDefined(this.api)) { this.api.on(d, a) } }, create: function () { var h = b.$("#" + this.id), k; if (h.length === 0) { return } if (this.objPlaylist.controls === true) { h.html("").css({ backgroundColor: "#000", height: this.objPlaylist.height, width: this.objPlaylist.width }); k = b.$("<a/>", { href: this.objPlaylist.arrConfig[0].arrSource[0].file, css: { display: "inline-block", height: "100%", position: "relative", textAlign: "center", width: "100%" }, target: "_top" }); h.append(k); if (b.isDefined(this.objPlaylist.arrConfig[0].image)) { var o = b.$("<img/>", { src: this.objPlaylist.arrConfig[0].image, css: { height: this.objPlaylist.height, width: this.objPlaylist.width } }); k.append(o) } var m = this.objPlaylist.height, p = this.objPlaylist.width; if (m.toString().indexOf("%") > -1) { m = k.height() } if (p.toString().indexOf("%") > -1) { p = k.width() } var n = b.$("<div/>", { css: { backgroundColor: "#808080", height: this.ASSET.BUTTON_PLAY.HEIGHT * 2, left: (p / 2) - this.ASSET.BUTTON_PLAY.WIDTH, opacity: 0.5, position: "absolute", top: (m / 2) - this.ASSET.BUTTON_PLAY.HEIGHT, width: this.ASSET.BUTTON_PLAY.WIDTH * 2 } }); k.append(n); var l = b.$("<img/>", { src: b.DIR.ASSET + this.ASSET.BUTTON_PLAY.URL, css: { height: this.ASSET.BUTTON_PLAY.HEIGHT, left: (p / 2) - this.ASSET.BUTTON_PLAY.WIDTH / 2, position: "absolute", top: (m / 2) - this.ASSET.BUTTON_PLAY.HEIGHT / 2, width: this.ASSET.BUTTON_PLAY.WIDTH } }); k.append(l) } else { var a = h.html(); h.html("").css({ height: this.objPlaylist.height, width: this.objPlaylist.width }); k = b.$("<a/>", { href: this.objPlaylist.arrConfig[0].arrSource[0].file }).html(a); h.append(k) } this.api = k; this.setListeners(); b.coll.add(this); setTimeout(b.delegate(this, function () { b.event.trigger(this, "ready") }), 100) }, getSource: function () { return this.api.get(0).href }, inspect: function () { b.groupBegin(this.id); b.log("HTML element : ", b.$("#" + this.id)[0]); b.log("Input : ", this.objPlaylist.objConfig); b.log("Output : ", this.objPlaylist.arrConfig[0].arrSource[0].file); b.groupEnd() }, setListeners: function () { b.event.register(this, "click"); b.event.register(this, "ready") } }) })(vamp);
(function (b) { b.Class.ad = b.Class.extend({ FALLBACK: { ACTIVE: true, WAIT: 2000 }, KEYWORD_NO: "np", JSON_DOMAIN: { CALLBACK: "parseJson", URL: "ad_domain.json" }, JSON_PARTNER: { CALLBACK: "parseJson", URL: "ad_partner.json" }, JSON_PROGRAM: { CALLBACK: "parseJson", URL: "ad_program.json" }, LINK: { CSS: { backgroundColor: "red", height: "100%", left: 0, opacity: 0, position: "absolute", top: 0, width: "100%", zIndex: 50 }, ID: "adLink" }, MESSAGE: { CSS: { BACKGROUND: { backgroundColor: "#808080", borderBottom: "1px solid #777", height: "100%", opacity: 0.5, position: "absolute", width: "100%" }, CONTAINER: { left: 0, position: "absolute", top: 0, width: "100%", zIndex: 100, "-webkit-touch-callout": "none", "-webkit-user-select": "none", "-khtml-user-select": "none", "-moz-user-select": "none", "-ms-user-select": "none", "user-select": "none" }, CONTENT: { color: "#FFF", cursor: "default", fontSize: "15px", padding: "9px", position: "relative", textAlign: "center" }, CONTENT_CLICKABLE: { cursor: "pointer" } }, ID: { CONTAINER: "adSkipMessage", CONTENT: "adSkipMessageContent" }, SKIP: 15, TEXT: { SECONDS: { SINGULAR: "seconde", PLURAL: "seconden" }, SKIP: "Klik hier om door te gaan naar de video", TIME_TOTAL: "Reclame:", TIME_SKIP: "Klik door naar de video over" } }, TRESHOLD: 30000, TYPE: { ADHESE: "adhese" }, arrItems: [], arrDone: {}, blnDone: false, blnFetch: true, fallback: null, objPlayer: null, constructor: function (a) { this.arrItems = []; this.arrDone = {}; this.setPlayer(a); this.verifyVideoType() }, add: function (a, e) { var f = { ad: a, click: e }; this.arrItems.push(f) }, addTest: function () { var a = ["http://pool.pebblemedia.adhese.com/pool/lib/15844_3rd.mp4", "http://adhese.cdn01.rambla.be/demo/Motilium_GrandMaster_kikkers_360p_H.264-AAC_.mp4", "http://techslides.com/demos/sample-videos/small.mp4", "http://content.bitsontherun.com/videos/i8oQD9zd-kNspJqnJ.mp4"], f = (b.toBoolean(this.objPlayer.objPlaylist.ads) === false) ? 1 : this.objPlayer.objPlaylist.ads, e = "http://clicks.pebblemedia.adhese.com/raylene//sl22619///coBE/rgBE11///////setv//inadttrmiddlehandy;adttrmiddletvlovers////A2192.168.1.2.1410271323761160/O_/A_/C_/ad120398/URhttp://www.een.be/programmas/een/zet-je-klok-gelijk"; while (this.count() < f && a.length > 0) { this.add(a.shift(), e) } }, count: function () { return this.arrItems.length }, done: function () { if (this.blnDone) { return } this.blnDone = true; this.unsetFallback(); if (b.detect.env === b.detect.ENV.DEV && this.blnFetch === true) { this.addTest() } this.objPlayer.setup() }, doneAd: function (d) { if (!b.isDefined(d)) { return } if (b.isDefined(this.arrDone[d.type])) { return } this.arrDone[d.type] = d; for (var a in this.TYPE) { type = this.TYPE[a]; if (!b.isDefined(this.arrDone[type])) { return } } this.done() }, fetchAdhese: function () { var a = this.TYPE.ADHESE; if (!b.isDefined(b.Class.ad.adhese)) { this.doneAd(a); return } new b.Class.ad.adhese(this, a) }, getItems: function () { return this.arrItems }, init: function (a) { if (!b.isDefined(a)) { a = true } this.blnFetch = a; if (this.blnFetch === false) { this.done(); return } b.event.register(this, "complete"); b.event.register(this, "timeUpdate"); this.fetchAdhese(); if (this.FALLBACK.ACTIVE) { this.setFallback() } }, setCategory: function (a) { if (b.isEmpty(this.objPlayer.objPlaylist.category)) { this.objPlayer.objPlaylist.setCategory(a) } }, setFallback: function () { this.fallback = setTimeout(b.delegate(this, function () { this.done() }), this.FALLBACK.WAIT) }, setPlayer: function (a) { if (!b.isDefined(a)) { return } this.objPlayer = a }, shift: function () { this.arrItems.shift(); this.deleteHtml() }, unsetFallback: function () { clearTimeout(this.fallback) }, verifyAds: function () { if (!b.isDefined(this.objPlayer.objPlaylist.ads) || b.toBoolean(this.objPlayer.objPlaylist.ads) === true) { this.verifyProgram(); return } this.init(false) }, verifyDomain: function () { var d = this.objPlayer.objPlaylist.domain, a = b.DIR.ASSET + this.JSON_DOMAIN.URL; if (!b.isDefined(d)) { this.init(false); return } b.$.jsonp({ url: a, callback: this.JSON_DOMAIN.CALLBACK, success: b.delegate(this, function (c) { if (b.isDefined(c[d]) && b.toBoolean(c[d]) !== false) { this.setCategory(c[d]); this.verifyAds(); return } this.init(false) }), error: b.delegate(this, function (c, j, i) { var e = "Error fetching 'ads domains JSON'! (" + a + ")"; if (!b.isEmpty(j)) { e += " Status: " + j } if (b.isDefined("e.message", true)) { e += " Error: " + i.message } b.error({ id: this.objPlayer.id, msg: e, url: a }); this.init(false) }) }) }, verifyDuration: function () { var a = this.objPlayer.objPlaylist.arrConfig[0]; if (!b.isDefined(a.duration) || a.duration >= this.TRESHOLD) { this.init(); return } this.init(false) }, verifyKeywords: function () { var f = this.objPlayer.objPlaylist.keywords; if (!b.isDefined(f)) { this.verifyPartner(); return } var a = f.split(","), h; for (var g = 0; g < a.length; g++) { h = b.string.trim(a[g].toLowerCase()); if (h === this.KEYWORD_NO) { this.init(false); return } } this.verifyPartner() }, verifyPartner: function () { var d = this.objPlayer.objPlaylist.syndication, a = b.DIR.ASSET + this.JSON_PARTNER.URL; if (!b.isDefined(d)) { this.init(); return } b.$.jsonp({ url: a, callback: this.JSON_PARTNER.CALLBACK, success: b.delegate(this, function (c) { if (b.isDefined(c[d])) { if (b.isDefined(c[d].ads) && b.toBoolean(c[d].ads) === false) { this.init(false); return } } else { return } this.init(); return }), error: b.delegate(this, function (c, j, i) { var e = "Error fetching 'ads partners JSON'! (" + a + ")"; if (!b.isEmpty(j)) { e += " Status: " + j } if (b.isDefined("e.message", true)) { e += " Error: " + i.message } b.error({ id: this.objPlayer.id, msg: e, url: a }); this.init() }) }) }, verifyProgram: function () { var a = this.objPlayer.objPlaylist.arrConfig[0], d = b.DIR.ASSET + this.JSON_PROGRAM.URL; if (!b.isDefined(a.ax) || !b.isDefined(a.ax.program)) { this.verifyDuration(); return } b.$.jsonp({ url: d, callback: this.JSON_PROGRAM.CALLBACK, success: b.delegate(this, function (c) { if (!b.isDefined(c)) { this.verifyDuration(); return } var g, h; for (g = 0; g < c.length; g++) { h = b.string.trim(c[g].toLowerCase()); if (a.ax.program.toLowerCase() === h) { this.init(false); return } } this.verifyDuration() }), error: b.delegate(this, function (c, j, i) { var e = "Error fetching 'ads programs JSON'! (" + d + ")"; if (!b.isEmpty(j)) { e += " Status: " + j } if (b.isDefined("e.message", true)) { e += " Error: " + i.message } b.error({ id: this.objPlayer.id, msg: e, url: d }); this.verifyDuration() }) }) }, verifyVideoType: function () { var i, j, h; for (i = 0; i < this.objPlayer.objPlaylist.arrConfig.length; i++) { var a = this.objPlayer.objPlaylist.arrConfig[i]; for (j = 0; j < a.arrSource.length; j++) { var g = a.arrSource[j]; if (b.isDefined(g.type)) { h = g.type; break } } if (b.isDefined(h)) { break } } if (b.player.source.isTypeLive(h) === true || b.player.source.TYPE.YOUTUBE === h) { this.init(false); return } if (!this.objPlayer.objPlaylist.blnSyndicated) { this.verifyDomain() } else { this.verifyKeywords() } }, checkHtmlMessage: function () { var g = this.objPlayer.getDuration(), f = Math.ceil(this.objPlayer.getPosition()), h = Math.ceil(this.MESSAGE.SKIP - f), a = Math.ceil(g - f); if (a > 0) { this.updateHtmlMessage(a, h) } }, createHtmlLink: function () { var d = this.arrItems[0]; if (!b.isDefined(d.click)) { return } var a = b.$("#" + this.objPlayer.id); if (a.length === 0) { return } this.deleteHtmlLink(); $link = b.$("<a/>", { id: this.LINK.ID, css: this.LINK.CSS, href: d.click, target: "_blank" }).off().on("click", b.delegate(this, function () { this.deleteHtmlLink(); this.objPlayer.onDisplayClick() })); a.append($link) }, createHtmlMessage: function () { var a = b.$("#" + this.objPlayer.id); if (a.length === 0) { return } this.deleteHtmlMessage(); $msg = b.$("<div/>", { id: this.MESSAGE.ID.CONTAINER, css: this.MESSAGE.CSS.CONTAINER }); $bg = b.$("<div/>", { css: this.MESSAGE.CSS.BACKGROUND }); $msg.append($bg); $content = b.$("<div/>", { id: this.MESSAGE.ID.CONTENT, css: this.MESSAGE.CSS.CONTENT }); $msg.append($content); a.append($msg); return $content }, deleteHtml: function () { this.deleteHtmlLink(); this.deleteHtmlMessage() }, deleteHtmlLink: function () { var a = b.$("#" + this.objPlayer.id + " #" + this.LINK.ID); a.remove() }, deleteHtmlMessage: function () { var a = b.$("#" + this.objPlayer.id + " #" + this.MESSAGE.ID.CONTAINER); a.remove() }, updateHtmlMessage: function (g, f) { var h = b.$("#" + this.objPlayer.id + " #" + this.MESSAGE.ID.CONTENT); if (h.length === 0) { if (!(h = this.createHtmlMessage())) { return } } var a = this.MESSAGE.TEXT.TIME_TOTAL + " "; a += g + " "; a += (g > 1) ? this.MESSAGE.TEXT.SECONDS.PLURAL : this.MESSAGE.TEXT.SECONDS.SINGULAR; if (this.objPlayer.getDuration() > this.MESSAGE.SKIP + 1) { a += "<br>"; if (f > 0) { a += this.MESSAGE.TEXT.TIME_SKIP + " "; a += f + " "; a += (f > 1) ? this.MESSAGE.TEXT.SECONDS.PLURAL : this.MESSAGE.TEXT.SECONDS.SINGULAR } else { this.objPlayer.setSkippable(true); a += this.MESSAGE.TEXT.SKIP; h.off().on("click", b.delegate(this, function () { b.event.trigger(this.objPlayer, "adSkip"); this.objPlayer.skipItem() })).css(this.MESSAGE.CSS.CONTENT_CLICKABLE) } } h.html(a) } }) })(vamp);
(function (b) { b.Class.ad.adhese = b.Class.extend({ CAT: ["senieuws", "sesport", "seculinair", "setv", "seradio"], FORMAT: "preroll", HOST: "http://ads.pebblemedia.adhese.com", ID: { CONTENT: "vrt", DOMAIN: "vrt" }, JSON: { CALLBACK: "parseVastJson", TIMEOUT: 5000 }, TYPE: "video/mp4", api: null, arrQuartiles: null, category: null, duration: null, idContent: null, objAd: null, type: null, url: { ad: null, click: null, json: null }, constructor: function (d, a) { this.api = null; this.arrQuartiles = null; this.objAd = null; this.url = { ad: null, click: null, json: null }; this.setAd(d); this.setType(a); if (!d.objPlayer.objPlaylist.blnSyndicated) { this.verifyCategory() } else { this.verifyCategoryKeywords() } if (!b.isDefined(this.category)) { this.objAd.blnFetch = false; this.done(); return } if (!b.isDefined("AdheseVastWrapper", true)) { b.error({ id: this.objAd.objPlayer.id, msg: "ADHESE error: AdheseVastWrapper not available" }); this.done(); return } if (!d.objPlayer.objPlaylist.blnSyndicated) { this.setIdContent(this.objAd.objPlayer.objPlaylist.domain) } else { this.setIdContent(this.objAd.objPlayer.objPlaylist.syndication) } this.api = new AdheseVastWrapper(); this.defineUrl() }, defineUrl: function () { var a = "_" + this.idContent + "_content-" + this.ID.DOMAIN + "_", d; if (this.objAd.objPlayer.objPlaylist.blnSyndicated) { d = "_" + this.ID.CONTENT + "_content-" + this.ID.DOMAIN + "_" } this.url.json = this.api.getUrl(this.HOST, a, [this.FORMAT], this.JSON.CALLBACK, this.category, d); this.url.json = b.string.checkProtocol(this.url.json, b.detect.protocol); this.fetch() }, done: function () { this.objAd.doneAd(this) }, fetch: function () { if (!b.isDefined(this.url.json)) { b.error({ id: this.objAd.objPlayer.id, msg: "ADHESE error: JSON url not defined" }); this.done(); return } var a = this.url.json; b.$.jsonp({ url: a, callback: this.JSON.CALLBACK, timeout: this.JSON.TIMEOUT, success: b.delegate(this, function (d) { this.onFetch(d, a) }), error: b.delegate(this, function (e, j, i) { var h = "Error fetching 'adhese JSON'! (" + a + ")"; if (!b.isEmpty(j)) { h += " Status: " + j } if (b.isDefined("e.message", true)) { h += " Error: " + i.message } this.onFetchError(h, a) }) }) }, setAd: function (a) { if (!b.isDefined(a)) { return } this.objAd = a }, setIdContent: function (a) { if (!b.isDefined(a)) { a = this.ID.CONTENT } this.idContent = a }, setType: function (a) { if (!b.isDefined(a)) { return } this.type = a }, verifyCategory: function () { var a = this.objAd.objPlayer.objPlaylist.category; if (!b.isDefined(a)) { return } if (b._.indexOf(this.CAT, a) <= -1 || a === "senieuws") { return } this.category = a }, verifyCategoryKeywords: function () { var f = this.objAd.objPlayer.objPlaylist.keywords; if (b.isDefined(f)) { var a = f.split(","), h; for (var g = 0; g < a.length; g++) { h = b.string.trim(a[g].toLowerCase()); if (b.isDefined(this.category) || b._.indexOf(this.CAT, h) === -1) { continue } this.category = h } } if (!b.isDefined(this.category)) { this.category = this.CAT[0] } }, onAdComplete: function () { var a = Math.round(this.objAd.objPlayer.getPosition() * 100) / 100; this.api.ended(this.FORMAT, a) }, onAdTimeUpdate: function () { var a = Math.round(this.objAd.objPlayer.getPosition() * 100) / 100; if (this.arrQuartiles.length > 0 && a >= this.arrQuartiles[0]) { a = this.arrQuartiles.shift() } this.api.timeupdate(this.FORMAT, a) }, onFetch: function (d, a) { if (!b.isDefined(d) || d.length < 1) { b.warn("ADHESE: returned JSON is invalid or empty", a, d); this.done(); return } this.api.init(); this.api.addEventListener("ADS_LOADED", b.delegate(this, this.onLoaded)); this.api.parseVastJson(d) }, onFetchError: function (d, a) { b.warn("ADHESE: ", d, a); this.done() }, onLoaded: function () { if (this.api.hasAd(this.FORMAT) === false) { b.log("ADHESE returned no ads: ", this.url.json); this.done(); return } this.url.ad = this.api.getMediafile(this.FORMAT, this.TYPE); this.url.click = this.api.getClick(this.FORMAT); if (!b.isDefined(this.url.ad) || !b.isDefined(this.url.click)) { b.error({ id: this.objAd.objPlayer.id, msg: "ADHESE error: returned JSON url for the ad or url when clicked is not found", url: this.url }); this.done(); return } this.duration = this.api.getDurationInSeconds(this.FORMAT); if (!b.isEmpty(this.duration)) { var a = this.duration / 4; this.arrQuartiles = [a, a * 2, a * 3]; b.event.on(this.objAd, "complete", b.delegate(this, this.onAdComplete)); b.event.on(this.objAd, "timeUpdate", b.delegate(this, this.onAdTimeUpdate)) } this.objAd.add(this.url.ad, this.url.click); this.done() } }) })(vamp);
(function (b) { b.Class.ax = b.Class.extend({ EMPTY: "nietIngevuld", arrAx: [], objConfigAx: null, objPlayer: null, ad: null, date: null, duration: null, episode: null, program: null, typeClip: null, whatson: null, constructor: function (d) { if (!b.isDefined(d)) { return } this.arrAx = []; this.objConfigAx = null; this.objPlayer = null; this.setPlayer(d); this.setDuration(); this.setAd(d.hasAds()); var a = this.getConfig(); if (b.isDefined(a) && b.isDefined(a.ax)) { this.setConfigAx(a.ax); this.setProgram(a.ax.program); this.setEpisode(a.ax.episode); this.setTypeClip(a.ax.type_clip); this.setDate(a.ax.date); this.setWhatson(a.ax.whatson) } this.init() }, init: function () { var a; if (!b.isDefined("gemiusStream", true)) { b.error({ id: this.objPlayer.id, msg: "Gemius Stream library not loaded!" }) } else { a = new b.Class.ax.gemiusstream(this); this.arrAx.push(a) } if (!b.isDefined("vamp.AX.STREAMSENSE.StreamSense", true)) { b.error({ id: this.objPlayer.id, msg: "comScore StreamSense Stream library not loaded!" }) } else { a = new b.Class.ax.streamsense(this); this.arrAx.push(a) } }, getConfig: function () { var a; if (this.objPlayer.hasAds()) { a = 0 } return this.objPlayer.getPlaylistConfig(a) }, notify: function (j, g, h) { if (!b.isDefined(j)) { return } if (!b.isDefined(h)) { h = false } var i, a; for (i = 0; i < this.arrAx.length; i++) { a = this.arrAx[i]; if (!b.isDefined(a.api)) { continue } if (!b.isDefined(g)) { g = this.objPlayer.getPosition() } g = Math.floor(g); a.notify(j, g, h) } }, setAd: function (a) { if (!b.isDefined(a)) { a = false } this.ad = b.toBoolean(a) ? 1 : 0 }, setConfigAx: function (a) { if (!b.isDefined(a)) { return } this.objConfigAx = a }, setDate: function (h) { if (!b.isDefined(h) || !b._.isObject(h)) { return } if (!b.date.isValid(h)) { return } var g = h.getFullYear(), f = b.string.pad(h.getMonth() + 1, 2), a = b.string.pad(h.getDate(), 2); this.date = g + f + a }, setDuration: function () { if (!b.isDefined(this.objPlayer)) { return } this.duration = Math.floor(this.objPlayer.getDuration()) }, setEpisode: function (a) { if (b.isEmpty(a)) { return } this.episode = a }, setPlayer: function (a) { if (!b.isDefined(a)) { return } this.objPlayer = a }, setProgram: function (a) { if (b.isEmpty(a)) { return } this.program = a }, setTypeClip: function (a) { if (b.isEmpty(a)) { return } a += ""; this.typeClip = a.toUpperCase() }, setWhatson: function (a) { if (b.isEmpty(a)) { return } this.whatson = a } }) })(vamp);
(function (b) { b.Class.ax.gemiusstream = b.Class.extend({ EVENT: { BUFFER: "buffering", PAUSE: "paused", PLAY: "playing", SEEK: "seekingStarted", END: "complete" }, ID: { CONTENT: { Canvas: "ce/tv", "Canvas - Homepage": "ce/tv", "Canvas - Other": "ce/tv", Cobra: "ce/tv", "Cobra - Homepage": "ce/tv", "Cobra - Mobile": "ce/tv", "Cobra - Other": "ce/tv", "Deredactie.be": "nw", "Deredactie.be - Home": "nw", "Deredactie.be - Mobile": "nw", "Deredactie.be - Other": "nw", Een: "ce/tv", "Een - Homepage": "ce/tv", "Een - Other": "ce/tv", "Een - Teletekst": "ce/tv", "Een - Dagelijkse kost": "ce/tv", "Fans Of Flanders": "nw", "Fans Of Flanders - Home": "nw", "Fans Of Flanders - Other": "nw", Ketnet: "ce/tv", "Ketnet - Home": "ce/tv", "Ketnet - Other": "ce/tv", Klara: "ce/radio", MNM: "ce/radio", "MNM - Homepage": "ce/radio", "MNM - Other": "ce/radio", Op12: "ce/tv", "Radio 1": "ce/radio", "Radio 1 - Homepage": "ce/radio", "Radio 1 - Other": "ce/radio", "Radio 2": "ce/radio", "Radio 2 - Homepage": "ce/radio", "Radio 2 - Other": "ce/radio", Sporza: "sp", "Sporza - Homepage": "sp", "Sporza - Mobile": "sp", "Sporza - Other": "sp", "Studio Brussel": "ce/radio", "Studio Brussel - Homepage": "ce/radio", "Studio Brussel - Other": "ce/radio", VRT: "ce/tv", "VRT - Home": "ce/tv", "VRT - Other": "ce/tv", "VRT internetradiospeler": "ce/radio" }, DOMAIN: { CANVAS: "16NLcC9sPEpsjRelisN.Z7Pp.M5WG4w7k44Xq6d6Chz.M7", COBRA: "1v1Lcq_qdN_cf7nJuoiMt5R6nA3uC0wIX5qN14FpUfH.t7", DEREDACTIE: "d2LrEs_uZN3MJMR0sfwfoYXzrocRsM_qMBqRPY6u5HH.e7", EEN: "zadFNK8ymYXQgjsPw7JdvYaT.M6pzowjjtc3cel0Kff.s7", FANSOFFLANDERS: "dwNFNE8_YYE8GZ6wUKENOmX2.K3B9ySVejQPyYrCJPf.u7", KETNET: "zUbldi7KiU1K.FE63Z.JprQXnKQ_VEvkP9GNFOr3TOD.q7", KLARA: ".RCb8OrCiKn.F6OTpALQ7cSr.tOWMSL42TKa.8H9Vx7.i7", MNM: "zUdL0ie0vC2_NleZ4IN.QbPpnA3WmkyIc5rnAJ2_6lb.O7", OP12: "bOtKT1SqBv7NlGyFEgjo_WX1rmEN4VthSkk8NuX3Q77.J7", RADIO1: "badFNs_EGbIKxTsOq_gDa4YhrfEREc_2_tpxNjsv.EL.O7", RADIO2: "zUdF1i7CmUzqdDsAJXU96JPa.DfukwvJ.yidq5Giej3.V7", SPORZA: "15zrEi9K5.psvXpTsF_ShYYh.Bipt6SfJLC52FIQIIv.f7", STUBRU: "zUzrEC7krC2gvWGc641EfJR6rtGGMc_mk1YbB1TeZV7.C7", VRT: "1v1L0KdLdBh1KLp4ULaqnoaTnO6p5mPIxLNppISyEoX.z7" }, SECTION: { "16NLcC9sPEpsjRelisN.Z7Pp.M5WG4w7k44Xq6d6Chz.M7": "Canvas", "p8Y7MLL5uIAOOBhUCXYYJ3YYXmYZncbVpCZzOhJ7uSr.w7": "Canvas - Homepage", ".RqV9CsQbQtfGFVYTgloeXZ27HkZKewPpG0qwJIKh7H.Q7": "Canvas - Other", "1v1Lcq_qdN_cf7nJuoiMt5R6nA3uC0wIX5qN14FpUfH.t7": "Cobra", ".XCV9iNtbcJyFZ7tCnmkR3Z2.j0BAYeuUMjNV34K4s7.U7": "Cobra - Homepage", "p9A7MLrduABG1RiinUuQQaPM.fMuTIey.2TtPHkGetP.j7": "Cobra - Mobile", ".Xo1lCL6XVN8J1714qZsM8QLXfv_c0bgdWPt3KRlUmf.V7": "Cobra - Other", "d2LrEs_uZN3MJMR0sfwfoYXzrocRsM_qMBqRPY6u5HH.e7": "Deredactie.be", ".Xo70isQcDFpAzDnXjxN4XXWTIOBQkQnerJC1.uSEff.M7": "Deredactie.be - Home", "pzCb8LOGgKIODtGs0ewdTMSrXhx_NC7wNP6kPTv8fz3.k7": "Deredactie.be - Mobile", "p8Y1lLN5FTzE7ngLYW4R7XYY.tOB9m_iEIGkX0Yv94r.Z7": "Deredactie.be - Other", "zadFNK8ymYXQgjsPw7JdvYaT.M6pzowjjtc3cel0Kff.s7": "Een", ".RCVVKOMJPW8UbiTOiPZR6PM7O_uTYPdX0YiS1EGsL7.I7": "Een - Homepage", "ndCbkLL5gCJMwtFcIsEdupZVTDlRaUQrGfgiKSrH4FL.b7": "Een - Other", "B3A1NCuQFbzwi7I_THFGdJa17O9RKYPdUMCsL6a12yj.i7": "Een - Teletekst", "zZ01ZiOjFcRSaBztUl0z0XZGj1iB8kMrEFRduqZNJT3.W7": "Een - Dagelijkse kost", "dwNFNE8_YYE8GZ6wUKENOmX2.K3B9ySVejQPyYrCJPf.u7": "Fans Of Flanders", ".RCb8it7AAX.HBtnJkepwZZV.fLp_G7KrhOkPPlSrwb.w7": "Fans Of Flanders - Home", "pzCVVrL_pVhk0rf2CWIh2sPJXfwWTy74k93EqO8_xz7.N7": "Fans Of Flanders - Other", "zUbldi7KiU1K.FE63Z.JprQXnKQ_VEvkP9GNFOr3TOD.q7": "Ketnet", "pyY70.swsHeA6rX2Vua9p3Z2.fOZZztwfiYc9kkcWyn.Y7": "Ketnet - Home", ".Ro1NGLpVcq85ZzdXC7xlHXWXfyZJvuhtAQsKkSXMw3.U7": "Ketnet - Other", ".RCb8OrCiKn.F6OTpALQ7cSr.tOWMSL42TKa.8H9Vx7.i7": "Klara", "zUdL0ie0vC2_NleZ4IN.QbPpnA3WmkyIc5rnAJ2_6lb.O7": "MNM", ".XCb8iNtSBxyFR5lomh7e6Ru.tLGf2_6yZ0uxhJ_eJ7.g7": "MNM - Homepage", "ndqV9jLn7e4CsvVaKkWoZHZ2XhyZvy8IhAMupExnAEn.u7": "MNM - Other", "bOtKT1SqBv7NlGyFEgjo_WX1rmEN4VthSkk8NuX3Q77.J7": "Op12", "badFNs_EGbIKxTsOq_gDa4YhrfEREc_2_tpxNjsv.EL.O7": "Radio 1", "bIFKsdSNTwRXYU6NsbnprWX1.Mf1OTBtmc1gN4ISXX3.R7": "Radio 1 - Homepage", "0iTg7WrIYzNS6ye_PgxtpGaznH31hXAcA48QozcABUT.D7": "Radio 1 - Other", "zUdF1i7CmUzqdDsAJXU96JPa.DfukwvJ.yidq5Giej3.V7": "Radio 2", "0rrqj2NkP5V7oq3HxvPDCmYTDqr1RYLgOSdgiYogpAD.F7": "Radio 2 - Homepage", "bOFAS9yTczPpQmdW0TvnJ7RInH3y99fNHugoachm8rT.J7": "Radio 2 - Other", "15zrEi9K5.psvXpTsF_ShYYh.Bipt6SfJLC52FIQIIv.f7": "Sporza", "ndo7MHNOeHKitwMSegdwqpZV.l1p5qL9VOIA6In4rBj.j7": "Sporza - Homepage", "p8Y1l.u4HcTmfuqYTQa0zaRuXmXGP2MuA15QvGT2hNf.K7": "Sporza - Mobile", ".XqbkGNhiKocUkMYEie4bqQs7HjGi7g4A4uO_eVk0nP.D7": "Sporza - Other", "zUzrEC7krC2gvWGc641EfJR6rtGGMc_mk1YbB1TeZV7.C7": "Studio Brussel", "nXo1NLtlXVNP2V71XH0KYKRuXhxG6C8IU2wuJjceCBP.c7": "Studio Brussel - Homepage", "B8abkCL1yLiUEhfUb4EuBcPJ7O8W54P189WsLwd1W7H.F7": "Studio Brussel - Other", "1v1L0KdLdBh1KLp4ULaqnoaTnO6p5mPIxLNppISyEoX.z7": "VRT", ".RCVVir7bQn.P.7HJrzsmXa4TBkBtcS0ujAy79zfGkD.r7": "VRT - Home", "pzA70rN_uH8O2BgAUai466PM7A8uTASE.w_MySLN1YD.j7": "VRT - Other", "ndqV9rrdpa.5H7hy3JiJs3Z27FmZJ_yXrrAq.g_OvWX.67": "VRT internetradiospeler" } }, LABEL: { CONTENT: "ct", LINKTV: "tv", SECTION: "se", SOURCE: "st", STREAM: "_SCT" }, api: null, arrCustomPackage: [], identifier: null, idMaterial: null, idPlayer: null, lastEvent: null, objAx: null, objCustomPackage: {}, totalTime: 0, constructor: function (a) { if (!b.isDefined(a)) { return } this.arrCustomPackage = []; this.objAx = null; this.objCustomPackage = {}; this.setAx(a); this.setIdentifier(a.objPlayer.objPlaylist.domain); this.setIdPlayer(a.objPlayer.id); this.setTotalTime(a.duration); this.setIdMaterial(a.program); this.setIdMaterial(a.episode); this.setCPstream(this.idMaterial); this.setCPsection(); this.setCPcontent(); this.setCPsource(a.typeClip); this.setCPlinkTV(a.date); this.setCPlinkTV(a.whatson); this.renderCParray(); this.init() }, fetchIdentifier: function () { var a = "event_identifier"; if (!b.isDefined("gemius_hcconn", true) || b.isEmpty(gemius_hcconn[a])) { return } return gemius_hcconn[a] }, init: function () { this.api = gemiusStream; this.api.newStream(this.idPlayer, this.idMaterial, this.totalTime, this.arrCustomPackage, [], this.identifier) }, notify: function (a, f, g) { if (this.lastEvent === a) { return } var h; switch (a) { case this.objAx.objPlayer.EVENT.BUFFER: h = this.EVENT.BUFFER; break; case this.objAx.objPlayer.EVENT.COMPLETE: h = this.EVENT.END; break; case this.objAx.objPlayer.EVENT.PAUSE: if (this.lastEvent === this.objAx.objPlayer.EVENT.COMPLETE) { return } h = this.EVENT.PAUSE; break; case this.objAx.objPlayer.EVENT.PLAY: h = this.EVENT.PLAY; break; case this.objAx.objPlayer.EVENT.SEEK: h = this.EVENT.SEEK; break } this.lastEvent = a; this.api.event(this.idPlayer, this.idMaterial, f, h) }, renderCParray: function () { b._.forIn(this.objCustomPackage, function (d, a) { this.arrCustomPackage.push({ name: a, value: d }) }, this) }, setAx: function (a) { if (!b.isDefined(a)) { return } this.objAx = a }, setCPcontent: function () { var a = this.objAx.EMPTY, d = this.objCustomPackage[this.LABEL.SECTION]; if (b.isDefined(this.ID.CONTENT[d])) { a = this.ID.CONTENT[d] } this.objCustomPackage[this.LABEL.CONTENT] = a }, setCPlinkTV: function (e) { if (b.isEmpty(e)) { e = this.objAx.EMPTY } var a = this.objCustomPackage[this.LABEL.LINKTV], f = "-"; if (!b.isDefined(a) || a === this.objAx.EMPTY) { a = e } else { if (e !== this.objAx.EMPTY) { a += f + e } } this.objCustomPackage[this.LABEL.LINKTV] = a }, setCPsection: function () { var d = this.objAx.EMPTY, a = this.fetchIdentifier(); if (b.isEmpty(a)) { a = this.identifier } if (b.isDefined(this.ID.SECTION[a])) { d = this.ID.SECTION[a] } this.objCustomPackage[this.LABEL.SECTION] = d }, setCPsource: function (a) { switch (a) { case "FULL_EPISODE": case "1": a = "vid.tvi.ep.vod.free"; break; case "CLIP": case "2": case "999": a = "vid.tvi.frag.vod.free"; break; case "SEPARATE_ITEM": case "3": a = "vid.wex.frag.vod.free"; break; default: a = "vid.tvi.ep.vod.free" } this.objCustomPackage[this.LABEL.SOURCE] = a }, setCPstream: function (d) { if (b.isEmpty(d)) { d = this.objAx.EMPTY } var a = 50; if (d.length > (a - this.LABEL.STREAM.length - 1)) { this.objCustomPackage[this.LABEL.STREAM] = d.substr(0, (a - this.LABEL.STREAM.length - 2)) + "\u2026" } else { this.objCustomPackage[this.LABEL.STREAM] = d } }, setIdentifier: function (a) { if (!b.isDefined(a)) { this.identifier = this.objAx.EMPTY; return } a = a.toUpperCase(); if (!b.isDefined(this.ID.DOMAIN[a])) { this.identifier = this.objAx.EMPTY; return } this.identifier = this.ID.DOMAIN[a] }, setIdMaterial: function (a) { if (b.isEmpty(a)) { a = this.objAx.EMPTY } var d = "-"; if (!b.isDefined(this.idMaterial) || this.idMaterial === this.objAx.EMPTY) { this.idMaterial = a } else { if (a !== this.objAx.EMPTY) { this.idMaterial += d + a } } }, setIdPlayer: function (a) { if (!b.isDefined(a)) { return } this.idPlayer = a }, setTotalTime: function (a) { if (this.objAx.objPlayer.isLive()) { this.totalTime = -1 } else { this.totalTime = a } } }) })(vamp);
(function (b) { b.Class.ax.streamsense = b.Class.extend({ DEFAULT: { URL: "http://be.sitestat.com/vrt/sandbox1/s?homepage.index" }, EVENT: { BUFFER: null, PAUSE: null, PLAY: null, END: null }, LABEL: { CLIP: { AD: "ns_st_ad", CONTENT_ID: "ns_st_ci", EPISODE: "ns_st_ep", EPISODE_LENGTH: "ns_st_el", LENGTH: "ns_st_cl", LIVE: "ns_st_li", NUMBER: "ns_st_cn", PART: "ns_st_pn", PROGRAM: "ns_st_pr", STATION: "ns_st_st", TOTAL_PARTS: "ns_st_tp", TYPE_STREAM: "ns_st_ty", VRT_ID: "vrt_vid_id", VRT_DATE: "vrt_dat_id", VRT_REF: "vrt_ref_id", VRT_SYND: "vrt_synd_id" }, MEDIAPLAYER: "ns_st_mp", MEDIAPLAYERVERSION: "ns_st_mv", SEEKING: "seeking", PLAYLIST_TITLE: "ns_st_pl", PREFIX_AD: "ad_", URL_PIXEL: "ns_pixelUrl", USER_INTERACTION: "ns_st_ui" }, TYPE_STREAM: { AD: { PREROLL: "pre-roll" }, VLS: "vls", VOD: "vod", YOUTUBE: "od-yt" }, api: null, lastEvent: null, objAx: null, objClip: {}, objPlaylist: {}, url: null, constructor: function (a) { if (!b.isDefined(a)) { return } this.EVENT = { BUFFER: b.AX.STREAMSENSE.StreamSense.PlayerEvents.BUFFER, PAUSE: b.AX.STREAMSENSE.StreamSense.PlayerEvents.PAUSE, PLAY: b.AX.STREAMSENSE.StreamSense.PlayerEvents.PLAY, END: b.AX.STREAMSENSE.StreamSense.PlayerEvents.END }; this.objAx = null; this.objClip = {}; this.objPlaylist = {}; this.setAx(a); this.fetchUrl(); if (b.isEmpty(this.url)) { b.error({ id: this.objAx.objPlayer.id, msg: "No StreamSense base measurement URL is found or set!" }); return } this.setClipAd(a.ad); this.setClipTypeStream(); this.setClipNumber(this.getClipNumber()); this.setClipPart(this.getClipPart()); this.setClipTotalParts(1); this.setClipProgram(a.program); this.setClipEpisode(a.episode); this.setClipStation(a.objPlayer.objPlaylist.getBrand()); this.setClipVrtId(a.whatson); this.setClipVrtDate(a.date); this.setClipVrtRef(); this.setClipVrtSynd(a.objPlayer.objPlaylist.syndication); this.setClipContentId(); if (b.isDefined(a.objConfigAx)) { this.setPlaylist(a.objConfigAx.playlist); this.setClipTotalParts(a.objConfigAx.parts) } this.setClipLive(); this.setClipLength(a.duration * 1000); if (this.validate()) { this.init() } }, fetchUrl: function () { var a; if (b.isDefined("ns_p.src", true)) { a = ns_p.src } else { if (b.isDefined(this.LABEL.URL_PIXEL, true)) { a = b.isDefined(this.LABEL.URL_PIXEL, true) } else { var d = b.$("img[src*='//be.sitestat.com']"); if (d.length > 0 && b.isDefined(d[0].src)) { a = d[0].src } } } if (b.isEmpty(a)) { if (b.detect.env === b.detect.ENV.DEV || b.detect.env === b.detect.ENV.STAG || (b.isDefined(this.objAx.objConfigAx) && !b.isEmpty(this.objAx.objConfigAx.sandbox) && b.toBoolean(this.objAx.objConfigAx.sandbox) === true)) { a = this.DEFAULT.URL } else { return } } this.setUrl(a) }, getClipNumber: function () { if (this.objAx.objPlayer.hasAds()) { return this.objAx.objPlayer.ads - this.objAx.objPlayer.hasAds() + 1 } else { return this.objAx.objPlayer.ads + this.objAx.objPlayer.api.getPlaylistIndex() + 1 } }, getClipPart: function () { if (!this.objAx.objPlayer.hasAds() && b.toBoolean(this.objAx.objPlayer.ads)) { return 1 } return 0 }, init: function () { this.url = b.string.checkProtocol(this.url, b.detect.protocol); this.api = new b.AX.STREAMSENSE.StreamSense({}, this.url); this.api.setLabel(this.LABEL.MEDIAPLAYER, b.NAME); this.api.setLabel(this.LABEL.MEDIAPLAYERVERSION, b.VERSION); this.api.setPlaylist(this.objPlaylist); this.api.setClip(this.objClip); if (this.objAx.objPlayer.getState() === this.objAx.objPlayer.STATE.PLAYING) { this.notify(this.objAx.objPlayer.EVENT.PLAY, 0) } }, notify: function (a, g, h) { if (this.lastEvent === a) { return } var i, j = {}; g = g * 1000; switch (a) { case this.objAx.objPlayer.EVENT.BUFFER: i = this.EVENT.BUFFER; break; case this.objAx.objPlayer.EVENT.COMPLETE: i = this.EVENT.END; break; case this.objAx.objPlayer.EVENT.PAUSE: if (this.lastEvent === this.objAx.objPlayer.EVENT.COMPLETE) { return } i = this.EVENT.PAUSE; break; case this.objAx.objPlayer.EVENT.PLAY: i = this.EVENT.PLAY; break; case this.objAx.objPlayer.EVENT.SEEK: i = this.EVENT.PAUSE; break } this.lastEvent = a; if (h === true) { j[this.LABEL.USER_INTERACTION] = this.LABEL.SEEKING } this.api.notify(i, j, g) }, setAx: function (a) { if (!b.isDefined(a)) { return } this.objAx = a }, setClipAd: function (a) { this.objClip[this.LABEL.CLIP.AD] = a }, setClipContentId: function () { this.objClip[this.LABEL.CLIP.CONTENT_ID] = this.objClip[this.LABEL.CLIP.VRT_ID] }, setClipEpisode: function (a) { if (b.isEmpty(a)) { return } if (b.toBoolean(this.objAx.ad)) { a = this.LABEL.PREFIX_AD + a } this.objClip[this.LABEL.CLIP.EPISODE] = a }, setClipLength: function (d) { var a = this.objClip[this.LABEL.CLIP.LIVE]; if (b.isDefined(a) && a === 1) { this.objClip[this.LABEL.CLIP.LENGTH] = 0; this.objClip[this.LABEL.CLIP.EPISODE_LENGTH] = 0 } else { this.objClip[this.LABEL.CLIP.LENGTH] = d; this.objClip[this.LABEL.CLIP.EPISODE_LENGTH] = d } }, setClipLive: function () { if (this.objAx.objPlayer.isLive()) { this.objClip[this.LABEL.CLIP.LIVE] = 1 } else { this.objClip[this.LABEL.CLIP.LIVE] = 0 } }, setClipNumber: function (a) { if (b.isEmpty(a)) { return } this.objClip[this.LABEL.CLIP.NUMBER] = a }, setClipPart: function (a) { if (b.isEmpty(a)) { return } this.objClip[this.LABEL.CLIP.PART] = a }, setClipProgram: function (a) { if (b.isEmpty(a)) { return } if (b.toBoolean(this.objAx.ad)) { a = this.LABEL.PREFIX_AD + a } this.objClip[this.LABEL.CLIP.PROGRAM] = a }, setClipStation: function (a) { if (b.isEmpty(a)) { return } this.objClip[this.LABEL.CLIP.STATION] = a }, setClipTotalParts: function (a) { if (b.isDefined(a) && a !== "") { this.objClip[this.LABEL.CLIP.TOTAL_PARTS] = a } else { switch (this.objAx.typeClip) { case "CLIP": case "SEPARATE_ITEM": this.objClip[this.LABEL.CLIP.TOTAL_PARTS] = 999; break; default: this.objClip[this.LABEL.CLIP.TOTAL_PARTS] = 1 } } }, setClipTypeStream: function (d) { var a = d; if (this.objClip[this.LABEL.CLIP.AD] === 1) { a = this.TYPE_STREAM.AD.PREROLL } if (b.isEmpty(a)) { if (this.objAx.objPlayer.isLive()) { a = this.TYPE_STREAM.VLS } else { if (this.objAx.objPlayer.isYoutube()) { a = this.TYPE_STREAM.YOUTUBE } else { a = this.TYPE_STREAM.VOD } } } this.objClip[this.LABEL.CLIP.TYPE_STREAM] = a }, setClipVrtDate: function (a) { if (b.isEmpty(a)) { a = this.objAx.EMPTY } this.objClip[this.LABEL.CLIP.VRT_DATE] = a }, setClipVrtId: function (a) { if (b.isEmpty(a)) { a = this.objAx.EMPTY } this.objClip[this.LABEL.CLIP.VRT_ID] = a }, setClipVrtRef: function (a) { if (b.isEmpty(a)) { a = document.referrer } this.objClip[this.LABEL.CLIP.VRT_REF] = a }, setClipVrtSynd: function (a) { if (b.isEmpty(a)) { return } this.objClip[this.LABEL.CLIP.VRT_SYND] = a }, setPlaylist: function (a) { if (b.isEmpty(a)) { return } this.objPlaylist[this.LABEL.PLAYLIST_TITLE] = a }, setUrl: function (a) { if (b.isEmpty(a)) { return } this.url = a }, validate: function () { var d = [], a = [this.LABEL.CLIP.NUMBER, this.LABEL.CLIP.CONTENT_ID, this.LABEL.CLIP.LENGTH, this.LABEL.CLIP.PART, this.LABEL.CLIP.TOTAL_PARTS]; b._.each(a, function (c) { if (!b.isDefined(this.objClip[c])) { d.push("No StreamSense analytics : property '" + c + "' is not defined in config") } }, this); if (d.length > 0) { b._.each(d, function (c) { b.error({ id: this.objAx.objPlayer.id, msg: c }) }, this); return false } return true } }) })(vamp);
(function (b) { b.api = { BUILD: b.BUILD, NAME: "$vamp", VERSION: b.VERSION, create: function (a) { b.player.create(a) }, expose: function () { b.expose() }, noConflict: function (a) { b.noConflict(b.api, a) }, toString: function () { return "{" + b.NAME + ".api}" }, clear: b.fn.delegate(b.debug, b.debug.clear), error: b.fn.delegate(b.debug, b.debug.error), groupBegin: b.fn.delegate(b.groupBegin, b.debug.groupBegin), groupEnd: b.fn.delegate(b.groupEnd, b.debug.groupEnd), info: b.fn.delegate(b.debug, b.debug.info), log: b.fn.delegate(b.debug, b.debug.log), trace: b.fn.delegate(b.debug, b.debug.trace), warn: b.fn.delegate(b.debug, b.debug.warn) }; b.api.fn = function (a) { return { getHeight: function () { return b.coll.exec("getHeight", a) }, getWidth: function () { return b.coll.exec("getWidth", a) }, inspect: function () { b.coll.exec("inspect", a) }, off: function (d) { b.coll.exec("off", a, d) }, on: function (e, f) { b.coll.exec("on", a, [e, f]) }, pause: function () { b.coll.exec("pause", a) }, play: function () { b.coll.exec("play", a) }, seek: function (d) { b.coll.exec("seek", a, d) }, remove: function () { b.coll.exec("remove", a) }, toggle: function () { b.coll.exec("toggle", a) } } } })(vamp);
(function (b) { b._.extend(b, b.fn); b.error = b.delegate(b.debug, b.debug.error); b.clear = b.delegate(b.debug, b.debug.clear); b.groupBegin = b.delegate(b.debug, b.debug.groupBegin); b.groupEnd = b.delegate(b.debug, b.debug.groupEnd); b.info = b.delegate(b.debug, b.debug.info); b.log = b.delegate(b.debug, b.debug.log); b.trace = b.delegate(b.debug, b.debug.trace); b.warn = b.delegate(b.debug, b.debug.warn); b.detect.init(); b.ax.ga.init(); b.expose(b.api, function () { return b.api.fn(arguments) }); b._.extend(b.global[b.api.NAME], new b.api.fn()); b.noConflict() })(vamp);
